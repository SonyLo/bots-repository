import{G as h,L as u,q as l,t as a,v as t,z as g,D as i,y as r,F as d,C as m,H as b,x as p}from"./index.es-71d37bd0.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";const y={data(){return{bots:[]}},computed:{...h(["getBots"]),getSelf(){return window.profile||null},slotsPercent(){return this.bots.length/this.summarySlotCount*100},summarySlotCount(){return this.getSelf.manager.max_bot_slot_count+this.bots.length}},mounted(){this.loadBots()},methods:{loadBots(){this.$store.dispatch("loadBots").then(()=>{this.bots=this.getBots||[]})},loadCurrentBot(s=null){this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{this.bot=this.getCurrentBot})},gotoBot(s){this.loadCurrentBot(s),localStorage.setItem("cashman_set_botform_step_index",0),localStorage.setItem("cashman_set_botpage_step_index",2),window.location.href="/bot-page"},callback(s){this.$emit("callback",s)}}},f={class:"container pt-5"},x=t("h6",null,"Ваши доступные слоты",-1),k={class:"row"},w={class:"col-md-6"},B={class:"progress",role:"progressbar","aria-label":"Success striped example","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},C={class:"col-md-6 d-flex justify-content-between"},S={key:0,class:"container pb-5"},z=t("h6",null,"Ваши созданные боты",-1),D={class:"row row-cols-1 row-cols-lg-3 row-cols-md-1 g-4"},L={class:"col"},M={class:"card h-100"},F={class:"card-img-top"},P={class:"card-body"},j={class:"card-title text-center"},G={class:"card-text text-center"},I=["onClick"],N={key:1,class:"container"},V=t("div",{class:"alert alert-info",role:"alert"},[t("p",null,"У вас еще нет созданных ботов, попробуйте с чего-то простого;)")],-1),$={class:"d-flex justify-content-center"};function q(s,n,E,H,c,o){const _=u("lazy");return l(),a(d,null,[t("div",f,[x,t("div",k,[t("div",w,[t("div",B,[t("div",{class:"progress-bar progress-bar-striped bg-success",style:g({width:o.slotsPercent+"%"})},null,4)])]),t("div",C,[t("p",null,[i("У вас "),t("strong",null,r(o.getSelf.manager.max_bot_slot_count),1),i(" свободных слотов из "),t("strong",null,r(o.summarySlotCount),1),i(" доступных")]),t("a",{href:"#",onClick:n[0]||(n[0]=e=>o.callback(12))},"Пополнить слоты")])])]),c.bots.length>0?(l(),a("div",S,[z,t("div",D,[(l(!0),a(d,null,m(c.bots,e=>(l(),a("div",L,[t("div",M,[b(t("img",F,null,512),[[_,"/images-by-bot-id/"+e.id+"/"+e.image]]),t("div",P,[t("h5",j,r(e.title||e.id),1),t("p",G,r(e.short_description||"Без описания"),1)]),t("div",{class:p(["card-footer",{"bg-danger":(e.bot_token||"").length<40,"bg-success":(e.bot_token||"").length>=40}])},[t("button",{type:"button",onClick:T=>o.gotoBot(e),class:"btn btn-link text-white w-100"},"Редактировать",8,I)],2)])]))),256))])])):(l(),a("div",N,[V,t("div",$,[t("button",{class:"btn btn-primary",onClick:n[1]||(n[1]=e=>o.callback(0))},"Поехали создавать")])]))],64)}const K=v(y,[["render",q]]);export{K as M};
