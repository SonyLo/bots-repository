import{G as h,q as l,t as r,B as u,O as m,u as b,a1 as _,v as t,y as a,x as i,D as d,A as c,N as f,F as v,R as p,K as w}from"./index.es-f98e90e3.js";const y=t("title",null,"CashMan - система твоего бизнеса внутри",-1),k=t("meta",{name:"description",content:"CashMan - система твоего бизнеса внутри"},null,-1),T={"data-bs-theme":"dark"},$={class:"text-bg-dark collapse",id:"navbarHeader",style:{}},C={class:"container"},S={class:"row"},B={class:"col-sm-8 col-md-7 py-4"},V=t("h4",null,"О нас",-1),j={class:"text-body-primary mb-2"},x={class:"col-sm-4 offset-md-1 py-4"},L=t("h4",null,"Меню",-1),M={class:"list-unstyled"},q={key:0,class:"fw-bold"},A={class:"navbar navbar-dark bg-dark shadow-sm"},N={class:"container"},H=t("i",{class:"fa-brands fa-shopify mr-2"},null,-1),O=t("button",{class:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarHeader","aria-controls":"navbarHeader","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),E={class:"text-body-secondary",style:{padding:"0px 0px 90px 0px"}},F={class:"container g-2 d-flex justify-content-center flex-column align-items-center"},P=["innerHTML"],z={key:1,class:"mb-3 text-center"},D=t("i",{class:"fa-solid fa-map-location-dot mr-2"},null,-1),R={class:"mb-0"},G={class:"d-flex justify-content-center my-3"},U=t("i",{class:"fa-solid fa-arrow-up mr-2"},null,-1),W={watch:{$route(s){console.log("router",this.$route.name),this.$preloader.show(),this.$nextTick(()=>{document.body.scrollTop=document.documentElement.scrollTop=0})}},computed:{...h(["getSelf","cartTotalCount"]),tg(){return window.Telegram.WebApp},bot(){return window.currentBot}},mounted(){this.changeTheme(this.tg.colorScheme),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(s=>s.click()),this.$router.back()})},methods:{goTo(s){this.$router.push({name:s})},changeTheme(s){document.querySelectorAll("[data-bs-theme]").forEach(o=>{console.log("item",o),o.setAttribute("data-bs-theme",s)})},scrollTop(){window.scrollTo(0,80)},openLink(s){this.tg.openLink(s,{try_instant_view:!0})},closeShop(){this.tg.close()}}},J=Object.assign(W,{__name:"SimpleLayout",setup(s){return(e,o)=>(l(),r(v,null,[u(b(_),null,{default:m(()=>[y,k]),_:1}),t("header",T,[t("div",$,[t("div",C,[t("div",S,[t("div",B,[V,t("p",j,a(e.bot.long_description||"Без описания"),1)]),t("div",x,[L,t("ul",M,[t("li",null,[t("a",{class:i([{"fw-bold":e.$route.name==="MenuV2"},"text-white"]),onClick:o[0]||(o[0]=n=>e.goTo("MenuV2")),href:"javascript:void(0)"},"Главное меню",2)]),t("li",null,[t("a",{class:i([{"fw-bold":e.$route.name==="ProfileV2"},"text-white"]),onClick:o[1]||(o[1]=n=>e.goTo("ProfileV2")),href:"javascript:void(0)"},"Профиль",2)]),t("li",null,[t("a",{class:i([{"fw-bold":e.$route.name==="CatalogV2"},"text-white"]),onClick:o[2]||(o[2]=n=>e.goTo("CatalogV2")),href:"javascript:void(0)"},"Каталог товаров",2)]),t("li",null,[t("a",{class:i([{"fw-bold":e.$route.name==="ShopCartV2"},"text-white"]),onClick:o[3]||(o[3]=n=>e.goTo("ShopCartV2")),href:"javascript:void(0)"},[d("Корзина "),e.cartTotalCount>0?(l(),r("span",q,"("+a(e.cartTotalCount)+")",1)):c("",!0)],2)])])])])])]),t("div",A,[t("div",N,[t("a",{href:"javascript:void(0)",onClick:o[4]||(o[4]=n=>e.goTo("MenuV2")),class:"navbar-brand d-flex align-items-center px-3"},[t("strong",null,[H,d(" "+a(e.$route.meta.title||"Меню"),1)])]),O])])]),f(e.$slots,"default"),t("footer",E,[t("div",F,[e.$route.name!="FeedBackV2"?(l(),r("button",{key:0,onClick:o[5]||(o[5]=n=>e.goTo("FeedBackV2")),class:"btn btn-link mb-2 w-100 p-3 text-primary"},"Обратная связь")):c("",!0),t("p",{class:"mb-3 text-center",innerHTML:e.bot.company.description},null,8,P),e.bot.company.address?(l(),r("p",z,[D,d(a(e.bot.company.address),1)])):c("",!0),t("p",R,a(e.bot.company.title)+"©2024",1),t("p",G,[t("a",{href:"javascript:void(0)",onClick:o[6]||(o[6]=(...n)=>e.scrollTop&&e.scrollTop(...n))},[U,d("Вернуться наверх")])])])])],64))}}),K={computed:{...h(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return window.self||null},tg(){return window.Telegram.WebApp},tgUser(){const s=new URLSearchParams(this.tg.initData);return JSON.parse(s.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},created(){window.currentBot=this.bot.data,window.currentScript=this.slug_id||null,this.$store.dispatch("loadSelf").then(()=>{window.self=this.getSelf}),this.$notify({title:"Главная",text:"Успешно!",type:"success"})},methods:{open(s){this.tg.openLink(s)}}},I=Object.assign(K,{__name:"SimpleMain",props:{bot:{type:Object},slug_id:{type:String}},setup(s){return(e,o)=>{const n=p("notifications"),g=p("router-view");return l(),w(J,null,{default:m(()=>[u(n,{position:"top right",width:"100%",speed:"100"}),u(g,{bot:s.bot},null,8,["bot"])]),_:1})}}});export{I as default};
