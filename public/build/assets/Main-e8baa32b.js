var oe=Object.defineProperty;var ae=(o,s,n)=>s in o?oe(o,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[s]=n;var L=(o,s,n)=>(ae(o,typeof s!="symbol"?s+"":s,n),n);import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import{a5 as ne,a6 as ie,a7 as le,F as S,a8 as ce,a9 as re,aa as de,ab as he,ac as ue,ad as pe,ae as me,af as _e,ag as fe,ah as be,ai as ge,aj as ve,ak as ye,al as we,am as ke,an as $e,f as xe,c as Ce,H as z,z as b,q as r,t as e,ao as je,ap as Me,aq as Oe,ar as Te,as as Be,J as q,C as v,A as d,at as Pe,au as Se,j as Re,av as qe,aw as Le,ax as Ae,ay as Ee,az as Ge,aA as Fe,aB as Ie,W as Ne,a3 as ze,aC as Ue,aD as Ye,aE as Ve,d as De,aF as He,aG as Ke,aH as We,aI as Qe,k as Je,aJ as Ze,aK as Xe,aL as et,aM as tt,Z as st,aN as ot,aO as at,aP as nt,aQ as it,aR as lt,aS as ct,n as rt,v as dt,aT as ht,y as ut,aU as pt,aV as mt,aW as _t,aX as ft,aY as bt,aZ as gt,a1 as vt,a_ as yt,a$ as wt,b0 as kt,b1 as $t,b2 as xt,b3 as Ct,o as c,Q as jt,p as Mt,b4 as Ot,P as Tt,b5 as Bt,g as Pt,b6 as St,l as Rt,b7 as qt,b8 as Lt,B as F,L as At,S as R,K as A,b9 as Et,ba as Gt,bb as Ft,bc as It,bd as Nt,be as zt,bf as Ut,bg as Yt,s as Vt,bh as Dt,bi as Ht,bj as Kt,x as p,bk as Wt,bl as Qt,bm as Jt,bn as Zt,bo as Xt,bp as es,bq as ts,u as ss,br as os,bs as as,bt as ns,bu as is,bv as ls,bw as cs,O as rs,bx as ds,a4 as hs,T as us,G as O,a0 as ps,by as ms,bz as _s,w as fs,bA as bs,bB as gs,bC as vs,bD as ys,M as _,bE as ws,D as C,a2 as ks,bF as $s,N as E,bG as xs,bH as Cs}from"./index.es-49ee4a70.js";import{m as I}from"./index-7247f9e7.js";import{_ as js}from"./ShopLayout-3c78f29a.js";import"./app-fd0e9072.js";import"./vue3-json-editor.esm.prod-55d6cbc3.js";import"./v4-a960c1f4.js";import"./TelegramChannelHelper-db45fbf9.js";/* empty css                                                               */import"./vue3-perfect-scrollbar-a1bec24d.js";const Ms=()=>{},Os=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ne,Comment:ie,EffectScope:le,Fragment:S,KeepAlive:ce,ReactiveEffect:re,Static:de,Suspense:he,Teleport:ue,Text:pe,Transition:me,TransitionGroup:_e,VueElement:fe,assertNumber:be,callWithAsyncErrorHandling:ge,callWithErrorHandling:ve,camelize:ye,capitalize:we,cloneVNode:ke,compatUtils:$e,compile:Ms,computed:xe,createApp:Ce,createBlock:z,createCommentVNode:b,createElementBlock:r,createElementVNode:e,createHydrationRenderer:je,createPropsRestProxy:Me,createRenderer:Oe,createSSRApp:Te,createSlots:Be,createStaticVNode:q,createTextVNode:v,createVNode:d,customRef:Pe,defineAsyncComponent:Se,defineComponent:Re,defineCustomElement:qe,defineEmits:Le,defineExpose:Ae,defineProps:Ee,defineSSRCustomElement:Ge,get devtools(){return Fe},effect:Ie,effectScope:Ne,getCurrentInstance:ze,getCurrentScope:Ue,getTransitionRawChildren:Ye,guardReactiveProps:Ve,h:De,handleError:He,hydrate:Ke,initCustomFormatter:We,initDirectivesForSSR:Qe,inject:Je,isMemoSame:Ze,isProxy:Xe,isReactive:et,isReadonly:tt,isRef:st,isRuntimeOnly:ot,isShallow:at,isVNode:nt,markRaw:it,mergeDefaults:lt,mergeProps:ct,nextTick:rt,normalizeClass:dt,normalizeProps:ht,normalizeStyle:ut,onActivated:pt,onBeforeMount:mt,onBeforeUnmount:_t,onBeforeUpdate:ft,onDeactivated:bt,onErrorCaptured:gt,onMounted:vt,onRenderTracked:yt,onRenderTriggered:wt,onScopeDispose:kt,onServerPrefetch:$t,onUnmounted:xt,onUpdated:Ct,openBlock:c,popScopeId:jt,provide:Mt,proxyRefs:Ot,pushScopeId:Tt,queuePostFlushCb:Bt,reactive:Pt,readonly:St,ref:Rt,registerRuntimeCompiler:qt,render:Lt,renderList:F,renderSlot:At,resolveComponent:R,resolveDirective:A,resolveDynamicComponent:Et,resolveFilter:Gt,resolveTransitionHooks:Ft,setBlockTracking:It,setDevtoolsHook:Nt,setTransitionHooks:zt,shallowReactive:Ut,shallowReadonly:Yt,shallowRef:Vt,ssrContextKey:Dt,ssrUtils:Ht,stop:Kt,toDisplayString:p,toHandlerKey:Wt,toHandlers:Qt,toRaw:Jt,toRef:Zt,toRefs:Xt,transformVNodeArgs:es,triggerRef:ts,unref:ss,useAttrs:os,useCssModule:as,useCssVars:ns,useSSRContext:is,useSlots:ls,useTransitionState:cs,vModelCheckbox:rs,vModelDynamic:ds,vModelRadio:hs,vModelSelect:us,vModelText:O,vShow:ps,version:ms,warn:_s,watch:fs,watchEffect:bs,watchPostEffect:gs,watchSyncEffect:vs,withAsyncContext:ys,withCtx:_,withDefaults:ws,withDirectives:C,withKeys:ks,withMemo:$s,withModifiers:E,withScopeId:xs},Symbol.toStringTag,{value:"Module"}));const Ts={data(){return{title:null,text:null}},mounted(){window.addEventListener("notification",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#notification-1").toast("show")}),window.addEventListener("success",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#menu-success-1").showMenu()}),window.addEventListener("warning",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#menu-warning-1").showMenu()})}},Bs={id:"notification-1","data-dismiss":"notification-1","data-delay":"3000","data-autohide":"true",class:"notification notification-ios bg-dark1-dark"},Ps=e("span",{class:"notification-icon"},[e("i",{class:"fa fa-bell"}),e("em",null,"Оповещение"),e("i",{"data-dismiss":"notification-1",class:"fa fa-times-circle"})],-1),Ss={class:"font-15 color-white mb-n3"},Rs={class:"pt-2"},qs={id:"menu-success-1",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{display:"block",height:"305px"}},Ls=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-check-circle color-green1-dark"})],-1),As={class:"text-center mt-3 text-uppercase font-700"},Es=["innerHTML"],Gs=e("a",{"data-dismiss":"menu-success-1",class:"close-menu btn btn-m btn-center-m button-s shadow-l rounded-s text-uppercase font-900 bg-green1-light"},"Хорошо",-1),Fs={id:"menu-warning-1",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{display:"block",height:"305px"}},Is=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-times color-red2-dark"})],-1),Ns={class:"text-center mt-3 text-uppercase font-700"},zs=["innerHTML"],Us=e("a",{"data-dismiss":"menu-warning-1",class:"close-menu btn btn-m btn-center-m button-s shadow-l rounded-s text-uppercase font-900 bg-red1-light"},"Хорошо",-1);function Ys(o,s,n,l,t,i){return c(),r(S,null,[e("div",Bs,[Ps,e("h1",Ss,p(t.title||"Системное"),1),e("p",Rs,p(t.text||"Ошибка отображения текста"),1)]),e("div",qs,[Ls,e("h1",As,p(t.title||"Системное"),1),e("p",{class:"boxed-text-l",innerHTML:t.text},null,8,Es),Gs]),e("div",Fs,[Is,e("h1",Ns,p(t.title||"Системное"),1),e("p",{class:"boxed-text-l",innerHTML:t.text},null,8,zs),Us])],64)}const Vs=y(Ts,[["render",Ys]]),Ds={data(){return{product:null}},computed:{...I(["inCart","cartTotalCount","inFav"]),currentBot(){return window.currentBot},self(){return window.self},currentPrice(){return this.product.current_price},checkInCart(){return this.inCart(this.product.id)}},mounted(){window.addEventListener("add-to-cart",o=>{this.product=o.detail.product||null,this.product.in_favorite=this.inFav(this.product.id),this.$nextTick(()=>{$("#menu-product-info").showMenu()})})},methods:{removeFromFavorites(){this.product.in_favorite=!1,this.$store.dispatch("removeFromFavorites",this.product.id).then(()=>{this.$botNotification.notification("Избранное","Успешно удалено из избранного!")})},addToFavorite(){this.product.in_favorite=!0,this.$store.dispatch("addToFavorites",this.product).then(()=>{this.$botNotification.notification("Избранное","Успешно добавлено в избранное!")})},goToProduct(){this.$router.push({name:"product",params:{productId:this.product.id}}),$("#menu-product-info").hideMenu()},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.product):this.$store.dispatch("incQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Успешно добавлено в корзину!")},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Товар удален!")}}},Hs={id:"menu-product-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"220px",display:"block"},"data-menu-effect":"menu-over"},Ks={key:0,class:"w-100"},Ws={class:"text-center font-700 mt-3 pt-1 px-4"},Qs={key:0,class:"row text-center mr-2 ml-2 mb-3"},Js={class:"col-4 mb-n2"},Zs=e("i",{class:"fa-solid fa-plus font-22"},null,-1),Xs=[Zs],eo={class:"col-4 mb-n2 d-flex justify-content-center align-items-center"},to={class:"font-22"},so={class:"col-4 mb-n2"},oo=e("i",{class:"fa-solid fa-minus font-22"},null,-1),ao=[oo],no={key:1,class:"row text-center mr-2 ml-2 mb-3"},io={class:"col-12 mb-n2"},lo=e("i",{class:"fa-solid fa-cart-plus font-12"},null,-1),co={class:"row text-center mr-2 ml-2 mb-3"},ro={class:"col-12 mb-n2"},ho=e("i",{class:"fa-regular fa-heart font-12"},null,-1),uo=e("i",{class:"fa-solid fa-heart font-12"},null,-1);function po(o,s,n,l,t,i){return c(),r("div",Hs,[t.product?(c(),r("div",Ks,[e("h4",Ws,p(t.product.title||"Нет заголовка"),1),i.checkInCart>0?(c(),r("div",Qs,[e("div",Js,[e("button",{type:"button",onClick:s[0]||(s[0]=(...a)=>i.incProductCart&&i.incProductCart(...a)),class:"btn p-3 w-100 bg-highlight rounded-s shadow-l"},Xs)]),e("div",eo,[e("strong",to,p(i.checkInCart),1)]),e("div",so,[e("button",{onClick:s[1]||(s[1]=(...a)=>i.decProductCart&&i.decProductCart(...a)),type:"button",class:"btn p-3 w-100 bg-red1-dark rounded-s shadow-l"},ao)])])):(c(),r("div",no,[e("div",io,[e("button",{type:"button",onClick:s[2]||(s[2]=(...a)=>i.incProductCart&&i.incProductCart(...a)),class:"btn p-3 bg-highlight rounded-s shadow-l w-100"},[lo,v(" В корзину "),e("strong",null,p(i.currentPrice)+"₽",1)])])])),e("div",co,[e("div",ro,[t.product.in_favorite?(c(),r("button",{key:1,type:"button",onClick:s[4]||(s[4]=(...a)=>i.removeFromFavorites&&i.removeFromFavorites(...a)),class:"btn p-3 bg-highlight rounded-s shadow-l w-100"},[uo,v(" Убрать из избранного ")])):(c(),r("button",{key:0,type:"button",onClick:s[3]||(s[3]=(...a)=>i.addToFavorite&&i.addToFavorite(...a)),class:"btn p-3 bg-red2-dark rounded-s shadow-l w-100"},[ho,v(" В избранное ")]))])])])):b("",!0)])}const mo=y(Ds,[["render",po]]),_o={data(){return{item:null}},mounted(){window.addEventListener("show-chashback-info",o=>{this.item=o.detail.item||null,this.$nextTick(()=>{$("#cashback-item-info").showMenu()})})},methods:{}},fo={id:"cashback-item-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"50vh",display:"block"},"data-menu-effect":"menu-over"},bo={key:0,class:"w-100"},go={class:"table table-borderless rounded-sm shadow-l m-0",style:{overflow:"hidden"}},vo=e("thead",null,[e("tr",{class:"bg-gray1-dark"},[e("th",{scope:"col",class:"color-theme"},"Параметр"),e("th",{scope:"col",class:"color-theme"},"Значение")])],-1),yo=e("th",{scope:"row"},"Тип операции",-1),wo={class:"font-weight-bold"},ko=e("th",{scope:"row"},"Сумма CashBack, руб",-1),$o={class:"font-weight-bold"},xo={key:0},Co=e("th",{scope:"row"},"Уровень начисления",-1),jo={class:"font-weight-bold"},Mo={key:1},Oo=e("th",{scope:"row"},"Сумма в чеке, руб",-1),To={class:"font-weight-bold"},Bo=e("th",{scope:"row"},"Дата операции",-1),Po={class:"font-weight-bold"},So=e("th",{scope:"row"},"Описание операции",-1),Ro={class:"font-weight-bold"},qo=e("th",{scope:"row"},"TG id сотрудника",-1),Lo={class:"font-weight-bold"},Ao=e("th",{scope:"row"},"Имя сотрудника",-1),Eo={class:"font-weight-bold"},Go=e("th",{scope:"row"},"Телефон сотрудника",-1),Fo={class:"font-weight-bold"};function Io(o,s,n,l,t,i){return c(),r("div",fo,[t.item?(c(),r("div",bo,[e("table",go,[vo,e("tbody",null,[e("tr",null,[yo,e("td",wo,p(t.item.operation_type?"Начисление":"Списание"),1)]),e("tr",null,[ko,e("td",$o,p(t.item.amount||0),1)]),t.item.operation_type?(c(),r("tr",xo,[Co,e("td",jo,p(t.item.level||0),1)])):b("",!0),t.item.operation_type?(c(),r("tr",Mo,[Oo,e("td",To,p(t.item.money_in_check||0),1)])):b("",!0),e("tr",null,[Bo,e("td",Po,p(o.$filters.current(t.item.created_at)),1)]),e("tr",null,[So,e("td",Ro,p(t.item.description||"Нет описания"),1)]),e("tr",null,[qo,e("td",Lo,p(t.item.employee.telegram_chat_id||"Не указано"),1)]),e("tr",null,[Ao,e("td",Eo,p(t.item.employee.fio_from_telegram||"Не указано"),1)]),e("tr",null,[Go,e("td",Fo,p(t.item.employee.phone||"Не указано"),1)])])])])):b("",!0)])}const No=y(_o,[["render",Io]]),zo={props:{code:{type:String,default:"001"}},computed:{self(){return window.self},script(){return window.currentScript},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){switch(this.code){default:case"001":return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa((this.code||"001")+this.self.telegram_chat_id);case"002":return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("002"+this.self.telegram_chat_id+"S"+this.script)}}},methods:{copy(){var o=$("<input>");$("body").append(o),o.val(this.link).select(),document.execCommand("copy"),o.remove()}}},Uo={class:"w-100 p-3 object-fit-cover my-0",alt:""};function Yo(o,s,n,l,t,i){const a=A("lazy");return c(),r(S,null,[C(e("img",Uo,null,512),[[a,i.qr]]),e("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=E((...m)=>i.copy&&i.copy(...m),["prevent"])),class:"btn btn-link w-100 text-center"},"Скопировать ссылку")],64)}const H=y(zo,[["render",Yo]]),Vo={id:"qr-code",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"70vh",display:"block"},"data-menu-effect":"menu-over"},Do={key:0,class:"w-100 p-3"},Ho=e("p",{class:"mb-0 text-center"},"Дайте отсканировать этот QR-код для начисления или обмена бонусов:)",-1),Ko={data(){return{code:null}},mounted(){window.addEventListener("show-qr-code",o=>{this.code=o.detail.code||null,this.$nextTick(()=>{$("#qr-code").showMenu()})})},methods:{}},Wo=Object.assign(Ko,{__name:"QrCodeModal",setup(o){return(s,n)=>(c(),r("div",Vo,[s.code?(c(),r("div",Do,[Ho,d(H,{code:s.code},null,8,["code"])])):b("",!0)]))}}),Qo={data(){return{params:{win:"Номер выигрыша",name:"Ф.И.О.",phone:"Телефон",answered_by:"Кто проверил",answered_at:"Дата ответа"},item:null,eventCallbackForm:{info:null},loading:!1}},mounted(){window.addEventListener("show-event-info",o=>{this.item=o.detail.item||null,this.$nextTick(()=>{$("#event-item-info").showMenu()})})},methods:{sendApproveToUser(){this.loading=!0,this.$store.dispatch("sendApproveToUser",{dataObject:{user_telegram_chat_id:this.item.bot_user.telegram_chat_id,action_id:this.item.id,...this.eventCallbackForm}}).then(o=>{this.loading=!1,this.eventCallbackForm.info=null,$("#event-item-info").hideMenu(),this.$botNotification.success("Отлично!","Оповещение успешно отправлено")}).catch(()=>{this.loading=!1,$("#event-item-info").hideMenu(),this.$botNotification.warning("Упс!","Что-то пошло не так")})}}},Jo={id:"event-item-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"50vh",display:"block"},"data-menu-effect":"menu-over"},Zo={key:0,class:"w-100 p-3"},Xo=e("h4",null,"Информирование пользователя",-1),ea={key:0},ta={key:1},sa={class:"mb-0"},oa={class:"mb-3"},aa=e("label",{for:"bill-info",class:"form-label"},"Сообщение для пользователя",-1),na={class:"mb-3"},ia=["disabled"];function la(o,s,n,l,t,i){return c(),r("div",Jo,[t.item?(c(),r("div",Zo,[Xo,e("ul",null,[e("li",null," № события: "+p(t.item.slug.id),1),e("li",null," Название события: "+p(t.item.slug.command),1),e("li",null," Использовано попыток: "+p(t.item.current_attempts),1),e("li",null,[v(" Дата прохождения: "),t.item.completed_at?(c(),r("span",ea,p(o.$filters.current(t.item.completed_at)),1)):(c(),r("span",ta,"Не установлена"))]),(c(!0),r(S,null,F(t.item.data,a=>(c(),r("li",null,[(c(!0),r(S,null,F(Object.keys(a),m=>(c(),r("p",sa,p(t.params[m])+":"+p(a[m]||"Не установлено"),1))),256))]))),256))]),e("form",{onSubmit:s[1]||(s[1]=E((...a)=>i.sendApproveToUser&&i.sendApproveToUser(...a),["prevent"]))},[e("div",oa,[aa,C(e("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":s[0]||(s[0]=a=>t.eventCallbackForm.info=a),id:"bill-info",rows:"3",required:""},null,512),[[O,t.eventCallbackForm.info]])]),e("div",na,[e("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,ia)])],32)])):b("",!0)])}const ca=y(Qo,[["render",la]]),ra={id:"menu-share",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"420px"}},da=e("h1",{class:"text-center font-700 font-26 mt-3 pt-2"},"Поделиться контактами",-1),ha=e("p",{class:"boxed-text-xl under-heading m-0 p-0"}," Делитесь ссылкой с друзьями ",-1),ua=e("div",{class:"divider divider-margins"},null,-1),pa={class:"row text-center mr-4 ml-4 mb-0"},ma={class:"col-3 mb-n2"},_a=e("i",{class:"fab fa-facebook-f font-22"},null,-1),fa=e("br",null,null,-1),ba=[_a,fa],ga=e("p",{class:"font-11 opacity-70"},"Facebook",-1),va={class:"col-3 mb-n2"},ya=e("i",{class:"fab fa-twitter font-22"},null,-1),wa=e("br",null,null,-1),ka=[ya,wa],$a=e("p",{class:"font-11 opacity-70"},"Twitter",-1),xa={class:"col-3 mb-n2"},Ca=e("i",{class:"fa-brands fa-vk font-22"},null,-1),ja=e("br",null,null,-1),Ma=[Ca,ja],Oa=e("p",{class:"font-11 opacity-70"},"VK",-1),Ta={class:"col-3 mb-n2"},Ba=e("i",{class:"fa fa-envelope font-22"},null,-1),Pa=e("br",null,null,-1),Sa=[Ba,Pa],Ra=e("p",{class:"font-11 opacity-70"},"Email",-1),qa={class:"col-3 mb-n2"},La=e("i",{class:"fab fa-whatsapp font-22"},null,-1),Aa=e("br",null,null,-1),Ea=[La,Aa],Ga=e("p",{class:"font-11 opacity-70"},"WhatsApp",-1),Fa={class:"col-3 mb-n2"},Ia=e("i",{class:"fa fa-link font-22"},null,-1),Na=e("br",null,null,-1),za=[Ia,Na],Ua=e("p",{class:"font-11 opacity-70"},"Копировать",-1),Ya={class:"col-3 mb-n2"},Va=e("i",{class:"fab fa-pinterest-p font-22"},null,-1),Da=e("br",null,null,-1),Ha=[Va,Da],Ka=e("p",{class:"font-11 opacity-70"},"Pinterest",-1),Wa=e("div",{class:"col-3 mb-n2"},[e("a",{href:"#",class:"close-menu icon icon-l bg-red2-dark rounded-s shadow-l text-white"},[e("i",{class:"fa fa-times font-22"}),e("br")]),e("p",{class:"font-11 opacity-70"},"Закрыть")],-1),Qa=e("div",{class:"divider divider-margins mt-n1 mb-3"},null,-1),Ja=e("div",{class:"divider divider-margins mt-n1 mb-3"},null,-1),Za=e("p",{class:"footer-copyright font-10 text-center pb-3 mb-1"},[v("© CashMan "),e("span",{id:"copyright-year"},"2023"),v(". Все Права защищены.")],-1),Xa={computed:{self(){return window.self},tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},methods:{open(o){this.tg.openLink(o)},copy(){var o=$("<input>");$("body").append(o),o.val(this.link).select(),document.execCommand("copy"),o.remove()}}},en=Object.assign(Xa,{__name:"ShareMenuBar",setup(o){return(s,n)=>(c(),r("div",ra,[da,ha,ua,e("div",pa,[e("div",ma,[e("a",{href:"#",onClick:n[0]||(n[0]=l=>s.open("https://www.facebook.com/sharer/sharer.php?u="+s.link)),class:"icon icon-l bg-facebook rounded-s shadow-l text-white"},ba),ga]),e("div",va,[e("a",{href:"#",onClick:n[1]||(n[1]=l=>s.open("https://twitter.com/home?status="+s.link)),class:"icon icon-l bg-twitter rounded-s shadow-l text-white"},ka),$a]),e("div",xa,[e("a",{href:"#",onClick:n[2]||(n[2]=l=>s.open("https://vk.com/share.php?url="+s.link)),class:"icon icon-l bg-linkedin rounded-s shadow-l text-white"},Ma),Oa]),e("div",Ta,[e("a",{href:"#",onClick:n[3]||(n[3]=l=>s.open("mailto:?body="+s.link)),class:"icon icon-l bg-mail rounded-s shadow-l text-white"},Sa),Ra]),e("div",qa,[e("a",{href:"#",onClick:n[4]||(n[4]=l=>s.open("whatsapp://send?text="+s.link)),class:"icon icon-l bg-whatsapp rounded-s shadow-l text-white"},Ea),Ga]),e("div",Fa,[e("a",{href:"#",onClick:n[5]||(n[5]=(...l)=>s.copy&&s.copy(...l)),class:"shareToCopyLink icon icon-l bg-blue2-dark rounded-s shadow-l text-white"},za),Ua]),e("div",Ya,[e("a",{href:"#",onClick:n[6]||(n[6]=l=>s.open("https://pinterest.com/pin/create/button/?url="+s.link)),class:"icon icon-l bg-pinterest rounded-s shadow-l text-white"},Ha),Ka]),Wa]),Qa,d(H,{code:"001"}),Ja,Za]))}}),tn={},sn={id:"menu-highlights",class:"menu menu-box-bottom menu-box-detached rounded-m",style:{display:"block",height:"510px"}},on=q('<div class="card header-card shape-rounded h-40"><div class="card-overlay bg-highlight opacity-95"></div><div class="card-bg preload-img" data-src="images/pictures/20s.jpg"></div></div><h1 class="text-center mt-4 font-35 font-800">CashMan</h1><p class="text-center font-12 mt-n1 pb-2 mb-3">Добавь красок в свою жизнь</p><div class="card card-style"><div class="highlight-changer pt-3 pb-2"><p class="text-center px-3"> Доступные цветовые схемы для использования в приложении. Нажми на кружочек и цветовая схема автоматически будет применена. </p><a href="#" data-change-highlight="blue2"><i class="fa fa-circle color-blue2-dark"></i><span class="color-blue2-light">Default</span></a><a href="#" data-change-highlight="red2"><i class="fa fa-circle color-red1-dark"></i><span class="color-red2-light">Red</span></a><a href="#" data-change-highlight="orange"><i class="fa fa-circle color-orange-dark"></i><span class="color-orange-light">Orange</span></a><a href="#" data-change-highlight="pink2"><i class="fa fa-circle color-pink2-dark"></i><span class="color-pink2-light">Pink</span></a><a href="#" data-change-highlight="magenta2"><i class="fa fa-circle color-magenta2-dark"></i><span class="color-magenta2-light">Purple</span></a><a href="#" data-change-highlight="aqua"><i class="fa fa-circle color-aqua-dark"></i><span class="color-aqua-light">Aqua</span></a><a href="#" data-change-highlight="teal"><i class="fa fa-circle color-teal-dark"></i><span class="color-teal-light">Teal</span></a><a href="#" data-change-highlight="mint"><i class="fa fa-circle color-mint-dark"></i><span class="color-mint-light">Mint</span></a><a href="#" data-change-highlight="green2"><i class="fa fa-circle color-green2-dark"></i><span class="color-green2-light">Green</span></a><a href="#" data-change-highlight="green1"><i class="fa fa-circle color-green1-dark"></i><span class="color-green1-light">Grass</span></a><a href="#" data-change-highlight="yellow2"><i class="fa fa-circle color-yellow2-dark"></i><span class="color-yellow2-light">Sunny</span></a><a href="#" data-change-highlight="yellow1"><i class="fa fa-circle color-yellow1-dark"></i><span class="color-yellow1-light">Goldish</span></a><a href="#" data-change-highlight="brown1"><i class="fa fa-circle color-brown1-dark"></i><span class="color-brown1-light">Wood</span></a><a href="#" data-change-highlight="dark1"><i class="fa fa-circle color-dark1-dark"></i><span class="color-dark1-light">Night</span></a><a href="#" data-change-highlight="dark2"><i class="fa fa-circle color-dark2-dark"></i><span class="color-dark2-light">Dark</span></a><div class="clearfix"></div></div></div><a href="#" class="close-menu btn btn-full btn-margins rounded-sm shadow-l bg-highlight btn-m font-900 text-uppercase mb-0">Закрыть смену цвета</a>',5),an=[on];function nn(o,s,n,l,t,i){return c(),r("div",sn,an)}const ln=y(tn,[["render",nn]]),cn={data(){return{load:!1}},mounted(){window.addEventListener("preloader-toggle",o=>{this.load=!this.load}),window.addEventListener("preloader-hide",o=>{this.load=!1}),window.addEventListener("preloader-show",o=>{this.load=!0,setTimeout(()=>{this.load=!1},1e3)})}},rn={key:0,id:"preloader"},dn=e("div",{class:"spinner-border color-highlight",role:"status"},null,-1),hn=[dn];function un(o,s,n,l,t,i){return t.load?(c(),r("div",rn,hn)):b("",!0)}const pn=y(cn,[["render",un]]),mn={data(){return{isActive:!1}},computed:{...I(["cartTotalCount","favoritesCount"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){}},_n={id:"menu-main",class:"menu menu-box-right menu-box-detached rounded-m",style:{width:"260px",display:"block",height:"100vh","overflow-y":"scroll"}},fn={class:"menu-header"},bn=q('<a href="#" data-toggle-theme="" class="border-right-0"><i class="fa font-12 color-yellow1-dark fa-lightbulb"></i></a><a href="#" data-menu="menu-highlights" class="border-right-0"><i class="fa font-12 color-green1-dark fa-brush"></i></a><a href="#" data-menu="menu-share" class="border-right-0"><i class="fa font-12 color-red2-dark fa-share-alt"></i></a>',3),gn=e("i",{class:"fa color-blue2-dark fa-cog font-12"},null,-1),vn=e("a",{class:"border-right-0 close-menu"},[e("i",{class:"fa font-12 color-red2-dark fa-times"})],-1),yn={class:"menu-logo text-center"},wn={href:"#"},kn={class:"rounded-circle bg-highlight",width:"80"},$n={class:"p-3 font-800 font-24 text-uppercase"},xn={class:"font-11 mt-n2"},Cn=e("i",{class:"fa-solid fa-location-dot mr-2 text-danger"},null,-1),jn={class:"menu-items"},Mn=e("h5",{class:"text-uppercase opacity-20 font-12 pl-3"},"Главное меню",-1),On=e("i",{class:"fa-solid fa-house-chimney",style:{color:"lightblue"}},null,-1),Tn=e("span",null,"Главная",-1),Bn=e("i",{class:"fa fa-circle"},null,-1),Pn=e("i",{class:"fa-solid fa-basket-shopping"},null,-1),Sn=e("span",null,"Корзина",-1),Rn={key:0,class:"badge bg-highlight color-white"},qn=e("i",{class:"fa fa-circle"},null,-1),Ln=e("i",{class:"fa-solid fa-pizza-slice",style:{color:"orangered"}},null,-1),An=e("span",null,"Продукция",-1),En=e("i",{class:"fa fa-circle"},null,-1),Gn=e("i",{class:"fa-solid fa-star",style:{color:"orange"}},null,-1),Fn=e("span",null,"Избранное",-1),In={key:0,class:"badge bg-highlight color-white"},Nn=e("i",{class:"fa fa-circle"},null,-1),zn=e("i",{class:"fa-regular fa-clock",style:{color:"#842029"}},null,-1),Un=e("span",null,"История заказов",-1),Yn=e("strong",{class:"badge bg-highlight color-white"},"3",-1),Vn=e("i",{class:"fa fa-circle"},null,-1),Dn=e("i",{class:"fa-solid fa-people-group",style:{color:"#6f42c1"}},null,-1),Hn=e("span",null,"Наша команда",-1),Kn=e("i",{class:"fa fa-circle"},null,-1),Wn=e("i",{class:"fa-solid fa-star",style:{color:"orange"}},null,-1),Qn=e("span",null,"О нас",-1),Jn=e("i",{class:"fa fa-circle"},null,-1),Zn=e("i",{class:"fa-regular fa-circle-question",style:{color:"green"}},null,-1),Xn=e("span",null,"Правила сервиса",-1),ei=e("i",{class:"fa fa-circle"},null,-1),ti={href:"#",class:"close-menu"},si={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x","data-feather-line":"3","data-feather-size":"16","data-feather-color":"red2-dark","data-feather-bg":"red2-fade-dark",style:{width:"16px",height:"16px"}},oi=e("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),ai=e("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),ni=[oi,ai],ii=e("span",null,"Закрыть",-1),li=e("i",{class:"fa fa-circle"},null,-1),ci=q('<div class="text-center pt-2"><a href="#" class="icon icon-xs mr-1 rounded-s bg-facebook"><i class="fab fa-facebook"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-twitter"><i class="fab fa-twitter"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-instagram"><i class="fab fa-instagram"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-linkedin"><i class="fab fa-linkedin-in"></i></a><a href="#" class="icon icon-xs rounded-s bg-whatsapp"><i class="fab fa-whatsapp"></i></a><p class="mb-0 pt-3 font-10 opacity-30">Copyright <span class="copyright-year"></span> Enabled. All rights reserved</p></div>',1);function ri(o,s,n,l,t,i){const a=R("router-link"),m=A("lazy");return c(),r("div",_n,[e("div",fn,[bn,d(a,{class:"close-menu",tag:"a",to:"/settings"},{default:_(()=>[gn]),_:1}),vn]),e("div",yn,[e("a",wn,[C(e("img",kn,null,512),[[m,i.logo]])]),e("h1",$n,p(i.currentBot.company.title||i.currentBot.bot_domain||"CashMan:Shopify"),1),e("p",xn,[Cn,v(p(i.currentBot.company.address||"Без описания"),1)])]),e("div",jn,[Mn,d(a,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/home"},{default:_(()=>[On,Tn,Bn]),_:1}),d(a,{id:"nav-basket","active-class":"nav-item-active",tag:"a",to:"/basket"},{default:_(()=>[Pn,Sn,o.cartTotalCount>0?(c(),r("strong",Rn,p(o.cartTotalCount),1)):b("",!0),qn]),_:1}),d(a,{id:"nav-products","active-class":"nav-item-active",tag:"a",to:"/products"},{default:_(()=>[Ln,An,En]),_:1}),d(a,{id:"nav-favorites","active-class":"nav-item-active",tag:"a",to:"/favorites"},{default:_(()=>[Gn,Fn,o.favoritesCount>0?(c(),r("strong",In,p(o.favoritesCount),1)):b("",!0),Nn]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/history"},{default:_(()=>[zn,Un,Yn,Vn]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/our-team"},{default:_(()=>[Dn,Hn,Kn]),_:1}),d(a,{id:"nav-contact-us","active-class":"nav-item-active",tag:"a",to:"/contact-us"},{default:_(()=>[Wn,Qn,Jn]),_:1}),d(a,{id:"nav-terms","active-class":"nav-item-active",tag:"a",to:"/terms"},{default:_(()=>[Zn,Xn,ei]),_:1}),e("a",ti,[(c(),r("svg",si,ni)),ii,li])]),ci])}const di=y(mn,[["render",ri]]),hi={data(){return{isActive:!1}},computed:{...I(["cartTotalCount","favoritesCount"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){}},ui={id:"menu-admin-main",class:"menu menu-box-right menu-box-detached rounded-m",style:{width:"260px",display:"block",height:"100vh","overflow-y":"scroll"}},pi={class:"menu-header"},mi=q('<a href="#" data-toggle-theme="" class="border-right-0"><i class="fa font-12 color-yellow1-dark fa-lightbulb"></i></a><a href="#" data-menu="menu-highlights" class="border-right-0"><i class="fa font-12 color-green1-dark fa-brush"></i></a><a href="#" data-menu="menu-share" class="border-right-0"><i class="fa font-12 color-red2-dark fa-share-alt"></i></a>',3),_i=e("i",{class:"fa color-blue2-dark fa-cog font-12"},null,-1),fi=e("a",{class:"border-right-0 close-menu"},[e("i",{class:"fa font-12 color-red2-dark fa-times"})],-1),bi={class:"menu-logo text-center"},gi={href:"#"},vi={class:"rounded-circle bg-highlight",width:"80"},yi=e("h1",{class:"p-3 font-800 font-24 text-uppercase"},"Админ.панель",-1),wi={class:"font-11 mt-n2"},ki={class:"menu-items"},$i=e("h5",{class:"text-uppercase opacity-20 font-12 pl-3"},"Главное меню",-1),xi=e("i",{class:"fa-solid fa-house-chimney",style:{color:"lightblue"}},null,-1),Ci=e("span",null,"Главная",-1),ji=e("i",{class:"fa fa-circle"},null,-1),Mi=e("i",{class:"fa-solid fa-briefcase",style:{color:"saddlebrown"}},null,-1),Oi=e("span",null,"Рабочий день",-1),Ti=e("i",{class:"fa fa-circle"},null,-1),Bi=e("i",{class:"fa-solid fa-ranking-star",style:{color:"orangered"}},null,-1),Pi=e("span",null,"Статистика",-1),Si=e("i",{class:"fa fa-circle"},null,-1),Ri=e("i",{class:"fa-brands fa-adversal",style:{color:"orange"}},null,-1),qi=e("span",null,"Реклама",-1),Li=e("i",{class:"fa fa-circle"},null,-1),Ai=e("i",{class:"fa-regular fa-clock",style:{color:"#842029"}},null,-1),Ei=e("span",null,"История заказов",-1),Gi=e("strong",{class:"badge bg-highlight color-white"},"3",-1),Fi=e("i",{class:"fa fa-circle"},null,-1),Ii=e("i",{class:"fa-solid fa-bolt",style:{color:"#6f42c1"}},null,-1),Ni=e("span",null,"События",-1),zi=e("i",{class:"fa fa-circle"},null,-1),Ui=e("i",{class:"fa-regular fa-building",style:{color:"#ff5454"}},null,-1),Yi=e("span",null,"Настройка компании",-1),Vi=e("i",{class:"fa fa-circle"},null,-1),Di=e("i",{class:"fa-solid fa-robot",style:{color:"#00ff38"}},null,-1),Hi=e("span",null,"Настройка бота",-1),Ki=e("i",{class:"fa fa-circle"},null,-1),Wi=e("i",{class:"fa-solid fa-file-lines",style:{color:"#3f0909"}},null,-1),Qi=e("span",null,"Страницы бота",-1),Ji=e("i",{class:"fa fa-circle"},null,-1),Zi=e("i",{class:"fa-solid fa-scroll",style:{color:"#2963fa"}},null,-1),Xi=e("span",null,"Скрипты бота",-1),el=e("i",{class:"fa fa-circle"},null,-1),tl=e("i",{class:"fa-regular fa-comment-dots",style:{color:"#d2ab65"}},null,-1),sl=e("span",null,"Диалоги бота",-1),ol=e("i",{class:"fa fa-circle"},null,-1),al=e("i",{class:"fa-regular fa-keyboard",style:{color:"#1e5c67"}},null,-1),nl=e("span",null,"Клавиатуры бота",-1),il=e("i",{class:"fa fa-circle"},null,-1),ll=e("i",{class:"fa-solid fa-people-roof",style:{color:"#00b47a"}},null,-1),cl=e("span",null,"AMO CRM",-1),rl=e("i",{class:"fa fa-circle"},null,-1),dl=e("i",{class:"fa-solid fa-basket-shopping"},null,-1),hl=e("span",null,"Настройка магазина",-1),ul=e("i",{class:"fa fa-circle"},null,-1),pl={href:"#",class:"close-menu"},ml={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x","data-feather-line":"3","data-feather-size":"16","data-feather-color":"red2-dark","data-feather-bg":"red2-fade-dark",style:{width:"16px",height:"16px"}},_l=e("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),fl=e("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),bl=[_l,fl],gl=e("span",null,"Закрыть",-1),vl=e("i",{class:"fa fa-circle"},null,-1),yl=q('<div class="text-center pt-2"><a href="#" class="icon icon-xs mr-1 rounded-s bg-facebook"><i class="fab fa-facebook"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-twitter"><i class="fab fa-twitter"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-instagram"><i class="fab fa-instagram"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-linkedin"><i class="fab fa-linkedin-in"></i></a><a href="#" class="icon icon-xs rounded-s bg-whatsapp"><i class="fab fa-whatsapp"></i></a><p class="mb-0 pt-3 font-10 opacity-30">Copyright <span class="copyright-year"></span> Enabled. All rights reserved</p></div>',1);function wl(o,s,n,l,t,i){const a=R("router-link"),m=A("lazy");return c(),r("div",ui,[e("div",pi,[mi,d(a,{class:"close-menu",tag:"a",to:"/settings"},{default:_(()=>[_i]),_:1}),fi]),e("div",bi,[e("a",gi,[C(e("img",vi,null,512),[[m,i.logo]])]),yi,e("p",wi,p(i.currentBot.company.title||i.currentBot.bot_domain||"CashMan:Shopify"),1)]),e("div",ki,[$i,d(a,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/admin-main"},{default:_(()=>[xi,Ci,ji]),_:1}),d(a,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/admin-work-status"},{default:_(()=>[Mi,Oi,Ti]),_:1}),d(a,{id:"nav-products","active-class":"nav-item-active",tag:"a",to:"/admin-statistic"},{default:_(()=>[Bi,Pi,Si]),_:1}),d(a,{id:"nav-favorites","active-class":"nav-item-active",tag:"a",to:"/admin-promotion"},{default:_(()=>[Ri,qi,Li]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/history"},{default:_(()=>[Ai,Ei,Gi,Fi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-actions"},{default:_(()=>[Ii,Ni,zi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-company-manager"},{default:_(()=>[Ui,Yi,Vi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-manager"},{default:_(()=>[Di,Hi,Ki]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-page"},{default:_(()=>[Wi,Qi,Ji]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-slug"},{default:_(()=>[Zi,Xi,el]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-dialog"},{default:_(()=>[tl,sl,ol]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-keyboard"},{default:_(()=>[al,nl,il]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-amo"},{default:_(()=>[ll,cl,rl]),_:1}),d(a,{id:"nav-basket","active-class":"nav-item-active",tag:"a",to:"/admin-shop-manager"},{default:_(()=>[dl,hl,ul]),_:1}),e("a",pl,[(c(),r("svg",ml,bl)),gl,vl])]),yl])}const kl=y(hi,[["render",wl]]),$l={data(){return{id:null}},mounted(){window.addEventListener("open-page-menu-modal",o=>{this.id=o.detail.id||null,$("#menu-page-editor").showMenu()})},methods:{duplicatePage(){this.loading=!0,this.$store.dispatch("duplicatePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},removePage(){this.loading=!0,this.$store.dispatch("removePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})}}},xl={id:"menu-page-editor",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{height:"275px",display:"block"}},Cl=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-check-circle color-green1-dark"})],-1),jl=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Меню страницы",-1),Ml=e("i",{class:"fa-solid fa-copy mr-1"},null,-1),Ol=e("i",{class:"fa-solid fa-trash mr-1"},null,-1);function Tl(o,s,n,l,t,i){return c(),r("div",xl,[Cl,jl,e("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=(...a)=>i.duplicatePage&&i.duplicatePage(...a)),"data-dismiss":"menu-page-editor",class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-2"},[Ml,v(" Дублировать страницу ")]),e("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=(...a)=>i.removePage&&i.removePage(...a)),"data-dismiss":"menu-page-editor",class:"bg-red2-dark btn btn-m font-900 text-uppercase btn-center-xl mb-2"},[Ol,v(" Удалить страницу ")])])}const Bl=y($l,[["render",Tl]]),Pl={data(){return{rules:[{id:1,title:"Является администратором",rules_block:"bot_user",rule:{is_admin:!0}},{id:2,title:"Является VIP-пользователем",rules_block:"bot_user",rule:{is_vip:!0}},{id:3,title:"Находится в заведении",rules_block:"bot_user",rule:{user_in_location:!0}},{id:4,title:"За работой",rules_block:"bot_user",rule:{is_work:!0}},{id:5,title:"Возраст от ...",rules_block:"bot_user",rule:{age:18}},{id:6,title:"Находится в городе ...",rules_block:"bot_user",rule:{city:"Краснодар"}},{id:7,title:"Пол",rules_block:"bot_user",rule:{sex:!0}},{id:8,title:"Состоит в канале",rules_block:"channels",rule:{channel:1}}]}},mounted(){window.addEventListener("open-rules-modal",o=>{$("#rules-selector").showMenu()})},methods:{duplicatePage(){this.loading=!0,this.$store.dispatch("duplicatePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},removePage(){this.loading=!0,this.$store.dispatch("removePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},addRules(o){this.$botPages.selectRule(o),$("#rules-selector").hideMenu()}}},Sl={id:"rules-selector",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"400","data-menu-effect":"menu-over",style:{height:"400px",display:"block"}},Rl=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Выбор правила",-1),ql={class:"list-group list-custom-small px-2"},Ll=["onClick"],Al=e("i",{class:"fa font-13 fa-check color-green1-dark"},null,-1);function El(o,s,n,l,t,i){return c(),r("div",Sl,[Rl,e("div",ql,[(c(!0),r(S,null,F(t.rules,a=>(c(),r("a",{onClick:m=>i.addRules(a),href:"javascript:void(0)"},[Al,e("span",null,p(a.title||"Не указан"),1)],8,Ll))),256))])])}const Gl=y(Pl,[["render",El]]),Fl={data(){return{load:!1,keyboard:null,select:{uuid:null,row:0,col:0,type:null}}},mounted(){window.addEventListener("open-keyboard-editor",o=>{const s=o.detail.select,n=o.detail.keyboard||null;this.select=s,this.keyboard=n,$("#keyboard-editor").showMenu()})},methods:{needRemoveField(o,s,n){Object.keys(this.keyboard[s][n]).forEach(l=>{l!=="text"&&l!==o&&delete this.keyboard[s][n][l]})}}},Il={id:"keyboard-editor",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"405","data-menu-effect":"menu-over",style:{height:"405px",display:"block"}},Nl={class:"mb-3"},zl=["for"],Ul=["id"],Yl=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Vl=e("div",{class:"alert alert-danger",role:"alert"}," Возможно выбрать только 1 тип действия ",-1),Dl={class:"mb-3"},Hl=["for"],Kl=["id"],Wl={class:"mb-3"},Ql=["for"],Jl=["id"],Zl={class:"mb-3"},Xl=["for"],ec=["id"],tc={class:"mb-3"},sc=["for"],oc=["id"],ac={class:"form-check"},nc=["id"],ic=["for"],lc={key:0,class:"form-check"},cc=["id"],rc=["for"],dc={class:"form-check"},hc=["id"],uc=["for"],pc={class:"form-check"},mc=["id"],_c=["for"];function fc(o,s,n,l,t,i){return c(),r("div",Il,[t.keyboard?(c(),r("form",{key:0,class:"px-3 py-3",onSubmit:s[16]||(s[16]=E((...a)=>o.submitKeyboard&&o.submitKeyboard(...a),["prevent"]))},[e("div",Nl,[e("label",{for:"title-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Название поля",8,zl),C(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>t.keyboard[t.select.row][t.select.col].text=a),class:"form-control",id:"title-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Название"},null,8,Ul),[[O,t.keyboard[t.select.row][t.select.col].text]])]),Yl,Vl,e("div",Dl,[e("label",{for:"command-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда (для меню в сообщении)",8,Hl),C(e("input",{type:"text",onChange:s[1]||(s[1]=a=>i.needRemoveField("callback_data",t.select.row,t.select.col)),"onUpdate:modelValue":s[2]||(s[2]=a=>t.keyboard[t.select.row][t.select.col].callback_data=a),class:"form-control",id:"command-row-"+t.select.row+"-col-"+t.select.col,placeholder:"/start"},null,40,Kl),[[O,t.keyboard[t.select.row][t.select.col].callback_data]])]),e("div",Wl,[e("label",{for:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Ссылка на аккаунт в ТЕЛЕГРАММ",8,Ql),C(e("input",{type:"text",class:"form-control",onChange:s[3]||(s[3]=a=>i.needRemoveField("switch_inline_query",t.select.row,t.select.col)),"onUpdate:modelValue":s[4]||(s[4]=a=>t.keyboard[t.select.row][t.select.col].switch_inline_query=a),id:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,placeholder:"@YourAccountLink"},null,40,Jl),[[O,t.keyboard[t.select.row][t.select.col].switch_inline_query]])]),e("div",Zl,[e("label",{for:"url-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Внешняя URL-ссылка",8,Xl),C(e("input",{type:"text",class:"form-control",onChange:s[5]||(s[5]=a=>i.needRemoveField("url",t.select.row,t.select.col)),"onUpdate:modelValue":s[6]||(s[6]=a=>t.keyboard[t.select.row][t.select.col].url=a),id:"url-row-"+t.select.row+"-col-"+t.select.col,placeholder:"https://t.me/example"},null,40,ec),[[O,t.keyboard[t.select.row][t.select.col].url]])]),e("div",tc,[e("label",{for:"switch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда всплывающего меню бота",8,sc),C(e("input",{type:"text",class:"form-control",onChange:s[7]||(s[7]=a=>i.needRemoveField("switch_inline_query_current_chat",t.select.row,t.select.col)),"onUpdate:modelValue":s[8]||(s[8]=a=>t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat=a),id:"witch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,placeholder:"команда"},null,40,oc),[[O,t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat]])]),e("div",ac,[e("input",{type:"radio",onChange:s[9]||(s[9]=a=>i.needRemoveField(null,t.select.row,t.select.col)),name:"request-radio",class:"form-check-input",id:"no-action-row-"+t.select.row+"-col-"+t.select.col},null,40,nc),e("label",{class:"form-check-label",for:"no-action-row-"+t.select.row+"-col-"+t.select.col}," Без действий ",8,ic)]),t.select.row===0?(c(),r("div",lc,[e("input",{type:"radio",onChange:s[10]||(s[10]=a=>i.needRemoveField("pay",t.select.row,t.select.col)),onClick:s[11]||(s[11]=a=>t.keyboard[t.select.row][t.select.col].pay=!0),name:"request-radio",class:"form-check-input",id:"pay-action-row-"+t.select.row+"-col-"+t.select.col},null,40,cc),e("label",{class:"form-check-label",for:"pay-action-row-"+t.select.row+"-col-"+t.select.col}," Кнопка оплаты ",8,rc)])):b("",!0),e("div",dc,[e("input",{type:"radio",onChange:s[12]||(s[12]=a=>i.needRemoveField("request_contact",t.select.row,t.select.col)),onClick:s[13]||(s[13]=a=>t.keyboard[t.select.row][t.select.col].request_contact=!0),name:"request-radio",class:"form-check-input",id:"phone-row-"+t.select.row+"-col-"+t.select.col},null,40,hc),e("label",{class:"form-check-label",for:"phone-row-"+t.select.row+"-col-"+t.select.col}," Запросить телефон (для нижнего меню) ",8,uc)]),e("div",pc,[e("input",{type:"radio",name:"request-radio",onChange:s[14]||(s[14]=a=>i.needRemoveField("request_location",t.select.row,t.select.col)),onClick:s[15]||(s[15]=a=>t.keyboard[t.select.row][t.select.col].request_location=!0),class:"form-check-input",id:"location-row-"+t.select.row+"-col-"+t.select.col},null,40,mc),e("label",{class:"form-check-label",for:"location-row-"+t.select.row+"-col-"+t.select.col}," Запросить локацию (для нижнего меню) ",8,_c)])],32)):b("",!0)])}const bc=y(Fl,[["render",fc]]),gc={data(){return{param:null,channelLink:null}},mounted(){window.addEventListener("open-tg-helper-modal",o=>{this.param=o.detail.param,$("#tg-helper-modal").showMenu()})},methods:{checkLink(){this.channelLink.indexOf("https://t.me/")!==-1&&(this.channelLink="@"+(this.channelLink.split("https://t.me/")[1]||this.channelLink))},requestTelegramChannelId(){this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.channelLink}}).then(o=>{o.ok&&this.$botPages.telegramChannelCallback(this.param,o.result.chat.id),$("#tg-helper-modal").hideMenu(),o.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),o.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.$botPages.telegramChannelCallback(this.param,null))}).catch(()=>{})}}},vc={id:"tg-helper-modal",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"210","data-menu-effect":"menu-over",style:{height:"210px",display:"block"}},yc=e("p",{class:"mb-1 p-2"},"Укажите в полне ниже ссылку на ПУБЛИЧНЫЙ канал, в котором уже состоит БОТ в качестве администратора канала",-1),wc=e("button",{class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"},"Узнать id канала ",-1);function kc(o,s,n,l,t,i){return c(),r("div",vc,[yc,e("form",{onSubmit:s[2]||(s[2]=E((...a)=>i.requestTelegramChannelId&&i.requestTelegramChannelId(...a),["prevent"])),class:"p-2"},[C(e("input",{type:"text",class:"form-control mb-2",id:"search-description-text","onUpdate:modelValue":s[0]||(s[0]=a=>t.channelLink=a),onChange:s[1]||(s[1]=(...a)=>i.checkLink&&i.checkLink(...a)),placeholder:"@telegram_channel",required:""},null,544),[[O,t.channelLink]]),wc],32)])}const $c=y(gc,[["render",kc]]);var M={};const xc=Cs(Os);var K,W;Object.defineProperty(M,"__esModule",{value:!0});var h=xc;const T=Symbol(),x=new class{constructor(){L(this,"events");L(this,"ymapReady");L(this,"scriptIsNotAttached");L(this,"pluginInstalledGlobal");this.events={},this.ymapReady=!1,this.scriptIsNotAttached=!0,this.pluginInstalledGlobal=!1}$on(o,s){return this.events[o]||(this.events[o]=[]),this.events[o].push(s),()=>{this.events[o]=this.events[o].filter(n=>s!==n)}}$emit(o){const s=this.events[o];s&&s.forEach(n=>n())}};function Q(o){return new Promise((s,n)=>{if(window.ymaps)return x.ymapReady||(x.ymapReady=!0,x.$emit("scriptIsLoaded")),s(!0);if(document.getElementById("vue-yandex-maps-script"))return void x.$on("scriptIsLoaded",s);const l=document.createElement("SCRIPT"),{apiKey:t="",lang:i="ru_RU",version:a="2.1",coordorder:m="latlong",debug:k=!1,enterprise:f=!1}=o,w=`https://${f?"enterprise.":""}api-maps.yandex.ru/${a}/?${`lang=${i}${t&&`&apikey=${t}`}&mode=${k?"debug":"release"}&coordorder=${m}`}`;l.setAttribute("src",w),l.setAttribute("async",""),l.setAttribute("defer",""),l.setAttribute("id","vue-yandex-maps-script"),document.head.appendChild(l),x.scriptIsNotAttached=!1,l.onload=(u=>()=>{ymaps.ready(()=>{x.ymapReady=!0,x.$emit("scriptIsLoaded"),u(!0)})})(s),l.onerror=n})}const J=o=>Array.isArray(o)?o.map(J):+o,Y=["actionbegin","actionbreak","actionend","actiontick","actiontickcomplete","balloonclose","balloonopen","boundschange","click","contextmenu","dblclick","destroy","hintclose","hintopen","marginchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","sizechange","typechange","wheel"],V=["balloonclose","balloonopen","beforedrag","beforedragstart","click","contextmenu","dblclick","drag","dragend","dragstart","editorstatechange","geometrychange","hintclose","hintopen","mapchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","overlaychange","parentchange","propertieschange","wheel"];function N(o,s=!1){let n,l,t=[],i=[];return{addGeoObject:(a,m)=>{t.push(s?m:a),clearTimeout(n),n=window.setTimeout(()=>{o(t,"add"),t=[]})},deleteGeoObject:(a,m)=>{i.push(s?m:a),clearTimeout(l),l=window.setTimeout(()=>{o(i,"remove"),i=[]})}}}var Z=h.defineComponent({name:"YandexMap",props:{coordinates:{type:Array,required:!0},zoom:{type:Number,default:10},bounds:{type:Array,default:null},behaviors:{type:Array,default:null},controls:{type:Array,default:null},detailedControls:{type:Object,default:null},events:{type:Array,default:()=>["click"],validator:o=>o.every(s=>Y.includes(s))},mapType:{type:String,default:"map"},settings:{type:Object,default:()=>({})},panOptions:{type:Object,default:void 0},options:{type:Object,default:()=>({})}},emits:[...Y,"geo-objects-updated","created"],setup(o,{emit:s,slots:n,expose:l}){const t=h.ref(!1),i=x.pluginInstalledGlobal&&h.inject("pluginOptions")||{};let a;const m=`yandexMap${Math.round(1e5*Math.random())}`,{addGeoObject:k,deleteGeoObject:f}=N((u,g)=>{a&&u.length&&(u.forEach(P=>a==null?void 0:a.geoObjects[g](P)),s("geo-objects-updated",a.geoObjects))});h.provide(T,{addGeoObject:k,deleteGeoObject:f});const w=()=>{t.value=!0,a=new ymaps.Map(m,{center:o.coordinates,zoom:o.zoom,bounds:o.bounds,behaviors:o.behaviors,controls:o.controls,type:`yandex#${o.mapType}`},o.options),o.events.forEach(u=>{var g;return(g=a==null?void 0:a.events)==null?void 0:g.add(u,P=>s(u,P))}),o.detailedControls&&Object.keys(o.detailedControls).forEach(u=>{var g;a==null||a.controls.remove(u),a==null||a.controls.add(u,(g=o.detailedControls)==null?void 0:g[u])}),s("created",a)};return x.scriptIsNotAttached&&Q({...i,...o.settings}),x.ymapReady?ymaps.ready(w):x.$on("scriptIsLoaded",w),l(a),h.watch(()=>o.coordinates,u=>a==null?void 0:a.panTo(u,o.panOptions)),h.watch(()=>o.zoom,u=>a==null?void 0:a.setZoom(u)),h.watch(()=>o.bounds,u=>a==null?void 0:a.setBounds(u)),h.watch(()=>o.mapType,u=>a==null?void 0:a.setType(u)),()=>{var u;return h.h("section",{class:"yandex-container","data-test":"map"},[h.h("div",{id:m,style:"min-height: 100%;"}),t.value&&h.h("div",{style:"display: none;"},[(u=n.default)==null?void 0:u.call(n)])])}}}),X=h.defineComponent({name:"YandexMarker",props:{coordinates:{type:Array,required:!0},markerId:{type:[String,Number],required:!0},properties:{type:Object,default:()=>({})},options:{type:Object,default:null},type:{type:String,default:"Point"},radius:{type:Number,default:null},events:{type:Array,default:()=>["click"],validator:o=>o.every(s=>V.includes(s))}},emits:[...V],setup(o,{emit:s,slots:n,expose:l}){var P,U;const{addGeoObject:t,deleteGeoObject:i}=h.inject(T)||{},a=h.computed(()=>o.coordinates.map(J)),m=h.ref(!1),k={geometry:{type:o.type,coordinates:a.value,radius:o.radius},properties:{...o.properties,markerId:o.markerId}},f=(P=n.component)!=null&&P.call(n).length?ymaps.templateLayoutFactory.createClass(`<div id="balloon-${o.markerId}" class="yandex-balloon"><div>`,{build(){f.superclass.build.call(this),m.value=!0},clear(){m.value=!1,f.superclass.clear.call(this)}}):null,w={balloonContentLayout:f,...o.options},u=new ymaps.GeoObject(k,w);o.events.forEach(j=>{var B;return(B=u.events)==null?void 0:B.add(j,G=>s(j,G))}),h.provide("marker",u);const g={...k,options:w};return h.onMounted(()=>{t(u,g)}),h.onBeforeUnmount(()=>{i(u,g)}),h.watch(()=>o.coordinates,j=>{var B,G;(G=(B=u.geometry)==null?void 0:B.setCoordinates)==null||G.call(B,j)}),l(u),(U=n.component)!=null&&U.call(n).length?()=>{var j;return m.value&&h.h(h.Teleport,{to:`#balloon-${o.markerId}`},[(j=n.component)==null?void 0:j.call(n)])}:()=>{var j;return(j=n.default)==null?void 0:j.call(n)}}}),ee=h.defineComponent({name:"YandexGeoObjectCollection",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:n,slots:l}){const t=new ymaps.GeoObjectCollection({},o.options),{addGeoObject:i,deleteGeoObject:a}=h.inject(T)||{},{addGeoObject:m,deleteGeoObject:k}=N((f,w)=>{t&&f.length&&(f.forEach(u=>t[w](u)),s("geo-objects-updated",t))});return h.provide(T,{addGeoObject:m,deleteGeoObject:k}),h.onMounted(()=>{i(t)}),h.onBeforeUnmount(()=>{a(t)}),n(t),()=>{var f;return(f=l.default)==null?void 0:f.call(l)}}}),te=h.defineComponent({name:"YandexClusterer",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:n,slots:l}){const t=new ymaps.Clusterer(o.options),{addGeoObject:i,deleteGeoObject:a}=h.inject(T)||{},{addGeoObject:m,deleteGeoObject:k}=N((f,w)=>{t&&f.length&&(t[w](f),s("geo-objects-updated",t))});return h.provide(T,{addGeoObject:m,deleteGeoObject:k}),h.onMounted(()=>{i(t)}),h.onBeforeUnmount(()=>{a(t)}),n(t),()=>{var f;return(f=l.default)==null?void 0:f.call(l)}}}),se=h.defineComponent({name:"YandexObjectManager",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:n,slots:l}){const t=new ymaps.ObjectManager(o.options),{addGeoObject:i,deleteGeoObject:a}=h.inject(T)||{},{addGeoObject:m,deleteGeoObject:k}=N((f,w)=>{if(!t||!f.length)return;const u=f.map(g=>({type:"Feature",id:g.properties.markerId,geometry:g.geometry,properties:g.properties,options:g.options}));t[w](u),s("geo-objects-updated",t)},!0);return h.provide(T,{addGeoObject:m,deleteGeoObject:k}),h.onMounted(()=>{i(t)}),h.onBeforeUnmount(()=>{a(t)}),n(t),()=>{var f;return(f=l.default)==null?void 0:f.call(l)}}});let D;const Cc=Q,jc=Z,Mc=X,Oc=ee,Tc=te,Bc=se;var Pc={install:(o,s)=>{D||(D=!0,x.pluginInstalledGlobal=!0,o.provide("pluginOptions",s),o.component("YandexMap",Z),o.component("YandexMarker",X),o.component("YandexCollection",ee),o.component("YandexClusterer",te),o.component("YandexObjectManager",se))}};M.YandexClusterer=Tc,M.YandexCollection=Oc,W=M.YandexMap=jc,K=M.YandexMarker=Mc,M.YandexObjectManager=Bc,M.default=Pc,M.loadYmap=Cc;const Sc={components:{YandexMap:W,YandexMarker:K},setup(){return{center:[45.03547,38.975313]}},data(){return{load:!0,coords:{lat:45.03547,lon:38.975313}}},mounted(){window.addEventListener("open-map-modal",o=>{$("#map-selector").showMenu()})},methods:{onClick(o){let s=o.get("coords");this.load=!1,this.coords.lat=s[0],this.coords.lon=s[1],this.$nextTick(()=>{this.load=!0}),this.$botNotification.notification("Координаты","Вы выбрали координаты"),this.$botPages.mapCallback(this.coords)}}},Rc={id:"map-selector",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"500","data-menu-effect":"menu-over",style:{height:"500px",display:"block"}},qc=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Выбор координаты",-1);function Lc(o,s,n,l,t,i){const a=R("YandexMarker"),m=R("YandexMap");return c(),r("div",Rc,[qc,d(m,{coordinates:[t.coords.lat,t.coords.lon],onClick:i.onClick},{default:_(()=>[t.load?(c(),z(a,{key:0,coordinates:[t.coords.lat,t.coords.lon],"marker-id":123},null,8,["coordinates"])):b("",!0)]),_:1},8,["coordinates","onClick"])])}const Ac=y(Sc,[["render",Lc]]);const Ec={key:0,class:"page-content",style:{"min-height":"667px"}},Gc={class:"page-title page-title-small"},Fc=e("i",{class:"fa fa-arrow-left"},null,-1),Ic={href:"#/home",class:"bg-fade-gray1-dark shadow-xl d-flex justify-content-center align-items-center font-18 bot-avatar"},Nc={style:{width:"50px","object-fit":"cover","border-radius":"50%"},alt:""},zc=e("div",{class:"card header-card shape-rounded",style:{height:"115px"}},[e("div",{class:"card-overlay bg-highlight opacity-95"}),e("div",{class:"card-overlay dark-mode-tint"}),e("div",{class:"card-bg preload-img","data-src":"/shop/images/pictures/20s.jpg"})],-1),Uc={class:"footer"},Yc={class:"card card-style mb-0"},Vc={href:"#",class:"footer-title p-4"},Dc=e("p",{class:"text-center font-12 mt-n1 mb-3 opacity-70"},[v(" Добавь "),e("span",{class:"color-highlight"},"красок"),v(" в свою жизнь ")],-1),Hc={class:"boxed-text-l"},Kc={class:"text-center mb-3"},Wc=e("i",{class:"fa-solid fa-at"},null,-1),Qc=[Wc],Jc=e("i",{class:"fa-brands fa-vk"},null,-1),Zc=[Jc],Xc=e("i",{class:"fa fa-phone"},null,-1),er=[Xc],tr=e("a",{href:"#","data-menu":"menu-share",class:"icon icon-xs rounded-sm mr-1 shadow-l bg-red2-dark text-white"},[e("i",{class:"fa fa-share-alt"})],-1),sr=e("a",{href:"#",class:"back-to-top icon icon-xs rounded-sm shadow-l bg-highlight text-white"},[e("i",{class:"fa fa-arrow-up"})],-1),or=e("p",{class:"footer-copyright pb-3 mb-1"},[v("© CashMan "),e("span",{id:"copyright-year"},"2023"),v(". Все Права защищены.")],-1),ar=e("div",{class:"footer-card card shape-rounded","data-card-height":"230",style:{height:"230px"}},[e("div",{class:"card-overlay bg-highlight opacity-95"}),e("div",{class:"card-bg preload-img","data-src":"/shop/images/pictures/20s.jpg"})],-1),nr={computed:{...I(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return window.self||null},tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},created(){window.currentBot=this.bot.data,window.currentScript=this.slug_id||null,this.$store.dispatch("loadSelf").then(()=>{window.self=this.getSelf}),this.$botNotification.success("Главная","Успешно!")},methods:{open(o){this.tg.openLink(o)}}},br=Object.assign(nr,{__name:"Main",props:{bot:{type:Object},slug_id:{type:String}},setup(o){return(s,n)=>{const l=R("router-view"),t=A("lazy");return c(),z(js,null,{default:_(()=>[s.self?(c(),r("div",Ec,[e("div",Gc,[e("h2",null,[e("a",{onClick:n[0]||(n[0]=i=>s.$router.back())},[Fc,v(" "+p(s.$route.meta.title||"Меню"),1)])]),e("a",Ic,[C(e("img",Nc,null,512),[[t,s.logo]])])]),zc,d(l,{bot:o.bot},null,8,["bot"]),e("div",Uc,[e("div",Yc,[e("a",Vc,p(s.currentBot.company.title||"CashMan:Shopify"),1),Dc,e("p",Hc,p(s.currentBot.company.description||"Описание вашего магазина"),1),e("div",Kc,[s.currentBot.company.email?(c(),r("a",{key:0,href:"#",onClick:n[1]||(n[1]=i=>s.open("mailTo:"+s.currentBot.company.email)),class:"icon icon-xs rounded-sm shadow-l mr-1 bg-facebook text-white"},Qc)):b("",!0),s.currentBot.company.links[0]?(c(),r("a",{key:1,href:"#",onClick:n[2]||(n[2]=i=>s.open(s.currentBot.company.links[0])),class:"icon icon-xs rounded-sm shadow-l mr-1 bg-vk text-white"},Zc)):b("",!0),s.currentBot.company.phones[0]?(c(),r("a",{key:2,href:"#",onClick:n[3]||(n[3]=i=>s.open("tel:"+s.currentBot.company.phones[0])),class:"icon icon-xs rounded-sm shadow-l mr-1 bg-phone text-white"},er)):b("",!0),tr,sr]),or]),ar])])):b("",!0)]),modals:_(()=>[d(pn),d(mo),d(No),d(Wo),d(ca),d(Vs),d(en),d(ln),d(di),d(kl),d(Bl),d(bc),d(Gl),d($c),d(Ac)]),_:1})}}});export{br as default};
