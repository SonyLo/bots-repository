import"./MapModal.vue_vue_type_style_index_0_lang-96d20b06.js";import{G as n,q as s,t as c,B as r,O as a,u,a0 as _,v as e,N as d,F as p,Y as m,K as h}from"./index.es-71d37bd0.js";import"./_plugin-vue_export-helper-c27b6911.js";const g=e("title",null,"CashMan - система твоего бизнеса внутри",-1),w=e("meta",{name:"description",content:"CashMan - система твоего бизнеса внутри"},null,-1),f={id:"page"},b={watch:{$route(t){this.$preloader.show(),this.$nextTick(()=>{document.body.scrollTop=document.documentElement.scrollTop=0})}},computed:{...n(["getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){},methods:{openLink(t){this.tg.openLink(t,{try_instant_view:!0})},closeShop(){this.tg.close()}}},S=Object.assign(b,{__name:"SimpleLayout",setup(t){return(o,i)=>(s(),c(p,null,[r(u(_),null,{default:a(()=>[g,w]),_:1}),e("div",f,[d(o.$slots,"default")])],64))}}),B={computed:{...n(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return window.self||null},tg(){return window.Telegram.WebApp},tgUser(){const t=new URLSearchParams(this.tg.initData);return JSON.parse(t.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},created(){window.currentBot=this.bot.data,window.currentScript=this.slug_id||null,this.$store.dispatch("loadSelf").then(()=>{window.self=this.getSelf}),this.$botNotification.success("Главная","Успешно!")},methods:{open(t){this.tg.openLink(t)}}},y=Object.assign(B,{__name:"SimpleMain",props:{bot:{type:Object},slug_id:{type:String}},setup(t){return(o,i)=>{const l=m("router-view");return s(),h(S,null,{default:a(()=>[r(l,{bot:t.bot},null,8,["bot"])]),_:1})}}});export{y as default};
