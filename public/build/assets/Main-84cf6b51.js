var ne=Object.defineProperty;var ie=(o,s,n)=>s in o?ne(o,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[s]=n;var L=(o,s,n)=>(ie(o,typeof s!="symbol"?s+"":s,n),n);import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import{a5 as le,a6 as ce,a7 as re,F as B,a8 as de,a9 as he,aa as ue,ab as me,ac as pe,ad as _e,ae as fe,af as be,ag as ge,ah as ve,ai as ye,aj as we,ak as ke,al as $e,am as xe,an as Ce,f as Me,c as je,J as U,z as f,q as r,t as e,ao as Te,ap as Oe,aq as Se,ar as Be,as as Pe,K as R,C as v,A as d,at as Re,au as qe,j as Le,av as Ae,aw as Ee,ax as Ge,ay as Fe,az as Ie,aA as Ne,aB as ze,W as Ue,a3 as Ye,aC as Ve,aD as De,aE as He,d as Ke,aF as We,aG as Qe,aH as Je,aI as Ze,k as Xe,aJ as et,aK as tt,aL as st,aM as ot,Z as at,aN as nt,aO as it,aP as lt,aQ as ct,aR as rt,aS as dt,n as ht,v as ut,aT as mt,y as pt,aU as _t,aV as ft,aW as bt,aX as gt,aY as vt,aZ as yt,a1 as wt,a_ as kt,a$ as $t,b0 as xt,b1 as Ct,b2 as Mt,b3 as jt,o as c,Q as Tt,p as Ot,b4 as St,P as Bt,b5 as Pt,g as Rt,b6 as qt,l as Lt,b7 as At,b8 as Et,B as I,M as z,S as P,L as A,b9 as Gt,ba as Ft,bb as It,bc as Nt,bd as zt,be as Ut,bf as Yt,bg as Vt,s as Dt,bh as Ht,bi as Kt,bj as Wt,x as m,bk as Qt,bl as Jt,bm as Zt,bn as Xt,bo as es,bp as ts,bq as ss,u as K,br as os,bs as as,bt as ns,bu as is,bv as ls,bw as cs,O as rs,bx as ds,a4 as hs,T as us,G as T,a0 as ms,by as ps,bz as _s,w as fs,bA as bs,bB as gs,bC as vs,bD as ys,N as h,bE as ws,D as C,a2 as ks,bF as $s,H as E,bG as xs,bH as Cs,Y as Ms}from"./index.es-fd92b082.js";import{m as G}from"./index-4be11e74.js";import{b as js}from"./app-f504dca2.js";import"./vue3-json-editor.esm.prod-1fe4324f.js";import"./v4-a960c1f4.js";import"./TelegramChannelHelper-daaa6b0f.js";/* empty css                                                               */import"./vue3-perfect-scrollbar-c08dabd2.js";const Ts=()=>{},Os=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:le,Comment:ce,EffectScope:re,Fragment:B,KeepAlive:de,ReactiveEffect:he,Static:ue,Suspense:me,Teleport:pe,Text:_e,Transition:fe,TransitionGroup:be,VueElement:ge,assertNumber:ve,callWithAsyncErrorHandling:ye,callWithErrorHandling:we,camelize:ke,capitalize:$e,cloneVNode:xe,compatUtils:Ce,compile:Ts,computed:Me,createApp:je,createBlock:U,createCommentVNode:f,createElementBlock:r,createElementVNode:e,createHydrationRenderer:Te,createPropsRestProxy:Oe,createRenderer:Se,createSSRApp:Be,createSlots:Pe,createStaticVNode:R,createTextVNode:v,createVNode:d,customRef:Re,defineAsyncComponent:qe,defineComponent:Le,defineCustomElement:Ae,defineEmits:Ee,defineExpose:Ge,defineProps:Fe,defineSSRCustomElement:Ie,get devtools(){return Ne},effect:ze,effectScope:Ue,getCurrentInstance:Ye,getCurrentScope:Ve,getTransitionRawChildren:De,guardReactiveProps:He,h:Ke,handleError:We,hydrate:Qe,initCustomFormatter:Je,initDirectivesForSSR:Ze,inject:Xe,isMemoSame:et,isProxy:tt,isReactive:st,isReadonly:ot,isRef:at,isRuntimeOnly:nt,isShallow:it,isVNode:lt,markRaw:ct,mergeDefaults:rt,mergeProps:dt,nextTick:ht,normalizeClass:ut,normalizeProps:mt,normalizeStyle:pt,onActivated:_t,onBeforeMount:ft,onBeforeUnmount:bt,onBeforeUpdate:gt,onDeactivated:vt,onErrorCaptured:yt,onMounted:wt,onRenderTracked:kt,onRenderTriggered:$t,onScopeDispose:xt,onServerPrefetch:Ct,onUnmounted:Mt,onUpdated:jt,openBlock:c,popScopeId:Tt,provide:Ot,proxyRefs:St,pushScopeId:Bt,queuePostFlushCb:Pt,reactive:Rt,readonly:qt,ref:Lt,registerRuntimeCompiler:At,render:Et,renderList:I,renderSlot:z,resolveComponent:P,resolveDirective:A,resolveDynamicComponent:Gt,resolveFilter:Ft,resolveTransitionHooks:It,setBlockTracking:Nt,setDevtoolsHook:zt,setTransitionHooks:Ut,shallowReactive:Yt,shallowReadonly:Vt,shallowRef:Dt,ssrContextKey:Ht,ssrUtils:Kt,stop:Wt,toDisplayString:m,toHandlerKey:Qt,toHandlers:Jt,toRaw:Zt,toRef:Xt,toRefs:es,transformVNodeArgs:ts,triggerRef:ss,unref:K,useAttrs:os,useCssModule:as,useCssVars:ns,useSSRContext:is,useSlots:ls,useTransitionState:cs,vModelCheckbox:rs,vModelDynamic:ds,vModelRadio:hs,vModelSelect:us,vModelText:T,vShow:ms,version:ps,warn:_s,watch:fs,watchEffect:bs,watchPostEffect:gs,watchSyncEffect:vs,withAsyncContext:ys,withCtx:h,withDefaults:ws,withDirectives:C,withKeys:ks,withMemo:$s,withModifiers:E,withScopeId:xs},Symbol.toStringTag,{value:"Module"}));const Ss={data(){return{title:null,text:null}},mounted(){window.addEventListener("notification",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#notification-1").toast("show")}),window.addEventListener("success",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#menu-success-1").showMenu()}),window.addEventListener("warning",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#menu-warning-1").showMenu()})}},Bs={id:"notification-1","data-dismiss":"notification-1","data-delay":"3000","data-autohide":"true",class:"notification notification-ios bg-dark1-dark"},Ps=e("span",{class:"notification-icon"},[e("i",{class:"fa fa-bell"}),e("em",null,"Оповещение"),e("i",{"data-dismiss":"notification-1",class:"fa fa-times-circle"})],-1),Rs={class:"font-15 color-white mb-n3"},qs={class:"pt-2"},Ls={id:"menu-success-1",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{display:"block",height:"305px"}},As=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-check-circle color-green1-dark"})],-1),Es={class:"text-center mt-3 text-uppercase font-700"},Gs=["innerHTML"],Fs=e("a",{"data-dismiss":"menu-success-1",class:"close-menu btn btn-m btn-center-m button-s shadow-l rounded-s text-uppercase font-900 bg-green1-light"},"Хорошо",-1),Is={id:"menu-warning-1",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{display:"block",height:"305px"}},Ns=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-times color-red2-dark"})],-1),zs={class:"text-center mt-3 text-uppercase font-700"},Us=["innerHTML"],Ys=e("a",{"data-dismiss":"menu-warning-1",class:"close-menu btn btn-m btn-center-m button-s shadow-l rounded-s text-uppercase font-900 bg-red1-light"},"Хорошо",-1);function Vs(o,s,n,l,t,i){return c(),r(B,null,[e("div",Bs,[Ps,e("h1",Rs,m(t.title||"Системное"),1),e("p",qs,m(t.text||"Ошибка отображения текста"),1)]),e("div",Ls,[As,e("h1",Es,m(t.title||"Системное"),1),e("p",{class:"boxed-text-l",innerHTML:t.text},null,8,Gs),Fs]),e("div",Is,[Ns,e("h1",zs,m(t.title||"Системное"),1),e("p",{class:"boxed-text-l",innerHTML:t.text},null,8,Us),Ys])],64)}const Ds=y(Ss,[["render",Vs]]),Hs={data(){return{product:null}},computed:{...G(["inCart","cartTotalCount","inFav"]),currentBot(){return window.currentBot},self(){return window.self},currentPrice(){return this.product.current_price},checkInCart(){return this.inCart(this.product.id)}},mounted(){window.addEventListener("add-to-cart",o=>{this.product=o.detail.product||null,this.product.in_favorite=this.inFav(this.product.id),this.$nextTick(()=>{$("#menu-product-info").showMenu()})})},methods:{removeFromFavorites(){this.product.in_favorite=!1,this.$store.dispatch("removeFromFavorites",this.product.id).then(()=>{this.$botNotification.notification("Избранное","Успешно удалено из избранного!")})},addToFavorite(){this.product.in_favorite=!0,this.$store.dispatch("addToFavorites",this.product).then(()=>{this.$botNotification.notification("Избранное","Успешно добавлено в избранное!")})},goToProduct(){this.$router.push({name:"product",params:{productId:this.product.id}}),$("#menu-product-info").hideMenu()},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.product):this.$store.dispatch("incQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Успешно добавлено в корзину!")},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Товар удален!")}}},Ks={id:"menu-product-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"220px",display:"block"},"data-menu-effect":"menu-over"},Ws={key:0,class:"w-100"},Qs={class:"text-center font-700 mt-3 pt-1 px-4"},Js={key:0,class:"row text-center mr-2 ml-2 mb-3"},Zs={class:"col-4 mb-n2"},Xs=e("i",{class:"fa-solid fa-plus font-22"},null,-1),eo=[Xs],to={class:"col-4 mb-n2 d-flex justify-content-center align-items-center"},so={class:"font-22"},oo={class:"col-4 mb-n2"},ao=e("i",{class:"fa-solid fa-minus font-22"},null,-1),no=[ao],io={key:1,class:"row text-center mr-2 ml-2 mb-3"},lo={class:"col-12 mb-n2"},co=e("i",{class:"fa-solid fa-cart-plus font-12"},null,-1),ro={class:"row text-center mr-2 ml-2 mb-3"},ho={class:"col-12 mb-n2"},uo=e("i",{class:"fa-regular fa-heart font-12"},null,-1),mo=e("i",{class:"fa-solid fa-heart font-12"},null,-1);function po(o,s,n,l,t,i){return c(),r("div",Ks,[t.product?(c(),r("div",Ws,[e("h4",Qs,m(t.product.title||"Нет заголовка"),1),i.checkInCart>0?(c(),r("div",Js,[e("div",Zs,[e("button",{type:"button",onClick:s[0]||(s[0]=(...a)=>i.incProductCart&&i.incProductCart(...a)),class:"btn p-3 w-100 bg-highlight rounded-s shadow-l"},eo)]),e("div",to,[e("strong",so,m(i.checkInCart),1)]),e("div",oo,[e("button",{onClick:s[1]||(s[1]=(...a)=>i.decProductCart&&i.decProductCart(...a)),type:"button",class:"btn p-3 w-100 bg-red1-dark rounded-s shadow-l"},no)])])):(c(),r("div",io,[e("div",lo,[e("button",{type:"button",onClick:s[2]||(s[2]=(...a)=>i.incProductCart&&i.incProductCart(...a)),class:"btn p-3 bg-highlight rounded-s shadow-l w-100"},[co,v(" В корзину "),e("strong",null,m(i.currentPrice)+"₽",1)])])])),e("div",ro,[e("div",ho,[t.product.in_favorite?(c(),r("button",{key:1,type:"button",onClick:s[4]||(s[4]=(...a)=>i.removeFromFavorites&&i.removeFromFavorites(...a)),class:"btn p-3 bg-highlight rounded-s shadow-l w-100"},[mo,v(" Убрать из избранного ")])):(c(),r("button",{key:0,type:"button",onClick:s[3]||(s[3]=(...a)=>i.addToFavorite&&i.addToFavorite(...a)),class:"btn p-3 bg-red2-dark rounded-s shadow-l w-100"},[uo,v(" В избранное ")]))])])])):f("",!0)])}const _o=y(Hs,[["render",po]]),fo={data(){return{item:null}},mounted(){window.addEventListener("show-chashback-info",o=>{this.item=o.detail.item||null,this.$nextTick(()=>{$("#cashback-item-info").showMenu()})})},methods:{}},bo={id:"cashback-item-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"50vh",display:"block"},"data-menu-effect":"menu-over"},go={key:0,class:"w-100"},vo={class:"table table-borderless rounded-sm shadow-l m-0",style:{overflow:"hidden"}},yo=e("thead",null,[e("tr",{class:"bg-gray1-dark"},[e("th",{scope:"col",class:"color-theme"},"Параметр"),e("th",{scope:"col",class:"color-theme"},"Значение")])],-1),wo=e("th",{scope:"row"},"Тип операции",-1),ko={class:"font-weight-bold"},$o=e("th",{scope:"row"},"Сумма CashBack, руб",-1),xo={class:"font-weight-bold"},Co={key:0},Mo=e("th",{scope:"row"},"Уровень начисления",-1),jo={class:"font-weight-bold"},To={key:1},Oo=e("th",{scope:"row"},"Сумма в чеке, руб",-1),So={class:"font-weight-bold"},Bo=e("th",{scope:"row"},"Дата операции",-1),Po={class:"font-weight-bold"},Ro=e("th",{scope:"row"},"Описание операции",-1),qo={class:"font-weight-bold"},Lo=e("th",{scope:"row"},"TG id сотрудника",-1),Ao={class:"font-weight-bold"},Eo=e("th",{scope:"row"},"Имя сотрудника",-1),Go={class:"font-weight-bold"},Fo=e("th",{scope:"row"},"Телефон сотрудника",-1),Io={class:"font-weight-bold"};function No(o,s,n,l,t,i){return c(),r("div",bo,[t.item?(c(),r("div",go,[e("table",vo,[yo,e("tbody",null,[e("tr",null,[wo,e("td",ko,m(t.item.operation_type?"Начисление":"Списание"),1)]),e("tr",null,[$o,e("td",xo,m(t.item.amount||0),1)]),t.item.operation_type?(c(),r("tr",Co,[Mo,e("td",jo,m(t.item.level||0),1)])):f("",!0),t.item.operation_type?(c(),r("tr",To,[Oo,e("td",So,m(t.item.money_in_check||0),1)])):f("",!0),e("tr",null,[Bo,e("td",Po,m(o.$filters.current(t.item.created_at)),1)]),e("tr",null,[Ro,e("td",qo,m(t.item.description||"Нет описания"),1)]),e("tr",null,[Lo,e("td",Ao,m(t.item.employee.telegram_chat_id||"Не указано"),1)]),e("tr",null,[Eo,e("td",Go,m(t.item.employee.fio_from_telegram||"Не указано"),1)]),e("tr",null,[Fo,e("td",Io,m(t.item.employee.phone||"Не указано"),1)])])])])):f("",!0)])}const zo=y(fo,[["render",No]]),Uo={props:{code:{type:String,default:"001"}},computed:{self(){return window.self},script(){return window.currentScript},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){switch(this.code){default:case"001":return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa((this.code||"001")+this.self.telegram_chat_id);case"002":return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("002"+this.self.telegram_chat_id+"S"+this.script)}}},methods:{copy(){var o=$("<input>");$("body").append(o),o.val(this.link).select(),document.execCommand("copy"),o.remove()}}},Yo={class:"w-100 p-3 object-fit-cover my-0",alt:""};function Vo(o,s,n,l,t,i){const a=A("lazy");return c(),r(B,null,[C(e("img",Yo,null,512),[[a,i.qr]]),e("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=E((..._)=>i.copy&&i.copy(..._),["prevent"])),class:"btn btn-link w-100 text-center"},"Скопировать ссылку")],64)}const W=y(Uo,[["render",Vo]]),Do={id:"qr-code",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"70vh",display:"block"},"data-menu-effect":"menu-over"},Ho={key:0,class:"w-100 p-3"},Ko=e("p",{class:"mb-0 text-center"},"Дайте отсканировать этот QR-код для начисления или обмена бонусов:)",-1),Wo={data(){return{code:null}},mounted(){window.addEventListener("show-qr-code",o=>{this.code=o.detail.code||null,this.$nextTick(()=>{$("#qr-code").showMenu()})})},methods:{}},Qo=Object.assign(Wo,{__name:"QrCodeModal",setup(o){return(s,n)=>(c(),r("div",Do,[s.code?(c(),r("div",Ho,[Ko,d(W,{code:s.code},null,8,["code"])])):f("",!0)]))}}),Jo={data(){return{params:{win:"Номер выигрыша",name:"Ф.И.О.",phone:"Телефон",answered_by:"Кто проверил",answered_at:"Дата ответа"},item:null,eventCallbackForm:{info:null},loading:!1}},mounted(){window.addEventListener("show-event-info",o=>{this.item=o.detail.item||null,this.$nextTick(()=>{$("#event-item-info").showMenu()})})},methods:{sendApproveToUser(){this.loading=!0,this.$store.dispatch("sendApproveToUser",{dataObject:{user_telegram_chat_id:this.item.bot_user.telegram_chat_id,action_id:this.item.id,...this.eventCallbackForm}}).then(o=>{this.loading=!1,this.eventCallbackForm.info=null,$("#event-item-info").hideMenu(),this.$botNotification.success("Отлично!","Оповещение успешно отправлено")}).catch(()=>{this.loading=!1,$("#event-item-info").hideMenu(),this.$botNotification.warning("Упс!","Что-то пошло не так")})}}},Zo={id:"event-item-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"50vh",display:"block"},"data-menu-effect":"menu-over"},Xo={key:0,class:"w-100 p-3"},ea=e("h4",null,"Информирование пользователя",-1),ta={class:"mb-0"},sa={class:"mb-3"},oa=e("label",{for:"bill-info",class:"form-label"},"Сообщение для пользователя",-1),aa={class:"mb-3"},na=["disabled"];function ia(o,s,n,l,t,i){return c(),r("div",Zo,[t.item?(c(),r("div",Xo,[ea,e("ul",null,[e("li",null," № события: "+m(t.item.slug.id),1),e("li",null," Название события: "+m(t.item.slug.command),1),e("li",null," Использовано попыток: "+m(t.item.current_attempts),1),e("li",null," Дата прохождения: "+m(o.$filters.current(t.item.completed_at)),1),(c(!0),r(B,null,I(t.item.data,a=>(c(),r("li",null,[(c(!0),r(B,null,I(Object.keys(a),_=>(c(),r("p",ta,m(t.params[_])+":"+m(a[_]||"Не установлено"),1))),256))]))),256))]),e("form",{onSubmit:s[1]||(s[1]=E((...a)=>i.sendApproveToUser&&i.sendApproveToUser(...a),["prevent"]))},[e("div",sa,[oa,C(e("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":s[0]||(s[0]=a=>t.eventCallbackForm.info=a),id:"bill-info",rows:"3",required:""},null,512),[[T,t.eventCallbackForm.info]])]),e("div",aa,[e("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,na)])],32)])):f("",!0)])}const la=y(Jo,[["render",ia]]),ca={id:"menu-share",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"420px"}},ra=e("h1",{class:"text-center font-700 font-26 mt-3 pt-2"},"Поделиться контактами",-1),da=e("p",{class:"boxed-text-xl under-heading m-0 p-0"}," Делитесь ссылкой с друзьями ",-1),ha=e("div",{class:"divider divider-margins"},null,-1),ua={class:"row text-center mr-4 ml-4 mb-0"},ma={class:"col-3 mb-n2"},pa=e("i",{class:"fab fa-facebook-f font-22"},null,-1),_a=e("br",null,null,-1),fa=[pa,_a],ba=e("p",{class:"font-11 opacity-70"},"Facebook",-1),ga={class:"col-3 mb-n2"},va=e("i",{class:"fab fa-twitter font-22"},null,-1),ya=e("br",null,null,-1),wa=[va,ya],ka=e("p",{class:"font-11 opacity-70"},"Twitter",-1),$a={class:"col-3 mb-n2"},xa=e("i",{class:"fa-brands fa-vk font-22"},null,-1),Ca=e("br",null,null,-1),Ma=[xa,Ca],ja=e("p",{class:"font-11 opacity-70"},"VK",-1),Ta={class:"col-3 mb-n2"},Oa=e("i",{class:"fa fa-envelope font-22"},null,-1),Sa=e("br",null,null,-1),Ba=[Oa,Sa],Pa=e("p",{class:"font-11 opacity-70"},"Email",-1),Ra={class:"col-3 mb-n2"},qa=e("i",{class:"fab fa-whatsapp font-22"},null,-1),La=e("br",null,null,-1),Aa=[qa,La],Ea=e("p",{class:"font-11 opacity-70"},"WhatsApp",-1),Ga={class:"col-3 mb-n2"},Fa=e("i",{class:"fa fa-link font-22"},null,-1),Ia=e("br",null,null,-1),Na=[Fa,Ia],za=e("p",{class:"font-11 opacity-70"},"Копировать",-1),Ua={class:"col-3 mb-n2"},Ya=e("i",{class:"fab fa-pinterest-p font-22"},null,-1),Va=e("br",null,null,-1),Da=[Ya,Va],Ha=e("p",{class:"font-11 opacity-70"},"Pinterest",-1),Ka=e("div",{class:"col-3 mb-n2"},[e("a",{href:"#",class:"close-menu icon icon-l bg-red2-dark rounded-s shadow-l text-white"},[e("i",{class:"fa fa-times font-22"}),e("br")]),e("p",{class:"font-11 opacity-70"},"Закрыть")],-1),Wa=e("div",{class:"divider divider-margins mt-n1 mb-3"},null,-1),Qa=e("div",{class:"divider divider-margins mt-n1 mb-3"},null,-1),Ja=e("p",{class:"footer-copyright font-10 text-center pb-3 mb-1"},[v("© CashMan "),e("span",{id:"copyright-year"},"2023"),v(". Все Права защищены.")],-1),Za={computed:{self(){return window.self},tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},methods:{open(o){this.tg.openLink(o)},copy(){var o=$("<input>");$("body").append(o),o.val(this.link).select(),document.execCommand("copy"),o.remove()}}},Xa=Object.assign(Za,{__name:"ShareMenuBar",setup(o){return(s,n)=>(c(),r("div",ca,[ra,da,ha,e("div",ua,[e("div",ma,[e("a",{href:"#",onClick:n[0]||(n[0]=l=>s.open("https://www.facebook.com/sharer/sharer.php?u="+s.link)),class:"icon icon-l bg-facebook rounded-s shadow-l text-white"},fa),ba]),e("div",ga,[e("a",{href:"#",onClick:n[1]||(n[1]=l=>s.open("https://twitter.com/home?status="+s.link)),class:"icon icon-l bg-twitter rounded-s shadow-l text-white"},wa),ka]),e("div",$a,[e("a",{href:"#",onClick:n[2]||(n[2]=l=>s.open("https://vk.com/share.php?url="+s.link)),class:"icon icon-l bg-linkedin rounded-s shadow-l text-white"},Ma),ja]),e("div",Ta,[e("a",{href:"#",onClick:n[3]||(n[3]=l=>s.open("mailto:?body="+s.link)),class:"icon icon-l bg-mail rounded-s shadow-l text-white"},Ba),Pa]),e("div",Ra,[e("a",{href:"#",onClick:n[4]||(n[4]=l=>s.open("whatsapp://send?text="+s.link)),class:"icon icon-l bg-whatsapp rounded-s shadow-l text-white"},Aa),Ea]),e("div",Ga,[e("a",{href:"#",onClick:n[5]||(n[5]=(...l)=>s.copy&&s.copy(...l)),class:"shareToCopyLink icon icon-l bg-blue2-dark rounded-s shadow-l text-white"},Na),za]),e("div",Ua,[e("a",{href:"#",onClick:n[6]||(n[6]=l=>s.open("https://pinterest.com/pin/create/button/?url="+s.link)),class:"icon icon-l bg-pinterest rounded-s shadow-l text-white"},Da),Ha]),Ka]),Wa,d(W,{code:"001"}),Qa,Ja]))}}),en={},tn={id:"menu-highlights",class:"menu menu-box-bottom menu-box-detached rounded-m",style:{display:"block",height:"510px"}},sn=R('<div class="card header-card shape-rounded h-40"><div class="card-overlay bg-highlight opacity-95"></div><div class="card-bg preload-img" data-src="images/pictures/20s.jpg"></div></div><h1 class="text-center mt-4 font-35 font-800">CashMan</h1><p class="text-center font-12 mt-n1 pb-2 mb-3">Добавь красок в свою жизнь</p><div class="card card-style"><div class="highlight-changer pt-3 pb-2"><p class="text-center px-3"> Доступные цветовые схемы для использования в приложении. Нажми на кружочек и цветовая схема автоматически будет применена. </p><a href="#" data-change-highlight="blue2"><i class="fa fa-circle color-blue2-dark"></i><span class="color-blue2-light">Default</span></a><a href="#" data-change-highlight="red2"><i class="fa fa-circle color-red1-dark"></i><span class="color-red2-light">Red</span></a><a href="#" data-change-highlight="orange"><i class="fa fa-circle color-orange-dark"></i><span class="color-orange-light">Orange</span></a><a href="#" data-change-highlight="pink2"><i class="fa fa-circle color-pink2-dark"></i><span class="color-pink2-light">Pink</span></a><a href="#" data-change-highlight="magenta2"><i class="fa fa-circle color-magenta2-dark"></i><span class="color-magenta2-light">Purple</span></a><a href="#" data-change-highlight="aqua"><i class="fa fa-circle color-aqua-dark"></i><span class="color-aqua-light">Aqua</span></a><a href="#" data-change-highlight="teal"><i class="fa fa-circle color-teal-dark"></i><span class="color-teal-light">Teal</span></a><a href="#" data-change-highlight="mint"><i class="fa fa-circle color-mint-dark"></i><span class="color-mint-light">Mint</span></a><a href="#" data-change-highlight="green2"><i class="fa fa-circle color-green2-dark"></i><span class="color-green2-light">Green</span></a><a href="#" data-change-highlight="green1"><i class="fa fa-circle color-green1-dark"></i><span class="color-green1-light">Grass</span></a><a href="#" data-change-highlight="yellow2"><i class="fa fa-circle color-yellow2-dark"></i><span class="color-yellow2-light">Sunny</span></a><a href="#" data-change-highlight="yellow1"><i class="fa fa-circle color-yellow1-dark"></i><span class="color-yellow1-light">Goldish</span></a><a href="#" data-change-highlight="brown1"><i class="fa fa-circle color-brown1-dark"></i><span class="color-brown1-light">Wood</span></a><a href="#" data-change-highlight="dark1"><i class="fa fa-circle color-dark1-dark"></i><span class="color-dark1-light">Night</span></a><a href="#" data-change-highlight="dark2"><i class="fa fa-circle color-dark2-dark"></i><span class="color-dark2-light">Dark</span></a><div class="clearfix"></div></div></div><a href="#" class="close-menu btn btn-full btn-margins rounded-sm shadow-l bg-highlight btn-m font-900 text-uppercase mb-0">Закрыть смену цвета</a>',5),on=[sn];function an(o,s,n,l,t,i){return c(),r("div",tn,on)}const nn=y(en,[["render",an]]),ln={data(){return{load:!1}},mounted(){window.addEventListener("preloader-toggle",o=>{this.load=!this.load}),window.addEventListener("preloader-hide",o=>{this.load=!1}),window.addEventListener("preloader-show",o=>{this.load=!0,setTimeout(()=>{this.load=!1},1e3)})}},cn={key:0,id:"preloader"},rn=e("div",{class:"spinner-border color-highlight",role:"status"},null,-1),dn=[rn];function hn(o,s,n,l,t,i){return t.load?(c(),r("div",cn,dn)):f("",!0)}const un=y(ln,[["render",hn]]),mn={data(){return{isActive:!1}},computed:{...G(["cartTotalCount","favoritesCount"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){}},pn={id:"menu-main",class:"menu menu-box-right menu-box-detached rounded-m",style:{width:"260px",display:"block",height:"100vh","overflow-y":"scroll"}},_n={class:"menu-header"},fn=R('<a href="#" data-toggle-theme="" class="border-right-0"><i class="fa font-12 color-yellow1-dark fa-lightbulb"></i></a><a href="#" data-menu="menu-highlights" class="border-right-0"><i class="fa font-12 color-green1-dark fa-brush"></i></a><a href="#" data-menu="menu-share" class="border-right-0"><i class="fa font-12 color-red2-dark fa-share-alt"></i></a>',3),bn=e("i",{class:"fa color-blue2-dark fa-cog font-12"},null,-1),gn=e("a",{class:"border-right-0 close-menu"},[e("i",{class:"fa font-12 color-red2-dark fa-times"})],-1),vn={class:"menu-logo text-center"},yn={href:"#"},wn={class:"rounded-circle bg-highlight",width:"80"},kn={class:"p-3 font-800 font-24 text-uppercase"},$n={class:"font-11 mt-n2"},xn=e("i",{class:"fa-solid fa-location-dot mr-2 text-danger"},null,-1),Cn={class:"menu-items"},Mn=e("h5",{class:"text-uppercase opacity-20 font-12 pl-3"},"Главное меню",-1),jn=e("i",{class:"fa-solid fa-house-chimney",style:{color:"lightblue"}},null,-1),Tn=e("span",null,"Главная",-1),On=e("i",{class:"fa fa-circle"},null,-1),Sn=e("i",{class:"fa-solid fa-basket-shopping"},null,-1),Bn=e("span",null,"Корзина",-1),Pn={key:0,class:"badge bg-highlight color-white"},Rn=e("i",{class:"fa fa-circle"},null,-1),qn=e("i",{class:"fa-solid fa-pizza-slice",style:{color:"orangered"}},null,-1),Ln=e("span",null,"Продукция",-1),An=e("i",{class:"fa fa-circle"},null,-1),En=e("i",{class:"fa-solid fa-star",style:{color:"orange"}},null,-1),Gn=e("span",null,"Избранное",-1),Fn={key:0,class:"badge bg-highlight color-white"},In=e("i",{class:"fa fa-circle"},null,-1),Nn=e("i",{class:"fa-regular fa-clock",style:{color:"#842029"}},null,-1),zn=e("span",null,"История заказов",-1),Un=e("strong",{class:"badge bg-highlight color-white"},"3",-1),Yn=e("i",{class:"fa fa-circle"},null,-1),Vn=e("i",{class:"fa-solid fa-people-group",style:{color:"#6f42c1"}},null,-1),Dn=e("span",null,"Наша команда",-1),Hn=e("i",{class:"fa fa-circle"},null,-1),Kn=e("i",{class:"fa-solid fa-star",style:{color:"orange"}},null,-1),Wn=e("span",null,"О нас",-1),Qn=e("i",{class:"fa fa-circle"},null,-1),Jn=e("i",{class:"fa-regular fa-circle-question",style:{color:"green"}},null,-1),Zn=e("span",null,"Правила сервиса",-1),Xn=e("i",{class:"fa fa-circle"},null,-1),ei={href:"#",class:"close-menu"},ti={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x","data-feather-line":"3","data-feather-size":"16","data-feather-color":"red2-dark","data-feather-bg":"red2-fade-dark",style:{width:"16px",height:"16px"}},si=e("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),oi=e("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),ai=[si,oi],ni=e("span",null,"Закрыть",-1),ii=e("i",{class:"fa fa-circle"},null,-1),li=R('<div class="text-center pt-2"><a href="#" class="icon icon-xs mr-1 rounded-s bg-facebook"><i class="fab fa-facebook"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-twitter"><i class="fab fa-twitter"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-instagram"><i class="fab fa-instagram"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-linkedin"><i class="fab fa-linkedin-in"></i></a><a href="#" class="icon icon-xs rounded-s bg-whatsapp"><i class="fab fa-whatsapp"></i></a><p class="mb-0 pt-3 font-10 opacity-30">Copyright <span class="copyright-year"></span> Enabled. All rights reserved</p></div>',1);function ci(o,s,n,l,t,i){const a=P("router-link"),_=A("lazy");return c(),r("div",pn,[e("div",_n,[fn,d(a,{class:"close-menu",tag:"a",to:"/settings"},{default:h(()=>[bn]),_:1}),gn]),e("div",vn,[e("a",yn,[C(e("img",wn,null,512),[[_,i.logo]])]),e("h1",kn,m(i.currentBot.company.title||i.currentBot.bot_domain||"CashMan:Shopify"),1),e("p",$n,[xn,v(m(i.currentBot.company.address||"Без описания"),1)])]),e("div",Cn,[Mn,d(a,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/home"},{default:h(()=>[jn,Tn,On]),_:1}),d(a,{id:"nav-basket","active-class":"nav-item-active",tag:"a",to:"/basket"},{default:h(()=>[Sn,Bn,o.cartTotalCount>0?(c(),r("strong",Pn,m(o.cartTotalCount),1)):f("",!0),Rn]),_:1}),d(a,{id:"nav-products","active-class":"nav-item-active",tag:"a",to:"/products"},{default:h(()=>[qn,Ln,An]),_:1}),d(a,{id:"nav-favorites","active-class":"nav-item-active",tag:"a",to:"/favorites"},{default:h(()=>[En,Gn,o.favoritesCount>0?(c(),r("strong",Fn,m(o.favoritesCount),1)):f("",!0),In]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/history"},{default:h(()=>[Nn,zn,Un,Yn]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/our-team"},{default:h(()=>[Vn,Dn,Hn]),_:1}),d(a,{id:"nav-contact-us","active-class":"nav-item-active",tag:"a",to:"/contact-us"},{default:h(()=>[Kn,Wn,Qn]),_:1}),d(a,{id:"nav-terms","active-class":"nav-item-active",tag:"a",to:"/terms"},{default:h(()=>[Jn,Zn,Xn]),_:1}),e("a",ei,[(c(),r("svg",ti,ai)),ni,ii])]),li])}const ri=y(mn,[["render",ci]]),di={data(){return{isActive:!1}},computed:{...G(["cartTotalCount","favoritesCount"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){}},hi={id:"menu-admin-main",class:"menu menu-box-right menu-box-detached rounded-m",style:{width:"260px",display:"block",height:"100vh","overflow-y":"scroll"}},ui={class:"menu-header"},mi=R('<a href="#" data-toggle-theme="" class="border-right-0"><i class="fa font-12 color-yellow1-dark fa-lightbulb"></i></a><a href="#" data-menu="menu-highlights" class="border-right-0"><i class="fa font-12 color-green1-dark fa-brush"></i></a><a href="#" data-menu="menu-share" class="border-right-0"><i class="fa font-12 color-red2-dark fa-share-alt"></i></a>',3),pi=e("i",{class:"fa color-blue2-dark fa-cog font-12"},null,-1),_i=e("a",{class:"border-right-0 close-menu"},[e("i",{class:"fa font-12 color-red2-dark fa-times"})],-1),fi={class:"menu-logo text-center"},bi={href:"#"},gi={class:"rounded-circle bg-highlight",width:"80"},vi=e("h1",{class:"p-3 font-800 font-24 text-uppercase"},"Админ.панель",-1),yi={class:"font-11 mt-n2"},wi={class:"menu-items"},ki=e("h5",{class:"text-uppercase opacity-20 font-12 pl-3"},"Главное меню",-1),$i=e("i",{class:"fa-solid fa-house-chimney",style:{color:"lightblue"}},null,-1),xi=e("span",null,"Главная",-1),Ci=e("i",{class:"fa fa-circle"},null,-1),Mi=e("i",{class:"fa-solid fa-briefcase",style:{color:"saddlebrown"}},null,-1),ji=e("span",null,"Рабочий день",-1),Ti=e("i",{class:"fa fa-circle"},null,-1),Oi=e("i",{class:"fa-solid fa-ranking-star",style:{color:"orangered"}},null,-1),Si=e("span",null,"Статистика",-1),Bi=e("i",{class:"fa fa-circle"},null,-1),Pi=e("i",{class:"fa-brands fa-adversal",style:{color:"orange"}},null,-1),Ri=e("span",null,"Реклама",-1),qi=e("i",{class:"fa fa-circle"},null,-1),Li=e("i",{class:"fa-regular fa-clock",style:{color:"#842029"}},null,-1),Ai=e("span",null,"История заказов",-1),Ei=e("strong",{class:"badge bg-highlight color-white"},"3",-1),Gi=e("i",{class:"fa fa-circle"},null,-1),Fi=e("i",{class:"fa-solid fa-bolt",style:{color:"#6f42c1"}},null,-1),Ii=e("span",null,"События",-1),Ni=e("i",{class:"fa fa-circle"},null,-1),zi=e("i",{class:"fa-regular fa-building",style:{color:"#ff5454"}},null,-1),Ui=e("span",null,"Настройка компании",-1),Yi=e("i",{class:"fa fa-circle"},null,-1),Vi=e("i",{class:"fa-solid fa-robot",style:{color:"#00ff38"}},null,-1),Di=e("span",null,"Настройка бота",-1),Hi=e("i",{class:"fa fa-circle"},null,-1),Ki=e("i",{class:"fa-solid fa-file-lines",style:{color:"#3f0909"}},null,-1),Wi=e("span",null,"Страницы бота",-1),Qi=e("i",{class:"fa fa-circle"},null,-1),Ji=e("i",{class:"fa-solid fa-scroll",style:{color:"#2963fa"}},null,-1),Zi=e("span",null,"Скрипты бота",-1),Xi=e("i",{class:"fa fa-circle"},null,-1),el=e("i",{class:"fa-regular fa-comment-dots",style:{color:"#d2ab65"}},null,-1),tl=e("span",null,"Диалоги бота",-1),sl=e("i",{class:"fa fa-circle"},null,-1),ol=e("i",{class:"fa-regular fa-keyboard",style:{color:"#1e5c67"}},null,-1),al=e("span",null,"Клавиатуры бота",-1),nl=e("i",{class:"fa fa-circle"},null,-1),il=e("i",{class:"fa-solid fa-people-roof",style:{color:"#00b47a"}},null,-1),ll=e("span",null,"AMO CRM",-1),cl=e("i",{class:"fa fa-circle"},null,-1),rl=e("i",{class:"fa-solid fa-basket-shopping"},null,-1),dl=e("span",null,"Настройка магазина",-1),hl=e("i",{class:"fa fa-circle"},null,-1),ul={href:"#",class:"close-menu"},ml={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x","data-feather-line":"3","data-feather-size":"16","data-feather-color":"red2-dark","data-feather-bg":"red2-fade-dark",style:{width:"16px",height:"16px"}},pl=e("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),_l=e("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),fl=[pl,_l],bl=e("span",null,"Закрыть",-1),gl=e("i",{class:"fa fa-circle"},null,-1),vl=R('<div class="text-center pt-2"><a href="#" class="icon icon-xs mr-1 rounded-s bg-facebook"><i class="fab fa-facebook"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-twitter"><i class="fab fa-twitter"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-instagram"><i class="fab fa-instagram"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-linkedin"><i class="fab fa-linkedin-in"></i></a><a href="#" class="icon icon-xs rounded-s bg-whatsapp"><i class="fab fa-whatsapp"></i></a><p class="mb-0 pt-3 font-10 opacity-30">Copyright <span class="copyright-year"></span> Enabled. All rights reserved</p></div>',1);function yl(o,s,n,l,t,i){const a=P("router-link"),_=A("lazy");return c(),r("div",hi,[e("div",ui,[mi,d(a,{class:"close-menu",tag:"a",to:"/settings"},{default:h(()=>[pi]),_:1}),_i]),e("div",fi,[e("a",bi,[C(e("img",gi,null,512),[[_,i.logo]])]),vi,e("p",yi,m(i.currentBot.company.title||i.currentBot.bot_domain||"CashMan:Shopify"),1)]),e("div",wi,[ki,d(a,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/admin-main"},{default:h(()=>[$i,xi,Ci]),_:1}),d(a,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/admin-work-status"},{default:h(()=>[Mi,ji,Ti]),_:1}),d(a,{id:"nav-products","active-class":"nav-item-active",tag:"a",to:"/admin-statistic"},{default:h(()=>[Oi,Si,Bi]),_:1}),d(a,{id:"nav-favorites","active-class":"nav-item-active",tag:"a",to:"/admin-promotion"},{default:h(()=>[Pi,Ri,qi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/history"},{default:h(()=>[Li,Ai,Ei,Gi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-actions"},{default:h(()=>[Fi,Ii,Ni]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-company-manager"},{default:h(()=>[zi,Ui,Yi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-manager"},{default:h(()=>[Vi,Di,Hi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-page"},{default:h(()=>[Ki,Wi,Qi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-slug"},{default:h(()=>[Ji,Zi,Xi]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-dialog"},{default:h(()=>[el,tl,sl]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-keyboard"},{default:h(()=>[ol,al,nl]),_:1}),d(a,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-amo"},{default:h(()=>[il,ll,cl]),_:1}),d(a,{id:"nav-basket","active-class":"nav-item-active",tag:"a",to:"/admin-shop-manager"},{default:h(()=>[rl,dl,hl]),_:1}),e("a",ul,[(c(),r("svg",ml,fl)),bl,gl])]),vl])}const wl=y(di,[["render",yl]]),kl={data(){return{id:null}},mounted(){window.addEventListener("open-page-menu-modal",o=>{this.id=o.detail.id||null,$("#menu-page-editor").showMenu()})},methods:{duplicatePage(){this.loading=!0,this.$store.dispatch("duplicatePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},removePage(){this.loading=!0,this.$store.dispatch("removePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})}}},$l={id:"menu-page-editor",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{height:"275px",display:"block"}},xl=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-check-circle color-green1-dark"})],-1),Cl=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Меню страницы",-1),Ml=e("i",{class:"fa-solid fa-copy mr-1"},null,-1),jl=e("i",{class:"fa-solid fa-trash mr-1"},null,-1);function Tl(o,s,n,l,t,i){return c(),r("div",$l,[xl,Cl,e("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=(...a)=>i.duplicatePage&&i.duplicatePage(...a)),"data-dismiss":"menu-page-editor",class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-2"},[Ml,v(" Дублировать страницу ")]),e("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=(...a)=>i.removePage&&i.removePage(...a)),"data-dismiss":"menu-page-editor",class:"bg-red2-dark btn btn-m font-900 text-uppercase btn-center-xl mb-2"},[jl,v(" Удалить страницу ")])])}const Ol=y(kl,[["render",Tl]]),Sl={data(){return{rules:[{id:1,title:"Является администратором",rules_block:"bot_user",rule:{is_admin:!0}},{id:2,title:"Является VIP-пользователем",rules_block:"bot_user",rule:{is_vip:!0}},{id:3,title:"Находится в заведении",rules_block:"bot_user",rule:{user_in_location:!0}},{id:4,title:"За работой",rules_block:"bot_user",rule:{is_work:!0}},{id:5,title:"Возраст от ...",rules_block:"bot_user",rule:{age:18}},{id:6,title:"Находится в городе ...",rules_block:"bot_user",rule:{city:"Краснодар"}},{id:7,title:"Пол",rules_block:"bot_user",rule:{sex:!0}},{id:8,title:"Состоит в канале",rules_block:"channels",rule:{channel:1}}]}},mounted(){window.addEventListener("open-rules-modal",o=>{$("#rules-selector").showMenu()})},methods:{duplicatePage(){this.loading=!0,this.$store.dispatch("duplicatePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},removePage(){this.loading=!0,this.$store.dispatch("removePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},addRules(o){this.$botPages.selectRule(o),$("#rules-selector").hideMenu()}}},Bl={id:"rules-selector",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"400","data-menu-effect":"menu-over",style:{height:"400px",display:"block"}},Pl=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Выбор правила",-1),Rl={class:"list-group list-custom-small px-2"},ql=["onClick"],Ll=e("i",{class:"fa font-13 fa-check color-green1-dark"},null,-1);function Al(o,s,n,l,t,i){return c(),r("div",Bl,[Pl,e("div",Rl,[(c(!0),r(B,null,I(t.rules,a=>(c(),r("a",{onClick:_=>i.addRules(a),href:"javascript:void(0)"},[Ll,e("span",null,m(a.title||"Не указан"),1)],8,ql))),256))])])}const El=y(Sl,[["render",Al]]),Gl={data(){return{load:!1,keyboard:null,select:{uuid:null,row:0,col:0,type:null}}},mounted(){window.addEventListener("open-keyboard-editor",o=>{const s=o.detail.select,n=o.detail.keyboard||null;this.select=s,this.keyboard=n,$("#keyboard-editor").showMenu()})},methods:{needRemoveField(o,s,n){Object.keys(this.keyboard[s][n]).forEach(l=>{l!=="text"&&l!==o&&delete this.keyboard[s][n][l]})}}},Fl={id:"keyboard-editor",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"405","data-menu-effect":"menu-over",style:{height:"405px",display:"block"}},Il={class:"mb-3"},Nl=["for"],zl=["id"],Ul=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Yl=e("div",{class:"alert alert-danger",role:"alert"}," Возможно выбрать только 1 тип действия ",-1),Vl={class:"mb-3"},Dl=["for"],Hl=["id"],Kl={class:"mb-3"},Wl=["for"],Ql=["id"],Jl={class:"mb-3"},Zl=["for"],Xl=["id"],ec={class:"mb-3"},tc=["for"],sc=["id"],oc={class:"form-check"},ac=["id"],nc=["for"],ic={key:0,class:"form-check"},lc=["id"],cc=["for"],rc={class:"form-check"},dc=["id"],hc=["for"],uc={class:"form-check"},mc=["id"],pc=["for"];function _c(o,s,n,l,t,i){return c(),r("div",Fl,[t.keyboard?(c(),r("form",{key:0,class:"px-3 py-3",onSubmit:s[16]||(s[16]=E((...a)=>o.submitKeyboard&&o.submitKeyboard(...a),["prevent"]))},[e("div",Il,[e("label",{for:"title-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Название поля",8,Nl),C(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>t.keyboard[t.select.row][t.select.col].text=a),class:"form-control",id:"title-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Название"},null,8,zl),[[T,t.keyboard[t.select.row][t.select.col].text]])]),Ul,Yl,e("div",Vl,[e("label",{for:"command-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда (для меню в сообщении)",8,Dl),C(e("input",{type:"text",onChange:s[1]||(s[1]=a=>i.needRemoveField("callback_data",t.select.row,t.select.col)),"onUpdate:modelValue":s[2]||(s[2]=a=>t.keyboard[t.select.row][t.select.col].callback_data=a),class:"form-control",id:"command-row-"+t.select.row+"-col-"+t.select.col,placeholder:"/start"},null,40,Hl),[[T,t.keyboard[t.select.row][t.select.col].callback_data]])]),e("div",Kl,[e("label",{for:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Ссылка на аккаунт в ТЕЛЕГРАММ",8,Wl),C(e("input",{type:"text",class:"form-control",onChange:s[3]||(s[3]=a=>i.needRemoveField("switch_inline_query",t.select.row,t.select.col)),"onUpdate:modelValue":s[4]||(s[4]=a=>t.keyboard[t.select.row][t.select.col].switch_inline_query=a),id:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,placeholder:"@YourAccountLink"},null,40,Ql),[[T,t.keyboard[t.select.row][t.select.col].switch_inline_query]])]),e("div",Jl,[e("label",{for:"url-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Внешняя URL-ссылка",8,Zl),C(e("input",{type:"text",class:"form-control",onChange:s[5]||(s[5]=a=>i.needRemoveField("url",t.select.row,t.select.col)),"onUpdate:modelValue":s[6]||(s[6]=a=>t.keyboard[t.select.row][t.select.col].url=a),id:"url-row-"+t.select.row+"-col-"+t.select.col,placeholder:"https://t.me/example"},null,40,Xl),[[T,t.keyboard[t.select.row][t.select.col].url]])]),e("div",ec,[e("label",{for:"switch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда всплывающего меню бота",8,tc),C(e("input",{type:"text",class:"form-control",onChange:s[7]||(s[7]=a=>i.needRemoveField("switch_inline_query_current_chat",t.select.row,t.select.col)),"onUpdate:modelValue":s[8]||(s[8]=a=>t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat=a),id:"witch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,placeholder:"команда"},null,40,sc),[[T,t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat]])]),e("div",oc,[e("input",{type:"radio",onChange:s[9]||(s[9]=a=>i.needRemoveField(null,t.select.row,t.select.col)),name:"request-radio",class:"form-check-input",id:"no-action-row-"+t.select.row+"-col-"+t.select.col},null,40,ac),e("label",{class:"form-check-label",for:"no-action-row-"+t.select.row+"-col-"+t.select.col}," Без действий ",8,nc)]),t.select.row===0?(c(),r("div",ic,[e("input",{type:"radio",onChange:s[10]||(s[10]=a=>i.needRemoveField("pay",t.select.row,t.select.col)),onClick:s[11]||(s[11]=a=>t.keyboard[t.select.row][t.select.col].pay=!0),name:"request-radio",class:"form-check-input",id:"pay-action-row-"+t.select.row+"-col-"+t.select.col},null,40,lc),e("label",{class:"form-check-label",for:"pay-action-row-"+t.select.row+"-col-"+t.select.col}," Кнопка оплаты ",8,cc)])):f("",!0),e("div",rc,[e("input",{type:"radio",onChange:s[12]||(s[12]=a=>i.needRemoveField("request_contact",t.select.row,t.select.col)),onClick:s[13]||(s[13]=a=>t.keyboard[t.select.row][t.select.col].request_contact=!0),name:"request-radio",class:"form-check-input",id:"phone-row-"+t.select.row+"-col-"+t.select.col},null,40,dc),e("label",{class:"form-check-label",for:"phone-row-"+t.select.row+"-col-"+t.select.col}," Запросить телефон (для нижнего меню) ",8,hc)]),e("div",uc,[e("input",{type:"radio",name:"request-radio",onChange:s[14]||(s[14]=a=>i.needRemoveField("request_location",t.select.row,t.select.col)),onClick:s[15]||(s[15]=a=>t.keyboard[t.select.row][t.select.col].request_location=!0),class:"form-check-input",id:"location-row-"+t.select.row+"-col-"+t.select.col},null,40,mc),e("label",{class:"form-check-label",for:"location-row-"+t.select.row+"-col-"+t.select.col}," Запросить локацию (для нижнего меню) ",8,pc)])],32)):f("",!0)])}const fc=y(Gl,[["render",_c]]),bc={data(){return{param:null,channelLink:null}},mounted(){window.addEventListener("open-tg-helper-modal",o=>{this.param=o.detail.param,$("#tg-helper-modal").showMenu()})},methods:{checkLink(){this.channelLink.indexOf("https://t.me/")!==-1&&(this.channelLink="@"+(this.channelLink.split("https://t.me/")[1]||this.channelLink))},requestTelegramChannelId(){this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.channelLink}}).then(o=>{o.ok&&this.$botPages.telegramChannelCallback(this.param,o.result.chat.id),$("#tg-helper-modal").hideMenu(),o.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),o.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.$botPages.telegramChannelCallback(this.param,null))}).catch(()=>{})}}},gc={id:"tg-helper-modal",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"210","data-menu-effect":"menu-over",style:{height:"210px",display:"block"}},vc=e("p",{class:"mb-1 p-2"},"Укажите в полне ниже ссылку на ПУБЛИЧНЫЙ канал, в котором уже состоит БОТ в качестве администратора канала",-1),yc=e("button",{class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"},"Узнать id канала ",-1);function wc(o,s,n,l,t,i){return c(),r("div",gc,[vc,e("form",{onSubmit:s[2]||(s[2]=E((...a)=>i.requestTelegramChannelId&&i.requestTelegramChannelId(...a),["prevent"])),class:"p-2"},[C(e("input",{type:"text",class:"form-control mb-2",id:"search-description-text","onUpdate:modelValue":s[0]||(s[0]=a=>t.channelLink=a),onChange:s[1]||(s[1]=(...a)=>i.checkLink&&i.checkLink(...a)),placeholder:"@telegram_channel",required:""},null,544),[[T,t.channelLink]]),yc],32)])}const kc=y(bc,[["render",wc]]);var j={};const $c=Cs(Os);var Q,J;Object.defineProperty(j,"__esModule",{value:!0});var u=$c;const O=Symbol(),x=new class{constructor(){L(this,"events");L(this,"ymapReady");L(this,"scriptIsNotAttached");L(this,"pluginInstalledGlobal");this.events={},this.ymapReady=!1,this.scriptIsNotAttached=!0,this.pluginInstalledGlobal=!1}$on(o,s){return this.events[o]||(this.events[o]=[]),this.events[o].push(s),()=>{this.events[o]=this.events[o].filter(n=>s!==n)}}$emit(o){const s=this.events[o];s&&s.forEach(n=>n())}};function Z(o){return new Promise((s,n)=>{if(window.ymaps)return x.ymapReady||(x.ymapReady=!0,x.$emit("scriptIsLoaded")),s(!0);if(document.getElementById("vue-yandex-maps-script"))return void x.$on("scriptIsLoaded",s);const l=document.createElement("SCRIPT"),{apiKey:t="",lang:i="ru_RU",version:a="2.1",coordorder:_="latlong",debug:k=!1,enterprise:b=!1}=o,w=`https://${b?"enterprise.":""}api-maps.yandex.ru/${a}/?${`lang=${i}${t&&`&apikey=${t}`}&mode=${k?"debug":"release"}&coordorder=${_}`}`;l.setAttribute("src",w),l.setAttribute("async",""),l.setAttribute("defer",""),l.setAttribute("id","vue-yandex-maps-script"),document.head.appendChild(l),x.scriptIsNotAttached=!1,l.onload=(p=>()=>{ymaps.ready(()=>{x.ymapReady=!0,x.$emit("scriptIsLoaded"),p(!0)})})(s),l.onerror=n})}const X=o=>Array.isArray(o)?o.map(X):+o,V=["actionbegin","actionbreak","actionend","actiontick","actiontickcomplete","balloonclose","balloonopen","boundschange","click","contextmenu","dblclick","destroy","hintclose","hintopen","marginchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","sizechange","typechange","wheel"],D=["balloonclose","balloonopen","beforedrag","beforedragstart","click","contextmenu","dblclick","drag","dragend","dragstart","editorstatechange","geometrychange","hintclose","hintopen","mapchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","overlaychange","parentchange","propertieschange","wheel"];function N(o,s=!1){let n,l,t=[],i=[];return{addGeoObject:(a,_)=>{t.push(s?_:a),clearTimeout(n),n=window.setTimeout(()=>{o(t,"add"),t=[]})},deleteGeoObject:(a,_)=>{i.push(s?_:a),clearTimeout(l),l=window.setTimeout(()=>{o(i,"remove"),i=[]})}}}var ee=u.defineComponent({name:"YandexMap",props:{coordinates:{type:Array,required:!0},zoom:{type:Number,default:10},bounds:{type:Array,default:null},behaviors:{type:Array,default:null},controls:{type:Array,default:null},detailedControls:{type:Object,default:null},events:{type:Array,default:()=>["click"],validator:o=>o.every(s=>V.includes(s))},mapType:{type:String,default:"map"},settings:{type:Object,default:()=>({})},panOptions:{type:Object,default:void 0},options:{type:Object,default:()=>({})}},emits:[...V,"geo-objects-updated","created"],setup(o,{emit:s,slots:n,expose:l}){const t=u.ref(!1),i=x.pluginInstalledGlobal&&u.inject("pluginOptions")||{};let a;const _=`yandexMap${Math.round(1e5*Math.random())}`,{addGeoObject:k,deleteGeoObject:b}=N((p,g)=>{a&&p.length&&(p.forEach(q=>a==null?void 0:a.geoObjects[g](q)),s("geo-objects-updated",a.geoObjects))});u.provide(O,{addGeoObject:k,deleteGeoObject:b});const w=()=>{t.value=!0,a=new ymaps.Map(_,{center:o.coordinates,zoom:o.zoom,bounds:o.bounds,behaviors:o.behaviors,controls:o.controls,type:`yandex#${o.mapType}`},o.options),o.events.forEach(p=>{var g;return(g=a==null?void 0:a.events)==null?void 0:g.add(p,q=>s(p,q))}),o.detailedControls&&Object.keys(o.detailedControls).forEach(p=>{var g;a==null||a.controls.remove(p),a==null||a.controls.add(p,(g=o.detailedControls)==null?void 0:g[p])}),s("created",a)};return x.scriptIsNotAttached&&Z({...i,...o.settings}),x.ymapReady?ymaps.ready(w):x.$on("scriptIsLoaded",w),l(a),u.watch(()=>o.coordinates,p=>a==null?void 0:a.panTo(p,o.panOptions)),u.watch(()=>o.zoom,p=>a==null?void 0:a.setZoom(p)),u.watch(()=>o.bounds,p=>a==null?void 0:a.setBounds(p)),u.watch(()=>o.mapType,p=>a==null?void 0:a.setType(p)),()=>{var p;return u.h("section",{class:"yandex-container","data-test":"map"},[u.h("div",{id:_,style:"min-height: 100%;"}),t.value&&u.h("div",{style:"display: none;"},[(p=n.default)==null?void 0:p.call(n)])])}}}),te=u.defineComponent({name:"YandexMarker",props:{coordinates:{type:Array,required:!0},markerId:{type:[String,Number],required:!0},properties:{type:Object,default:()=>({})},options:{type:Object,default:null},type:{type:String,default:"Point"},radius:{type:Number,default:null},events:{type:Array,default:()=>["click"],validator:o=>o.every(s=>D.includes(s))}},emits:[...D],setup(o,{emit:s,slots:n,expose:l}){var q,Y;const{addGeoObject:t,deleteGeoObject:i}=u.inject(O)||{},a=u.computed(()=>o.coordinates.map(X)),_=u.ref(!1),k={geometry:{type:o.type,coordinates:a.value,radius:o.radius},properties:{...o.properties,markerId:o.markerId}},b=(q=n.component)!=null&&q.call(n).length?ymaps.templateLayoutFactory.createClass(`<div id="balloon-${o.markerId}" class="yandex-balloon"><div>`,{build(){b.superclass.build.call(this),_.value=!0},clear(){_.value=!1,b.superclass.clear.call(this)}}):null,w={balloonContentLayout:b,...o.options},p=new ymaps.GeoObject(k,w);o.events.forEach(M=>{var S;return(S=p.events)==null?void 0:S.add(M,F=>s(M,F))}),u.provide("marker",p);const g={...k,options:w};return u.onMounted(()=>{t(p,g)}),u.onBeforeUnmount(()=>{i(p,g)}),u.watch(()=>o.coordinates,M=>{var S,F;(F=(S=p.geometry)==null?void 0:S.setCoordinates)==null||F.call(S,M)}),l(p),(Y=n.component)!=null&&Y.call(n).length?()=>{var M;return _.value&&u.h(u.Teleport,{to:`#balloon-${o.markerId}`},[(M=n.component)==null?void 0:M.call(n)])}:()=>{var M;return(M=n.default)==null?void 0:M.call(n)}}}),se=u.defineComponent({name:"YandexGeoObjectCollection",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:n,slots:l}){const t=new ymaps.GeoObjectCollection({},o.options),{addGeoObject:i,deleteGeoObject:a}=u.inject(O)||{},{addGeoObject:_,deleteGeoObject:k}=N((b,w)=>{t&&b.length&&(b.forEach(p=>t[w](p)),s("geo-objects-updated",t))});return u.provide(O,{addGeoObject:_,deleteGeoObject:k}),u.onMounted(()=>{i(t)}),u.onBeforeUnmount(()=>{a(t)}),n(t),()=>{var b;return(b=l.default)==null?void 0:b.call(l)}}}),oe=u.defineComponent({name:"YandexClusterer",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:n,slots:l}){const t=new ymaps.Clusterer(o.options),{addGeoObject:i,deleteGeoObject:a}=u.inject(O)||{},{addGeoObject:_,deleteGeoObject:k}=N((b,w)=>{t&&b.length&&(t[w](b),s("geo-objects-updated",t))});return u.provide(O,{addGeoObject:_,deleteGeoObject:k}),u.onMounted(()=>{i(t)}),u.onBeforeUnmount(()=>{a(t)}),n(t),()=>{var b;return(b=l.default)==null?void 0:b.call(l)}}}),ae=u.defineComponent({name:"YandexObjectManager",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:n,slots:l}){const t=new ymaps.ObjectManager(o.options),{addGeoObject:i,deleteGeoObject:a}=u.inject(O)||{},{addGeoObject:_,deleteGeoObject:k}=N((b,w)=>{if(!t||!b.length)return;const p=b.map(g=>({type:"Feature",id:g.properties.markerId,geometry:g.geometry,properties:g.properties,options:g.options}));t[w](p),s("geo-objects-updated",t)},!0);return u.provide(O,{addGeoObject:_,deleteGeoObject:k}),u.onMounted(()=>{i(t)}),u.onBeforeUnmount(()=>{a(t)}),n(t),()=>{var b;return(b=l.default)==null?void 0:b.call(l)}}});let H;const xc=Z,Cc=ee,Mc=te,jc=se,Tc=oe,Oc=ae;var Sc={install:(o,s)=>{H||(H=!0,x.pluginInstalledGlobal=!0,o.provide("pluginOptions",s),o.component("YandexMap",ee),o.component("YandexMarker",te),o.component("YandexCollection",se),o.component("YandexClusterer",oe),o.component("YandexObjectManager",ae))}};j.YandexClusterer=Tc,j.YandexCollection=jc,J=j.YandexMap=Cc,Q=j.YandexMarker=Mc,j.YandexObjectManager=Oc,j.default=Sc,j.loadYmap=xc;const Bc={components:{YandexMap:J,YandexMarker:Q},setup(){return{center:[45.03547,38.975313]}},data(){return{load:!0,coords:{lat:45.03547,lon:38.975313}}},mounted(){window.addEventListener("open-map-modal",o=>{$("#map-selector").showMenu()})},methods:{onClick(o){let s=o.get("coords");this.load=!1,this.coords.lat=s[0],this.coords.lon=s[1],this.$nextTick(()=>{this.load=!0}),this.$botNotification.notification("Координаты","Вы выбрали координаты"),this.$botPages.mapCallback(this.coords)}}},Pc={id:"map-selector",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"500","data-menu-effect":"menu-over",style:{height:"500px",display:"block"}},Rc=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Выбор координаты",-1);function qc(o,s,n,l,t,i){const a=P("YandexMarker"),_=P("YandexMap");return c(),r("div",Pc,[Rc,d(_,{coordinates:[t.coords.lat,t.coords.lon],onClick:i.onClick},{default:h(()=>[t.load?(c(),U(a,{key:0,coordinates:[t.coords.lat,t.coords.lon],"marker-id":123},null,8,["coordinates"])):f("",!0)]),_:1},8,["coordinates","onClick"])])}const Lc=y(Bc,[["render",qc]]);const Ac=e("title",null,"CashMan - система твоего бизнеса внутри",-1),Ec=e("meta",{name:"description",content:"CashMan - система твоего бизнеса внутри"},null,-1),Gc={id:"page"},Fc={class:"header header-fixed header-auto-show header-logo-app"},Ic=e("i",{class:"fas fa-arrow-left"},null,-1),Nc=[Ic],zc=R('<a href="#" data-toggle-theme class="header-icon header-icon-2 show-on-theme-dark"><i class="fas fa-sun"></i></a><a href="#" data-toggle-theme class="header-icon header-icon-2 show-on-theme-light"><i class="fas fa-moon"></i></a><a href="#" data-menu="menu-highlights" class="header-icon header-icon-3"><i class="fas fa-brush"></i></a>',3),Uc={key:0,href:"#","data-menu":"menu-main",class:"header-icon header-icon-4"},Yc=e("i",{class:"fas fa-bars"},null,-1),Vc=[Yc],Dc={key:0,id:"footer-bar",class:"footer-bar-5 bg-dark2-dark mb-2 ml-2 mr-2 rounded-m"},Hc=e("i",{class:"fa-solid fa-basket-shopping"},null,-1),Kc=e("span",{class:"color-white"},"Корзина",-1),Wc={key:0,class:"badge bg-green1-dark"},Qc={key:1},Jc=e("i",{class:"fa-brands fa-shopify"},null,-1),Zc=e("span",{class:"color-white"},"Продукты",-1),Xc={key:0},er=e("i",{class:"fa fa-home"},null,-1),tr=e("span",{class:"color-white"},"Домой",-1),sr={key:0},or=e("i",{class:"fa fa-heart"},null,-1),ar=e("span",{class:"color-white"},"Избранное",-1),nr={key:0,class:"badge bg-green1-dark"},ir={key:1},lr=e("a",{href:"#","data-menu":"menu-main"},[e("i",{class:"fa-solid fa-bars"}),e("span",{class:"color-white"},"Меню")],-1),cr={key:1,id:"footer-bar",class:"footer-bar-5 bg-dark2-dark mb-2 ml-2 mr-2 rounded-m"},rr=e("i",{class:"fa-solid fa-bolt"},null,-1),dr=e("span",{class:"color-white"},"События",-1),hr={key:0},ur=e("i",{class:"fa-solid fa-ranking-star"},null,-1),mr=e("span",{class:"color-white"},"Статистика",-1),pr={key:0},_r=e("i",{class:"fa fa-home"},null,-1),fr=e("span",{class:"color-white"},"Главная",-1),br={key:0},gr=e("i",{class:"fa-solid fa-briefcase"},null,-1),vr=e("span",{class:"color-white"},"Работа",-1),yr={key:0},wr=e("a",{href:"#","data-menu":"menu-admin-main"},[e("i",{class:"fa-solid fa-bars"}),e("span",{class:"color-white"},"Меню")],-1),kr={watch:{$route(o){this.$preloader.show(),js.handler(),this.$nextTick(()=>{document.body.scrollTop=document.documentElement.scrollTop=0})}},computed:{...G(["cartTotalCount","favoritesCount","getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){console.log(window.currentBot)},methods:{openLink(o){this.tg.openLink(o,{try_instant_view:!0})},closeShop(){this.tg.close()}}},$r=Object.assign(kr,{__name:"ShopLayout",setup(o){return(s,n)=>{const l=P("router-link");return c(),r(B,null,[d(K(Ms),null,{default:h(()=>[Ac,Ec]),_:1}),e("div",Gc,[e("div",Fc,[e("a",{onClick:n[0]||(n[0]=(...t)=>s.closeShop&&s.closeShop(...t)),class:"header-title header-subtitle"},"Вернуться в бота"),e("a",{onClick:n[1]||(n[1]=t=>s.$router.back()),"data-back-button":"",class:"header-icon header-icon-1"},Nc),zc,s.$route.meta.hide_menu?f("",!0):(c(),r("a",Uc,Vc))]),s.$route.meta.hide_menu?f("",!0):(c(),r("div",Dc,[d(l,{"active-class":"active-nav",tag:"a",to:"/basket"},{default:h(()=>[Hc,Kc,s.cartTotalCount>0?(c(),r("em",Wc,m(s.cartTotalCount),1)):f("",!0),s.$route.path=="/basket"?(c(),r("strong",Qc)):f("",!0)]),_:1}),d(l,{"active-class":"active-nav",tag:"a",to:"/products"},{default:h(()=>[Jc,Zc,s.$route.path=="/products"?(c(),r("strong",Xc)):f("",!0)]),_:1}),d(l,{"active-class":"active-nav",tag:"a",to:"/home"},{default:h(()=>[er,tr,s.$route.path=="/home"?(c(),r("strong",sr)):f("",!0)]),_:1}),d(l,{"active-class":"active-nav",tag:"a",to:"/favorites"},{default:h(()=>[or,ar,s.favoritesCount>0?(c(),r("em",nr,m(s.favoritesCount),1)):f("",!0),s.$route.path=="/favorites"?(c(),r("strong",ir)):f("",!0)]),_:1}),lr])),s.$route.meta.need_admin_menu?(c(),r("div",cr,[d(l,{"active-class":"active-nav",tag:"a",to:"/admin-actions"},{default:h(()=>[rr,dr,s.$route.path=="/admin-actions"?(c(),r("strong",hr)):f("",!0)]),_:1}),d(l,{"active-class":"active-nav",tag:"a",to:"/admin-statistic"},{default:h(()=>[ur,mr,s.$route.path=="/admin-statistic"?(c(),r("strong",pr)):f("",!0)]),_:1}),d(l,{"active-class":"active-nav",tag:"a",to:"/admin-main"},{default:h(()=>[_r,fr,s.$route.path=="/admin-main"?(c(),r("strong",br)):f("",!0)]),_:1}),d(l,{"active-class":"active-nav",tag:"a",to:"/admin-work-status"},{default:h(()=>[gr,vr,s.$route.path=="/admin-work-status"?(c(),r("strong",yr)):f("",!0)]),_:1}),wr])):f("",!0),z(s.$slots,"default"),z(s.$slots,"modals")])],64)}}});const xr={key:0,class:"page-content",style:{"min-height":"667px"}},Cr={class:"page-title page-title-small"},Mr=e("i",{class:"fa fa-arrow-left"},null,-1),jr=["href"],Tr={style:{width:"50px","object-fit":"cover","border-radius":"50%"},alt:""},Or=e("div",{class:"card header-card shape-rounded",style:{height:"115px"}},[e("div",{class:"card-overlay bg-highlight opacity-95"}),e("div",{class:"card-overlay dark-mode-tint"}),e("div",{class:"card-bg preload-img","data-src":"/shop/images/pictures/20s.jpg"})],-1),Sr={class:"footer"},Br={class:"card card-style mb-0"},Pr={href:"#",class:"footer-title p-4"},Rr=e("p",{class:"text-center font-12 mt-n1 mb-3 opacity-70"},[v(" Добавь "),e("span",{class:"color-highlight"},"красок"),v(" в свою жизнь ")],-1),qr={class:"boxed-text-l"},Lr={class:"text-center mb-3"},Ar=e("i",{class:"fa-solid fa-at"},null,-1),Er=[Ar],Gr=e("i",{class:"fa-brands fa-vk"},null,-1),Fr=[Gr],Ir=e("i",{class:"fa fa-phone"},null,-1),Nr=[Ir],zr=e("a",{href:"#","data-menu":"menu-share",class:"icon icon-xs rounded-sm mr-1 shadow-l bg-red2-dark text-white"},[e("i",{class:"fa fa-share-alt"})],-1),Ur=e("a",{href:"#",class:"back-to-top icon icon-xs rounded-sm shadow-l bg-highlight text-white"},[e("i",{class:"fa fa-arrow-up"})],-1),Yr=e("p",{class:"footer-copyright pb-3 mb-1"},[v("© CashMan "),e("span",{id:"copyright-year"},"2023"),v(". Все Права защищены.")],-1),Vr=e("div",{class:"footer-card card shape-rounded","data-card-height":"230",style:{height:"230px"}},[e("div",{class:"card-overlay bg-highlight opacity-95"}),e("div",{class:"card-bg preload-img","data-src":"/shop/images/pictures/20s.jpg"})],-1),Dr={computed:{...G(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return window.self||null},tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},created(){window.currentBot=this.bot.data,window.currentScript=this.slug_id||null,this.$store.dispatch("loadSelf").then(()=>{window.self=this.getSelf}),this.$notify({type:"success",text:"The operation completed"})},methods:{open(o){this.tg.openLink(o)}}},od=Object.assign(Dr,{__name:"Main",props:{bot:{type:Object},slug_id:{type:String}},setup(o){return(s,n)=>{const l=P("router-view"),t=A("lazy");return c(),U($r,null,{default:h(()=>[s.self?(c(),r("div",xr,[e("div",Cr,[e("h2",null,[e("a",{onClick:n[0]||(n[0]=i=>s.$router.back())},[Mr,v(" "+m(s.$route.meta.title||"Меню"),1)])]),e("a",{href:s.$route.meta.hide_menu?"#":"#/contact-us",class:"bg-fade-gray1-dark shadow-xl d-flex justify-content-center align-items-center font-18 bot-avatar"},[C(e("img",Tr,null,512),[[t,s.logo]])],8,jr)]),Or,d(l,{bot:o.bot},null,8,["bot"]),e("div",Sr,[e("div",Br,[e("a",Pr,m(s.currentBot.company.title||"CashMan:Shopify"),1),Rr,e("p",qr,m(s.currentBot.company.description||"Описание вашего магазина"),1),e("div",Lr,[s.currentBot.company.email?(c(),r("a",{key:0,href:"#",onClick:n[1]||(n[1]=i=>s.open("mailTo:"+s.currentBot.company.email)),class:"icon icon-xs rounded-sm shadow-l mr-1 bg-facebook text-white"},Er)):f("",!0),s.currentBot.company.links[0]?(c(),r("a",{key:1,href:"#",onClick:n[2]||(n[2]=i=>s.open(s.currentBot.company.links[0])),class:"icon icon-xs rounded-sm shadow-l mr-1 bg-vk text-white"},Fr)):f("",!0),s.currentBot.company.phones[0]?(c(),r("a",{key:2,href:"#",onClick:n[3]||(n[3]=i=>s.open("tel:"+s.currentBot.company.phones[0])),class:"icon icon-xs rounded-sm shadow-l mr-1 bg-phone text-white"},Nr)):f("",!0),zr,Ur]),Yr]),Vr])])):f("",!0)]),modals:h(()=>[d(un),d(_o),d(zo),d(Qo),d(la),d(Ds),d(Xa),d(nn),d(ri),d(wl),d(Ol),d(fc),d(El),d(kc),d(Lc)]),_:1})}}});export{od as default};
