import{o as n,c as l,d as a,g as c,a as t,w as i,v as m,e as r,t as v,i as u,q as _,F as y,h as g,j as b}from"./app-2fcf7e9d.js";const f={key:0},F={key:1,class:"container pt-3 pb-3"},w={class:"col-12 d-flex justify-content-center mb-3"},S={class:"img-avatar"},k={class:"img-avatar"},U={class:"col-12"},V=t("p",{class:"mb-3"},[t("em",null,[r("Приветствую вас, "),t("strong",null,"Дорогой друг!"),r(" Я хочу поздавить тебя и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с тобой познакомится - это поможет сделать использование сервиса более кофортным и взаимовыгодным!")])],-1),I=t("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1),j={class:"input-group mb-3"},x=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),C={class:"col-12 d-flex justify-content-center mb-3"},B={class:"img-avatar"},q={class:"img-avatar"},O={class:"col-12"},N={class:"mb-3"},D=t("h6",{class:"text-center"},"Введите свой номер телефона",-1),M={class:"input-group mb-3"},$=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),P={class:"col-12 d-flex justify-content-center mb-3"},T={class:"img-avatar"},z={class:"img-avatar"},R={class:"col-12"},A=t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пол?")],-1),E=t("h6",{class:"text-center"},"Ты мужчина или женщина?",-1),J={class:"input-group mb-3 mt-3 w-100 d-flex justify-content-center"},L={class:"btn-group w-100",role:"group","aria-label":"vipForm-sex"},W=t("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-1"},"Мужчина",-1),G=t("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-2"},"Женщина",-1),H=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),K={class:"col-12 d-flex justify-content-center mb-3"},Q={class:"img-avatar"},X={class:"img-avatar"},Y={class:"col-12"},Z=t("p",{class:"mb-3"},[t("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1),tt=t("h6",{class:"text-center"},"Введите свой день рождения",-1),st={class:"input-group mb-3"},et=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),ot={class:"col-12 d-flex justify-content-center mb-3"},it={class:"img-avatar"},nt={class:"img-avatar"},lt={class:"col-12"},at=t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания.")],-1),rt=t("h6",{class:"text-center"},"Какой у Вас город?",-1),dt={class:"input-group mb-3"},ct=g('<datalist id="datalistCityOptions"><option value="Краснодар"></option><option value="Ростов-на-Дону"></option><option value="Таганрог"></option><option value="Донецк"></option><option value="Москва"></option></datalist>',1),pt=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),mt={class:"col-12 d-flex justify-content-center mb-3"},ut={class:"img-avatar"},bt={class:"img-avatar"},ht={class:"col-12"},vt=t("p",{class:"mb-3"},[t("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочитайте мои условия использования и дайте свое согласие на их принятие.")],-1),_t=t("h6",{class:"text-center"},"Последний шаг",-1),yt={class:"card border-success mb-3"},gt={class:"card-body"},ft=t("p",null,[r("Перед отправкой данных нужно ознакомиться с "),t("a",{href:"#"},"политикой конфиденциальности"),r(".")],-1),Ft={class:"form-check form-switch"},wt={class:"form-check-label",for:"confirm"},St={key:0},kt={key:1},Ut=["disabled"],Vt={key:2,class:"container pt-3 pb-3"},It={class:"row"},jt={class:"col-12"},xt={class:"card border-success"},Ct={class:"card-body"},Bt=t("ul",null,[t("li",null,"Накопление CashBack за покупки"),t("li",null,"Оплата товаров через CashBak"),t("li",null,"Реферальная программа")],-1),qt={data(){return{load:!1,confirm:!1,step:0,botUser:null,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0}}},mounted(){this.tgUser&&this.loadBotUser()},computed:{tg(){return window.Telegram.WebApp},tgUser(){const p=new URLSearchParams(this.tg.initData);return JSON.parse(p.get("user"))}},methods:{nextStep(){this.step++},loadBotUser(){this.loading=!0,this.$store.dispatch("loadCurrentBotUser",{dataObject:{bot_id:this.bot.id,tg:this.tgUser}}).then(p=>{this.loading=!1,this.botUser=p}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveVip",{dataObject:{bot_id:this.bot.id,tg:this.tgUser,form:this.vipForm}}).then(p=>{this.loading=!1,window.location.reload()}).catch(()=>{this.loading=!1})}}},Nt=Object.assign(qt,{__name:"VipForm",props:{bot:{type:Object}},setup(p){return(s,e)=>{const d=b("lazy"),h=b("mask");return n(),l(y,null,[s.botUser?(n(),l("div",f)):a("",!0),s.botUser.is_vip?(n(),l("div",Vt,[t("div",It,[t("div",jt,[t("div",xt,[t("div",Ct,[r(" Поздравляем! Вы являетесь нашим VIP-пользователеме! Вам доступны следующие возможности: "),Bt,t("button",{type:"button",onClick:e[14]||(e[14]=o=>s.tg.close()),class:"btn btn-outline-success w-100 p-3"},"Вернуться в бота ")])])])])])):(n(),l("div",F,[s.step===0?(n(),l("form",{key:0,onSubmit:e[1]||(e[1]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",w,[t("div",S,[i(t("img",k,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",U,[V,I,t("div",j,[i(t("input",{type:"text",class:"form-control text-center p-3",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":e[0]||(e[0]=o=>s.vipForm.name=o),"aria-describedby":"vipForm-name",required:""},null,512),[[m,s.vipForm.name]])]),x])],32)):a("",!0),s.step===1?(n(),l("form",{key:1,onSubmit:e[3]||(e[3]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",C,[t("div",B,[i(t("img",q,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",O,[t("p",N,[t("em",null,[r("- Отлично, "),t("strong",null,v(s.vipForm.name),1),r("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])]),D,t("div",M,[i(t("input",{type:"text",class:"form-control p-3 text-center","onUpdate:modelValue":e[2]||(e[2]=o=>s.vipForm.phone=o),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[h,"+7(###)###-##-##"],[m,s.vipForm.phone]])]),$])],32)):a("",!0),s.step===2?(n(),l("form",{key:2,onSubmit:e[6]||(e[6]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",P,[t("div",T,[i(t("img",z,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",R,[A,E,t("div",J,[t("div",L,[i(t("input",{type:"radio",value:!0,"onUpdate:modelValue":e[4]||(e[4]=o=>s.vipForm.sex=o),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-1",autocomplete:"off",required:""},null,512),[[u,s.vipForm.sex]]),W,i(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=o=>s.vipForm.sex=o),value:!1,class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-2",autocomplete:"off",required:""},null,512),[[u,s.vipForm.sex]]),G])]),H])],32)):a("",!0),s.step===3?(n(),l("form",{key:3,onSubmit:e[8]||(e[8]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",K,[t("div",Q,[i(t("img",X,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",Y,[Z,tt,t("div",st,[i(t("input",{type:"date",class:"form-control p-3","onUpdate:modelValue":e[7]||(e[7]=o=>s.vipForm.birthday=o),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[m,s.vipForm.birthday]])]),et])],32)):a("",!0),s.step===4?(n(),l("form",{key:4,onSubmit:e[10]||(e[10]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",ot,[t("div",it,[i(t("img",nt,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",lt,[at,rt,t("div",dt,[i(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=o=>s.vipForm.city=o),list:"datalistCityOptions",class:"form-control p-3",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[m,s.vipForm.city]]),ct]),pt])],32)):a("",!0),s.step===5?(n(),l("form",{key:5,onSubmit:e[13]||(e[13]=c((...o)=>s.submit&&s.submit(...o),["prevent"])),class:"row"},[t("div",mt,[t("div",ut,[i(t("img",bt,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",ht,[vt,_t,t("div",yt,[t("div",gt,[ft,t("div",Ft,[i(t("input",{class:"form-check-input","onUpdate:modelValue":e[11]||(e[11]=o=>s.confirm=o),type:"checkbox",role:"switch",id:"confirm"},null,512),[[_,s.confirm]]),t("label",wt,[s.vipForm.sex?a("",!0):(n(),l("span",St,"С правилами озакномилась")),s.vipForm.sex?(n(),l("span",kt,"С правилами ознакомлен")):a("",!0)])])])]),t("button",{type:"button",onClick:e[12]||(e[12]=o=>s.step=0),class:"btn btn-outline-primary w-100 p-3 mb-3"},"Исправить ошибки "),t("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-outline-success w-100 p-3"},"Отправить анкету ",8,Ut)])],32)):a("",!0)]))],64)}}});export{Nt as default};
