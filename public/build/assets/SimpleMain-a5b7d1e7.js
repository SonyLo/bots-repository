import{G as f,q as s,t as a,B as p,O as _,u as g,a1 as y,v as e,D as d,y as l,N as v,A as r,x as c,F as h,C as u,R as b,K as w}from"./index.es-f98e90e3.js";const k=e("title",null,"CashMan - система твоего бизнеса внутри",-1),T=e("meta",{name:"description",content:"CashMan - система твоего бизнеса внутри"},null,-1),$={"data-bs-theme":"dark"},C={class:"navbar navbar-dark bg-dark shadow-sm"},B={class:"container flex-row-reverse p-2"},S={key:0,class:"mb-0 text-white",style:{"font-size":"12px"}},V={key:0},j=e("i",{class:"fa-solid fa-location-dot mr-1"},null,-1),L={key:1},q={key:1,class:"mb-0 text-white",style:{"font-size":"12px"}},O=e("button",{class:"btn btn-link rounded-0 border-0 p-1",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#sidebar-menu","aria-controls":"sidebar-menu"},[e("span",{class:"navbar-toggler-icon"})],-1),M={class:"text-body-secondary",style:{padding:"0px 0px 90px 0px"}},A={class:"container g-2 d-flex justify-content-center flex-column align-items-center"},E=["innerHTML"],F={key:1,class:"mb-3 text-center"},N=e("i",{class:"fa-solid fa-map-location-dot mr-2"},null,-1),x={class:"mb-0"},z={class:"d-flex justify-content-center my-3"},P=e("i",{class:"fa-solid fa-arrow-up mr-2"},null,-1),D={class:"offcanvas offcanvas-start custom-offcanvas",style:{width:"70%","border-radius":"0px 10px 10px 0px"},tabindex:"-1",id:"sidebar-menu","aria-labelledby":"offcanvasExampleLabel"},I={class:"offcanvas-header"},R={class:"offcanvas-title",id:"offcanvasExampleLabel"},G=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1),H={class:"offcanvas-body"},U={class:"list-unstyled"},W={class:"p-1"},J={class:"p-1"},K={class:"p-1"},X={class:"p-1"},Q={key:0,class:"fw-bold"},Y={class:"p-1"},Z={class:"p-1"},tt={class:"p-1"},et=e("div",{class:"border-top my-3"},null,-1),ot={key:0,class:"p-2"},st={class:"list-unstyled"},nt={key:0},at=e("p",{class:"mb-0"},"Телефон",-1),it=[at],lt={class:"mb-2"},rt={href:"javascript:void(0)",class:"text-decoration-none fw-bold"},ct={key:2},dt=e("p",{class:"mb-0"},"Ссылки",-1),ht=[dt],mt=["href"],ut={key:4},pt=e("p",{class:"mb-0"},"Почта",-1),bt=[pt],ft={key:0,href:"javascript:void(0)",class:"text-decoration-none fw-bold"},_t=e("div",{class:"border-top my-3"},null,-1),gt={class:"dropdown"},yt=e("button",{class:"btn btn-light w-100 dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Тема оформления ",-1),vt={class:"dropdown-menu w-100 bg-light"},wt=["onClick"],kt={data(){return{currentTheme:"",themes:[{title:"Тема 3",href:"/theme5.bootstrap.min.css"},{title:"Тема 4",href:"/theme6.bootstrap.min.css"},{title:"Тема 5",href:"/theme8.bootstrap.min.css"},{title:"Тема 6",href:"/theme9.bootstrap.min.css"},{title:"Тема 7",href:"/theme10.bootstrap.min.css"},{title:"Тема 8",href:"/theme11.bootstrap.min.css"},{title:"Тема 9",href:"/theme12.bootstrap.min.css"},{title:"Тема 10",href:"/theme13.bootstrap.min.css"},{title:"Тема 11",href:"/theme14.bootstrap.min.css"},{title:"Тема 12",href:"/theme15.bootstrap.min.css"},{title:"Тема 13",href:"/theme16.bootstrap.min.css"}]}},watch:{$route(i){let t=localStorage.getItem("cashman_global_client_theme")||null;t&&this.$nextTick(()=>{this.currentTheme=t}),console.log("router",this.$route.name),this.$preloader.show(),this.$nextTick(()=>{document.body.scrollTop=document.documentElement.scrollTop=0})}},computed:{...f(["getSelf","cartTotalCount"]),tg(){return window.Telegram.WebApp},bot(){return window.currentBot}},mounted(){let i=localStorage.getItem("cashman_global_client_theme")||null;i&&this.$nextTick(()=>{this.currentTheme=i}),this.changeTheme(this.tg.colorScheme),this.tg.BackButton.show(),this.tg.BackButton.onClick(()=>{document.querySelectorAll('[data-bs-dismiss="modal"]').forEach(t=>t.click()),this.$router.back()})},methods:{switchTheme(i){let t=document.querySelector("#theme");t.href=this.themes[i].href,localStorage.setItem("cashman_global_client_theme",t.href),this.$nextTick(()=>{this.currentTheme=t.href})},goTo(i){this.$router.push({name:i})},changeTheme(i){document.querySelectorAll("[data-bs-theme]").forEach(o=>{console.log("item",o),o.setAttribute("data-bs-theme",i)})},scrollTop(){window.scrollTo(0,80)},openLink(i){this.tg.openLink(i,{try_instant_view:!0})},closeShop(){this.tg.close()}}},Tt=Object.assign(kt,{__name:"SimpleLayout",setup(i){return(t,o)=>(s(),a(h,null,[p(g(y),null,{default:_(()=>[k,T]),_:1}),e("header",$,[e("div",C,[e("div",B,[t.bot.company?(s(),a("p",S,[t.bot.company.address?(s(),a("span",V,[j,d(" "+l(t.bot.company.address),1)])):(s(),a("span",L,l(t.bot.title||"Магазин"),1))])):(s(),a("p",q,l(t.bot.title||"Бот"),1)),O])])]),v(t.$slots,"default"),e("footer",M,[e("div",A,[t.$route.name!="FeedBackV2"?(s(),a("button",{key:0,onClick:o[0]||(o[0]=n=>t.goTo("FeedBackV2")),class:"btn btn-link mb-2 w-100 p-3 text-primary"},"Обратная связь")):r("",!0),e("p",{class:"mb-3 text-center",innerHTML:t.bot.company.description},null,8,E),t.bot.company.address?(s(),a("p",F,[N,d(l(t.bot.company.address),1)])):r("",!0),e("p",x,l(t.bot.company.title)+"©2024",1),e("p",z,[e("a",{href:"javascript:void(0)",onClick:o[1]||(o[1]=(...n)=>t.scrollTop&&t.scrollTop(...n))},[P,d("Вернуться наверх")])])])]),e("div",D,[e("div",I,[e("h6",R,l(t.bot.title||"Магазин"),1),G]),e("div",H,[e("ul",U,[e("li",W,[e("a",{class:c([{"fw-bold":t.$route.name==="MenuV2"},"text-decoration-none fw-normal"]),onClick:o[2]||(o[2]=n=>t.goTo("MenuV2")),href:"javascript:void(0)"}," Главное меню",2)]),e("li",J,[e("a",{class:c([{"fw-bold":t.$route.name==="ProfileV2"},"text-decoration-none fw-normal"]),onClick:o[3]||(o[3]=n=>t.goTo("ProfileV2")),href:"javascript:void(0)"}," Профиль",2)]),e("li",K,[e("a",{class:c([{"fw-bold":t.$route.name==="CatalogV2"},"text-decoration-none fw-normal"]),onClick:o[4]||(o[4]=n=>t.goTo("CatalogV2")),href:"javascript:void(0)"}," Каталог товаров",2)]),e("li",X,[e("a",{class:c([{"fw-bold":t.$route.name==="ShopCartV2"},"text-decoration-none fw-normal"]),onClick:o[5]||(o[5]=n=>t.goTo("ShopCartV2")),href:"javascript:void(0)"},[d(" Корзина "),t.cartTotalCount>0?(s(),a("span",Q,"("+l(t.cartTotalCount)+")",1)):r("",!0)],2)]),e("li",Y,[e("a",{class:c([{"fw-bold":t.$route.name==="OrdersV2"},"text-decoration-none fw-normal"]),onClick:o[6]||(o[6]=n=>t.goTo("OrdersV2")),href:"javascript:void(0)"}," История заказов",2)]),e("li",Z,[e("a",{class:c([{"fw-bold":t.$route.name==="CashBackV2"},"text-decoration-none fw-normal"]),onClick:o[7]||(o[7]=n=>t.goTo("CashBackV2")),href:"javascript:void(0)"}," CashBack",2)]),e("li",tt,[e("a",{class:c([{"fw-bold":t.$route.name==="FeedBackV2"},"text-decoration-none fw-normal"]),onClick:o[8]||(o[8]=n=>t.goTo("FeedBackV2")),href:"javascript:void(0)"}," Оставить отзыв",2)])]),et,t.bot.company?(s(),a("div",ot,[e("ul",st,[(t.bot.company.phones||[]).length>0?(s(),a("li",nt,it)):r("",!0),(t.bot.company.phones||[]).length>0?(s(!0),a(h,{key:1},u(t.bot.company.phones,n=>(s(),a("li",lt,[e("a",rt,l(n),1)]))),256)):r("",!0),(t.bot.social_links||[]).length>0?(s(),a("li",ct,ht)):r("",!0),(t.bot.social_links||[]).length>0?(s(!0),a(h,{key:3},u(t.bot.social_links,n=>(s(),a("li",null,[e("a",{target:"_blank",href:n.url,class:"text-white"},l(n.title||"ссылка"),9,mt)]))),256)):r("",!0),t.bot.company.email?(s(),a("li",ut,bt)):r("",!0),e("li",null,[t.bot.company.email?(s(),a("a",ft,l(t.bot.company.email),1)):r("",!0)])])])):r("",!0),_t,e("div",gt,[yt,e("ul",vt,[(s(!0),a(h,null,u(t.themes,(n,m)=>(s(),a("li",null,[e("button",{type:"button",onClick:Ct=>t.switchTheme(m),class:c([{active:t.currentTheme.indexOf(n.href)!=-1},"list-group-item list-group-item-action p-2 w-100 text-primary"]),"aria-current":"true"},l(n.title||"-"),11,wt)]))),256))])])])])],64))}}),$t={computed:{...f(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return window.self||null},tg(){return window.Telegram.WebApp},tgUser(){const i=new URLSearchParams(this.tg.initData);return JSON.parse(i.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},created(){window.currentBot=this.bot.data,window.currentScript=this.slug_id||null,this.$store.dispatch("loadSelf").then(()=>{window.self=this.getSelf}),this.$notify({title:"Главная",text:"Успешно!",type:"success"})},methods:{open(i){this.tg.openLink(i)}}},St=Object.assign($t,{__name:"SimpleMain",props:{bot:{type:Object},slug_id:{type:String}},setup(i){return(t,o)=>{const n=b("notifications"),m=b("router-view");return s(),w(Tt,null,{default:_(()=>[p(n,{position:"top right",width:"100%",speed:"100"}),p(m,{bot:i.bot},null,8,["bot"])]),_:1})}}});export{St as default};
