import{c as n,g as c,a as t,w as i,v as m,d as l,f as r,t as v,i as u,q as _,h as y,j as b,o as a}from"./app-0c485829.js";const f={key:0,class:"container pt-3 pb-3"},g={class:"col-12 d-flex justify-content-center mb-3"},F={class:"img-avatar"},S={class:"img-avatar"},w={class:"col-12"},k=t("p",{class:"mb-3"},[t("em",null,[r("Приветствую тебя, "),t("strong",null,"Дорогой друг!"),r(" Я хочу поздаврить тебя и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с тобой познакомится - это поможет сделать использование сервиса более кофортным и взаимовыгодным!")])],-1),V=t("h6",{class:"text-center"},"Как мне к тебе обращаться?",-1),I={class:"input-group mb-3"},j=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),x={class:"col-12 d-flex justify-content-center mb-3"},U={class:"img-avatar"},q={class:"img-avatar"},C={class:"col-12"},O={class:"mb-3"},B=t("h6",{class:"text-center"},"Введи свой номер телефона",-1),N={class:"input-group mb-3"},D=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),M={class:"col-12 d-flex justify-content-center mb-3"},P={class:"img-avatar"},T={class:"img-avatar"},z={class:"col-12"},R=t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог обращаться к тебе правильно, скажи мне, какого ты пола?")],-1),$=t("h6",{class:"text-center"},"Ты парень или девушка?",-1),A={class:"input-group mb-3 mt-3 w-100 d-flex justify-content-center"},E={class:"btn-group w-100",role:"group","aria-label":"vipForm-sex"},J=t("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-1"},"Парень",-1),L=t("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-2"},"Девушка",-1),W=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),G={class:"col-12 d-flex justify-content-center mb-3"},H={class:"img-avatar"},K={class:"img-avatar"},Q={class:"col-12"},X=t("p",{class:"mb-3"},[t("em",null,"Для того, чтобы я мог поздравлять тебя с днем рождения и сделать тебе приятно, мне нужно знать, когда он у тебя")],-1),Y=t("h6",{class:"text-center"},"Введи свой день рождения",-1),Z={class:"input-group mb-3"},tt=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),st={class:"col-12 d-flex justify-content-center mb-3"},et={class:"img-avatar"},ot={class:"img-avatar"},it={class:"col-12"},nt=t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог показывать тебе информацию, актуальную для твоего города, мне нужно знать, где ты живешь.")],-1),at=t("h6",{class:"text-center"},"Какой у тебя город?",-1),lt={class:"input-group mb-3"},rt=y('<datalist id="datalistCityOptions"><option value="Краснодар"></option><option value="Ростов-на-Дону"></option><option value="Таганрог"></option><option value="Донецк"></option><option value="Москва"></option></datalist>',1),dt=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),ct={class:"col-12 d-flex justify-content-center mb-3"},pt={class:"img-avatar"},mt={class:"img-avatar"},ut={class:"col-12"},bt=t("p",{class:"mb-3"},[t("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочти мои условия использования и дай свое согласие на их принятие.")],-1),ht=t("h6",{class:"text-center"},"Последний шаг",-1),vt={class:"card border-success mb-3"},_t={class:"card-body"},yt=t("p",null,[r("Перед отправкой данных ознакомься с "),t("a",{href:"#"},"правилами нашего сервиса"),r(" и с "),t("a",{href:"#"},"политикой конфиденциальности"),r(".")],-1),ft={class:"form-check form-switch"},gt={class:"form-check-label",for:"confirm"},Ft={key:0},St={key:1},wt=["disabled"],kt={key:1,class:"container pt-3 pb-3"},Vt=t("div",{class:"row"},[t("div",{class:"col-12"},[t("div",{class:"card border-success"},[t("div",{class:"card-body"},[r(" Поздравляем! Вы являетесь нашим VIP-пользователеме! Вам доступны следующие возможности: "),t("ul",null,[t("li",null,"Накопление CashBack за покупки"),t("li",null,"Оплата товаров через CashBak"),t("li",null,"Реферальная программа")])])])])],-1),It=[Vt],jt={data(){return{load:!1,confirm:!1,step:0,vipForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0}}},computed:{tg(){return window.Telegram.WebApp},tgUser(){const p=new URLSearchParams(this.tg.initData);return JSON.parse(p.get("user"))}},methods:{nextStep(){this.step++},submit(){this.loading=!0,this.$store.dispatch("saveVip",{dataObject:{bot_id:this.bot.id,tg:this.tgUser,form:this.vipForm}}).then(p=>{this.loading=!1,window.location.reload()}).catch(()=>{this.loading=!1})}}},Ut=Object.assign(jt,{__name:"VipForm",props:{bot:{type:Object},botUser:{type:Object}},setup(p){return(s,e)=>{const d=b("lazy"),h=b("mask");return p.botUser.is_vip?(a(),n("div",kt,It)):(a(),n("div",f,[s.step===0?(a(),n("form",{key:0,onSubmit:e[1]||(e[1]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",g,[t("div",F,[i(t("img",S,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",w,[k,V,t("div",I,[i(t("input",{type:"text",class:"form-control text-center p-3",placeholder:"Петров Петр Семенович","aria-label":"vipForm-name","onUpdate:modelValue":e[0]||(e[0]=o=>s.vipForm.name=o),"aria-describedby":"vipForm-name",required:""},null,512),[[m,s.vipForm.name]])]),j])],32)):l("",!0),s.step===1?(a(),n("form",{key:1,onSubmit:e[3]||(e[3]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",x,[t("div",U,[i(t("img",q,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",C,[t("p",O,[t("em",null,[r("- Отлично, "),t("strong",null,v(s.vipForm.name),1),r("! А теперь, чтобы ты мог пользоваться всеми моими функциями, мне нужен твой номер телефона. Можешь ввести его?")])]),B,t("div",N,[i(t("input",{type:"text",class:"form-control p-3 text-center","onUpdate:modelValue":e[2]||(e[2]=o=>s.vipForm.phone=o),placeholder:"+7(000)000-00-00","aria-label":"vipForm-phone","aria-describedby":"vipForm-phone",required:""},null,512),[[h,"+7(###)###-##-##"],[m,s.vipForm.phone]])]),D])],32)):l("",!0),s.step===2?(a(),n("form",{key:2,onSubmit:e[6]||(e[6]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",M,[t("div",P,[i(t("img",T,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",z,[R,$,t("div",A,[t("div",E,[i(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=o=>s.vipForm.sex=o),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-1",autocomplete:"off",required:""},null,512),[[u,s.vipForm.sex]]),J,i(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=o=>s.vipForm.sex=o),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-2",autocomplete:"off",required:""},null,512),[[u,s.vipForm.sex]]),L])]),W])],32)):l("",!0),s.step===3?(a(),n("form",{key:3,onSubmit:e[8]||(e[8]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",G,[t("div",H,[i(t("img",K,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",Q,[X,Y,t("div",Z,[i(t("input",{type:"date",class:"form-control p-3","onUpdate:modelValue":e[7]||(e[7]=o=>s.vipForm.birthday=o),"aria-label":"vipForm-birthday","aria-describedby":"vipForm-birthday",required:""},null,512),[[m,s.vipForm.birthday]])]),tt])],32)):l("",!0),s.step===4?(a(),n("form",{key:4,onSubmit:e[10]||(e[10]=c((...o)=>s.nextStep&&s.nextStep(...o),["prevent"])),class:"row"},[t("div",st,[t("div",et,[i(t("img",ot,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",it,[nt,at,t("div",lt,[i(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=o=>s.vipForm.city=o),list:"datalistCityOptions",class:"form-control p-3",placeholder:"Краснодар","aria-label":"vipForm-city","aria-describedby":"vipForm-city",required:""},null,512),[[m,s.vipForm.city]]),rt]),dt])],32)):l("",!0),s.step===5?(a(),n("form",{key:5,onSubmit:e[13]||(e[13]=c((...o)=>s.submit&&s.submit(...o),["prevent"])),class:"row"},[t("div",ct,[t("div",pt,[i(t("img",mt,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",ut,[bt,ht,t("div",vt,[t("div",_t,[yt,t("div",ft,[i(t("input",{class:"form-check-input","onUpdate:modelValue":e[11]||(e[11]=o=>s.confirm=o),type:"checkbox",role:"switch",id:"confirm"},null,512),[[_,s.confirm]]),t("label",gt,[s.vipForm.sex?l("",!0):(a(),n("span",Ft,"С правилами озакномилась")),s.vipForm.sex?(a(),n("span",St,"С правилами ознакомлен")):l("",!0)])])])]),t("button",{type:"button",onClick:e[12]||(e[12]=o=>s.step=0),class:"btn btn-outline-primary w-100 p-3 mb-3"},"Исправить ошибки "),t("button",{type:"submit",disabled:!s.confirm||s.load,class:"btn btn-outline-success w-100 p-3"},"Отправить анкету ",8,wt)])],32)):l("",!0)]))}}});export{Ut as default};
