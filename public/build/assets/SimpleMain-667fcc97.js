import"./MapModal.vue_vue_type_style_index_0_lang-8f81aa06.js";import{G as o,q as n,t as c,B as s,O as r,u,a1 as _,N as d,F as p,v as a,R as m,K as h}from"./index.es-886ebff7.js";import"./_plugin-vue_export-helper-c27b6911.js";const g=a("title",null,"CashMan - система твоего бизнеса внутри",-1),w=a("meta",{name:"description",content:"CashMan - система твоего бизнеса внутри"},null,-1),f={watch:{$route(t){this.$preloader.show(),this.$nextTick(()=>{document.body.scrollTop=document.documentElement.scrollTop=0})}},computed:{...o(["getSelf"]),tg(){return window.Telegram.WebApp}},mounted(){},methods:{openLink(t){this.tg.openLink(t,{try_instant_view:!0})},closeShop(){this.tg.close()}}},b=Object.assign(f,{__name:"SimpleLayout",setup(t){return(e,i)=>(n(),c(p,null,[s(u(_),null,{default:r(()=>[g,w]),_:1}),d(e.$slots,"default")],64))}}),S={computed:{...o(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return window.self||null},tg(){return window.Telegram.WebApp},tgUser(){const t=new URLSearchParams(this.tg.initData);return JSON.parse(t.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},created(){window.currentBot=this.bot.data,window.currentScript=this.slug_id||null,this.$store.dispatch("loadSelf").then(()=>{window.self=this.getSelf}),this.$botNotification.success("Главная","Успешно!")},methods:{open(t){this.tg.openLink(t)}}},v=Object.assign(S,{__name:"SimpleMain",props:{bot:{type:Object},slug_id:{type:String}},setup(t){return(e,i)=>{const l=m("router-view");return n(),h(b,null,{default:r(()=>[s(l,{bot:t.bot},null,8,["bot"])]),_:1})}}});export{v as default};
