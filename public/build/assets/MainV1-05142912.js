var ne=Object.defineProperty;var ae=(o,s,a)=>s in o?ne(o,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[s]=a;var L=(o,s,a)=>(ae(o,typeof s!="symbol"?s+"":s,a),a);import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";import{aF as r,A as d,D as e,b4 as m,F as T,bD as N,aT as D,by as x,O as C,z as v,bB as F,P as c,aQ as E,bn as P,N as A,aS as G,bw as _,y as H}from"./index.es-0c1040a4.js";import{r as ie}from"./app-0a5943b0.js";import{_ as le}from"./V1Layout-943574dd.js";import"./BotMediaList-7025de24.js";import"./Pagination-36c231ef.js";import"./InlineInjectionsHelper.vue_vue_type_style_index_0_lang-2226bae9.js";import"./main-448b0665.js";import"./TelegramChannelHelper-9e8fc8f5.js";import"./v4-4a60fe23.js";import"./carousel.es-a798ae94.js";import"./GlobalSlugList-cf2de431.js";import"./vue3-perfect-scrollbar-8b545248.js";import"./index-d071548a.js";const ce={data(){return{title:null,text:null}},mounted(){window.addEventListener("notification",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#notification-1").toast("show")}),window.addEventListener("success",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#menu-success-1").showMenu()}),window.addEventListener("warning",o=>{this.title=o.detail.title||null,this.text=o.detail.text||null,$("#menu-warning-1").showMenu()})}},re={id:"notification-1","data-dismiss":"notification-1","data-delay":"3000","data-autohide":"true",class:"notification notification-ios bg-dark1-dark"},de=e("span",{class:"notification-icon"},[e("i",{class:"fa fa-bell"}),e("em",null,"Оповещение"),e("i",{"data-dismiss":"notification-1",class:"fa fa-times-circle"})],-1),he={class:"font-15 color-white mb-n3"},ue={class:"pt-2"},pe={id:"menu-success-1",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{display:"block",height:"305px",overflow:"auto"}},me=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-check-circle color-green1-dark"})],-1),_e={class:"text-center mt-3 text-uppercase font-700"},fe=["innerHTML"],be=e("a",{"data-dismiss":"menu-success-1",class:"close-menu btn btn-m btn-center-m button-s shadow-l rounded-s text-uppercase font-900 bg-green1-light"},"Хорошо",-1),ge={id:"menu-warning-1",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{display:"block",height:"305px",overflow:"auto"}},ve=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-times color-red2-dark"})],-1),ye={class:"text-center mt-3 text-uppercase font-700"},we=["innerHTML"],ke=e("a",{"data-dismiss":"menu-warning-1",class:"close-menu btn btn-m btn-center-m button-s shadow-l rounded-s text-uppercase font-900 bg-red1-light"},"Хорошо",-1);function $e(o,s,a,l,t,i){return r(),d(T,null,[e("div",re,[de,e("h1",he,m(t.title||"Системное"),1),e("p",ue,m(t.text||"Ошибка отображения текста"),1)]),e("div",pe,[me,e("h1",_e,m(t.title||"Системное"),1),e("p",{class:"boxed-text-l",innerHTML:t.text},null,8,fe),be]),e("div",ge,[ve,e("h1",ye,m(t.title||"Системное"),1),e("p",{class:"boxed-text-l",innerHTML:t.text},null,8,we),ke])],64)}const xe=g(ce,[["render",$e]]),Ce={data(){return{product:null}},computed:{...N(["inCart","cartTotalCount","inFav"]),currentBot(){return window.currentBot},self(){return window.self},currentPrice(){return this.product.current_price},checkInCart(){return this.inCart(this.product.id)}},mounted(){window.addEventListener("add-to-cart",o=>{this.product=o.detail.product||null,this.$nextTick(()=>{$("#menu-product-info").showMenu()})})},methods:{removeFromFavorites(){this.product.in_favorite=!1,this.$store.dispatch("removeFromFavorites",this.product.id).then(()=>{this.$botNotification.notification("Избранное","Успешно удалено из избранного!")})},addToFavorite(){this.product.in_favorite=!0,this.$store.dispatch("addToFavorites",this.product).then(()=>{this.$botNotification.notification("Избранное","Успешно добавлено в избранное!")})},goToProduct(){this.$router.push({name:"product",params:{productId:this.product.id}}),$("#menu-product-info").hideMenu()},incProductCart(){this.checkInCart===0?this.$store.dispatch("addProductToCart",this.product):this.$store.dispatch("incQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Успешно добавлено в корзину!")},decProductCart(){this.checkInCart<=1?this.$store.dispatch("removeProduct",this.product.id):this.$store.dispatch("decQuantity",this.product.id),this.$botNotification.notification("Добавление товара","Товар удален!")}}},je={id:"menu-product-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"420px",display:"block",overflow:"auto"},"data-menu-effect":"menu-over"},Me={key:0,class:"w-100"},Be={class:"mr-auto w-100 p-2"},Oe={style:{"object-fit":"cover",width:"100px",height:"200px"},class:"rounded-m w-100"},Pe={class:"text-center font-700 mt-3 pt-1 px-4"},qe={class:"mb-2 px-4"},Te={key:0,class:"row text-center mr-2 ml-2 mb-3"},Le={class:"col-4 mb-n2"},Ge=["disabled"],De=e("i",{class:"fa-solid fa-minus font-22"},null,-1),Ae=[De],Ie={class:"col-4 mb-n2 d-flex justify-content-center align-items-center"},Ee={class:"font-22"},Ne={class:"col-4 mb-n2"},Fe=["disabled"],Se=e("i",{class:"fa-solid fa-plus font-22"},null,-1),ze=[Se],Re={key:1,class:"row text-center mr-2 ml-2 mb-3"},Ye={class:"col-12 mb-n2"},Ue=["disabled"],Ve=e("i",{class:"fa-solid fa-cart-plus font-12"},null,-1);function He(o,s,a,l,t,i){const n=D("lazy");return r(),d("div",je,[t.product?(r(),d("div",Me,[e("div",Be,[x(e("img",Oe,null,512),[[n,t.product.images[0]]])]),e("h4",Pe,m(t.product.title||"Нет заголовка"),1),e("p",qe,m(t.product.description),1),i.checkInCart>0?(r(),d("div",Te,[e("div",Le,[e("button",{disabled:t.product.in_stop_list_at,onClick:s[0]||(s[0]=(...h)=>i.decProductCart&&i.decProductCart(...h)),type:"button",class:"btn p-3 w-100 bg-red1-dark rounded-s shadow-l"},Ae,8,Ge)]),e("div",Ie,[e("strong",Ee,m(i.checkInCart),1)]),e("div",Ne,[e("button",{type:"button",disabled:t.product.in_stop_list_at,onClick:s[1]||(s[1]=(...h)=>i.incProductCart&&i.incProductCart(...h)),class:"btn p-3 w-100 bg-highlight rounded-s shadow-l"},ze,8,Fe)])])):(r(),d("div",Re,[e("div",Ye,[e("button",{type:"button",disabled:t.product.in_stop_list_at,onClick:s[2]||(s[2]=(...h)=>i.incProductCart&&i.incProductCart(...h)),class:"btn p-3 bg-highlight rounded-s shadow-l w-100"},[Ve,C(" В корзину "),e("strong",null,m(i.currentPrice)+"₽",1)],8,Ue)])]))])):v("",!0)])}const Qe=g(Ce,[["render",He]]),Ke={data(){return{item:null}},mounted(){window.addEventListener("show-chashback-info",o=>{this.item=o.detail.item||null,this.$nextTick(()=>{$("#cashback-item-info").showMenu()})})},methods:{}},We={id:"cashback-item-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"50vh",display:"block"},"data-menu-effect":"menu-over"},Je={key:0,class:"w-100"},Ze={class:"table table-borderless rounded-sm shadow-l m-0",style:{overflow:"hidden"}},Xe=e("thead",null,[e("tr",{class:"bg-gray1-dark"},[e("th",{scope:"col",class:"color-theme"},"Параметр"),e("th",{scope:"col",class:"color-theme"},"Значение")])],-1),et=e("th",{scope:"row"},"Тип операции",-1),tt={class:"font-weight-bold"},ot=e("th",{scope:"row"},"Сумма CashBack, руб",-1),st={class:"font-weight-bold"},nt={key:0},at=e("th",{scope:"row"},"Уровень начисления",-1),it={class:"font-weight-bold"},lt={key:1},ct=e("th",{scope:"row"},"Сумма в чеке, руб",-1),rt={class:"font-weight-bold"},dt=e("th",{scope:"row"},"Дата операции",-1),ht={class:"font-weight-bold"},ut=e("th",{scope:"row"},"Описание операции",-1),pt={class:"font-weight-bold"},mt=e("th",{scope:"row"},"TG id сотрудника",-1),_t={class:"font-weight-bold"},ft=e("th",{scope:"row"},"Имя сотрудника",-1),bt={class:"font-weight-bold"},gt=e("th",{scope:"row"},"Телефон сотрудника",-1),vt={class:"font-weight-bold"};function yt(o,s,a,l,t,i){return r(),d("div",We,[t.item?(r(),d("div",Je,[e("table",Ze,[Xe,e("tbody",null,[e("tr",null,[et,e("td",tt,m(t.item.operation_type?"Начисление":"Списание"),1)]),e("tr",null,[ot,e("td",st,m(t.item.amount||0),1)]),t.item.operation_type?(r(),d("tr",nt,[at,e("td",it,m(t.item.level||0),1)])):v("",!0),t.item.operation_type?(r(),d("tr",lt,[ct,e("td",rt,m(t.item.money_in_check||0),1)])):v("",!0),e("tr",null,[dt,e("td",ht,m(o.$filters.current(t.item.created_at)),1)]),e("tr",null,[ut,e("td",pt,m(t.item.description||"Нет описания"),1)]),e("tr",null,[mt,e("td",_t,m(t.item.employee.telegram_chat_id||"Не указано"),1)]),e("tr",null,[ft,e("td",bt,m(t.item.employee.fio_from_telegram||"Не указано"),1)]),e("tr",null,[gt,e("td",vt,m(t.item.employee.phone||"Не указано"),1)])])])])):v("",!0)])}const wt=g(Ke,[["render",yt]]),kt={props:{code:{type:String,default:"001"}},computed:{self(){return window.self},script(){return window.currentScript},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){switch(this.code){case"001":return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa((this.code||"001")+this.self.telegram_chat_id);case"002":return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("002"+this.self.telegram_chat_id+"S"+this.script);default:return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa(this.code)}}},methods:{copy(){var o=$("<input>");$("body").append(o),o.val(this.link).select(),document.execCommand("copy"),o.remove()}}},$t={class:"w-100 p-3 object-fit-cover my-0",alt:""};function xt(o,s,a,l,t,i){const n=D("lazy");return r(),d(T,null,[x(e("img",$t,null,512),[[n,i.qr]]),e("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=F((...h)=>i.copy&&i.copy(...h),["prevent"])),class:"btn btn-link w-100 text-center"},"Скопировать ссылку")],64)}const Q=g(kt,[["render",xt]]),Ct={id:"qr-code",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"70vh",display:"block"},"data-menu-effect":"menu-over"},jt={key:0,class:"w-100 p-3"},Mt=e("p",{class:"mb-0 text-center"},"Дайте отсканировать этот QR-код",-1),Bt={data(){return{code:null}},mounted(){window.addEventListener("show-qr-code",o=>{this.code=null,this.$nextTick(()=>{this.code=o.detail.code||null,$("#qr-code").showMenu()})})},methods:{}},Ot=Object.assign(Bt,{__name:"QrCodeModal",setup(o){return(s,a)=>(r(),d("div",Ct,[s.code?(r(),d("div",jt,[Mt,c(Q,{code:s.code},null,8,["code"])])):v("",!0)]))}}),Pt={data(){return{params:{win:"Номер выигрыша",name:"Ф.И.О.",phone:"Телефон",answered_by:"Кто проверил",answered_at:"Дата ответа"},item:null,eventCallbackForm:{info:null},loading:!1}},mounted(){window.addEventListener("show-event-info",o=>{this.item=o.detail.item||null,this.$nextTick(()=>{$("#event-item-info").showMenu()})})},methods:{sendApproveToUser(){this.loading=!0,this.$store.dispatch("sendApproveToUser",{dataObject:{user_telegram_chat_id:this.item.bot_user.telegram_chat_id,action_id:this.item.id,...this.eventCallbackForm}}).then(o=>{this.loading=!1,this.eventCallbackForm.info=null,$("#event-item-info").hideMenu(),this.$botNotification.success("Отлично!","Оповещение успешно отправлено")}).catch(()=>{this.loading=!1,$("#event-item-info").hideMenu(),this.$botNotification.warning("Упс!","Что-то пошло не так")})}}},qt={id:"event-item-info",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"50vh",display:"block"},"data-menu-effect":"menu-over"},Tt={key:0,class:"w-100 p-3"},Lt=e("h4",null,"Информирование пользователя",-1),Gt={key:0},Dt={key:1},At={class:"mb-0"},It={class:"mb-3"},Et=e("label",{for:"bill-info",class:"form-label"},"Сообщение для пользователя",-1),Nt={class:"mb-3"},Ft=["disabled"];function St(o,s,a,l,t,i){return r(),d("div",qt,[t.item?(r(),d("div",Tt,[Lt,e("ul",null,[e("li",null," № события: "+m(t.item.slug.id),1),e("li",null," Название события: "+m(t.item.slug.command),1),e("li",null," Использовано попыток: "+m(t.item.current_attempts),1),e("li",null,[C(" Дата прохождения: "),t.item.completed_at?(r(),d("span",Gt,m(o.$filters.current(t.item.completed_at)),1)):(r(),d("span",Dt,"Не установлена"))]),(r(!0),d(T,null,E(t.item.data,n=>(r(),d("li",null,[(r(!0),d(T,null,E(Object.keys(n),h=>(r(),d("p",At,m(t.params[h])+":"+m(n[h]||"Не установлено"),1))),256))]))),256))]),e("form",{onSubmit:s[1]||(s[1]=F((...n)=>i.sendApproveToUser&&i.sendApproveToUser(...n),["prevent"]))},[e("div",It,[Et,x(e("textarea",{class:"form-control",placeholder:"Информация","onUpdate:modelValue":s[0]||(s[0]=n=>t.eventCallbackForm.info=n),id:"bill-info",rows:"3",required:""},null,512),[[P,t.eventCallbackForm.info]])]),e("div",Nt,[e("button",{disabled:t.loading,type:"submit",class:"btn btn-m btn-full mb-3 rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"}," Отправить ",8,Ft)])],32)])):v("",!0)])}const zt=g(Pt,[["render",St]]),Rt={id:"menu-share",class:"menu menu-box-bottom menu-box-detached rounded-m d-block",style:{height:"420px"}},Yt=e("h1",{class:"text-center font-700 font-26 mt-3 pt-2"},"Поделиться контактами",-1),Ut=e("p",{class:"boxed-text-xl under-heading m-0 p-0"}," Делитесь ссылкой с друзьями ",-1),Vt=e("div",{class:"divider divider-margins"},null,-1),Ht={class:"row text-center mr-4 ml-4 mb-0"},Qt={class:"col-3 mb-n2"},Kt=e("i",{class:"fab fa-facebook-f font-22"},null,-1),Wt=e("br",null,null,-1),Jt=[Kt,Wt],Zt=e("p",{class:"font-11 opacity-70"},"Facebook",-1),Xt={class:"col-3 mb-n2"},eo=e("i",{class:"fab fa-twitter font-22"},null,-1),to=e("br",null,null,-1),oo=[eo,to],so=e("p",{class:"font-11 opacity-70"},"Twitter",-1),no={class:"col-3 mb-n2"},ao=e("i",{class:"fa-brands fa-vk font-22"},null,-1),io=e("br",null,null,-1),lo=[ao,io],co=e("p",{class:"font-11 opacity-70"},"VK",-1),ro={class:"col-3 mb-n2"},ho=e("i",{class:"fa fa-envelope font-22"},null,-1),uo=e("br",null,null,-1),po=[ho,uo],mo=e("p",{class:"font-11 opacity-70"},"Email",-1),_o={class:"col-3 mb-n2"},fo=e("i",{class:"fab fa-whatsapp font-22"},null,-1),bo=e("br",null,null,-1),go=[fo,bo],vo=e("p",{class:"font-11 opacity-70"},"WhatsApp",-1),yo={class:"col-3 mb-n2"},wo=e("i",{class:"fa fa-link font-22"},null,-1),ko=e("br",null,null,-1),$o=[wo,ko],xo=e("p",{class:"font-11 opacity-70"},"Копировать",-1),Co={class:"col-3 mb-n2"},jo=e("i",{class:"fab fa-pinterest-p font-22"},null,-1),Mo=e("br",null,null,-1),Bo=[jo,Mo],Oo=e("p",{class:"font-11 opacity-70"},"Pinterest",-1),Po=e("div",{class:"col-3 mb-n2"},[e("a",{href:"#",class:"close-menu icon icon-l bg-red2-dark rounded-s shadow-l text-white"},[e("i",{class:"fa fa-times font-22"}),e("br")]),e("p",{class:"font-11 opacity-70"},"Закрыть")],-1),qo=e("div",{class:"divider divider-margins mt-n1 mb-3"},null,-1),To=e("div",{class:"divider divider-margins mt-n1 mb-3"},null,-1),Lo=e("p",{class:"footer-copyright font-10 text-center pb-3 mb-1"},[C("© CashMan "),e("span",{id:"copyright-year"},"2023"),C(". Все Права защищены.")],-1),Go={computed:{self(){return window.self},tg(){return window.Telegram.WebApp},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},methods:{open(o){this.tg.openLink(o)},copy(){var o=$("<input>");$("body").append(o),o.val(this.link).select(),document.execCommand("copy"),o.remove()}}},Do=Object.assign(Go,{__name:"ShareMenuBar",setup(o){return(s,a)=>(r(),d("div",Rt,[Yt,Ut,Vt,e("div",Ht,[e("div",Qt,[e("a",{href:"#",onClick:a[0]||(a[0]=l=>s.open("https://www.facebook.com/sharer/sharer.php?u="+s.link)),class:"icon icon-l bg-facebook rounded-s shadow-l text-white"},Jt),Zt]),e("div",Xt,[e("a",{href:"#",onClick:a[1]||(a[1]=l=>s.open("https://twitter.com/home?status="+s.link)),class:"icon icon-l bg-twitter rounded-s shadow-l text-white"},oo),so]),e("div",no,[e("a",{href:"#",onClick:a[2]||(a[2]=l=>s.open("https://vk.com/share.php?url="+s.link)),class:"icon icon-l bg-linkedin rounded-s shadow-l text-white"},lo),co]),e("div",ro,[e("a",{href:"#",onClick:a[3]||(a[3]=l=>s.open("mailto:?body="+s.link)),class:"icon icon-l bg-mail rounded-s shadow-l text-white"},po),mo]),e("div",_o,[e("a",{href:"#",onClick:a[4]||(a[4]=l=>s.open("whatsapp://send?text="+s.link)),class:"icon icon-l bg-whatsapp rounded-s shadow-l text-white"},go),vo]),e("div",yo,[e("a",{href:"#",onClick:a[5]||(a[5]=(...l)=>s.copy&&s.copy(...l)),class:"shareToCopyLink icon icon-l bg-blue2-dark rounded-s shadow-l text-white"},$o),xo]),e("div",Co,[e("a",{href:"#",onClick:a[6]||(a[6]=l=>s.open("https://pinterest.com/pin/create/button/?url="+s.link)),class:"icon icon-l bg-pinterest rounded-s shadow-l text-white"},Bo),Oo]),Po]),qo,c(Q,{code:"001"}),To,Lo]))}}),Ao={},Io={id:"menu-highlights",class:"menu menu-box-bottom menu-box-detached rounded-m",style:{display:"block",height:"510px"}},Eo=A('<div class="card header-card shape-rounded h-40"><div class="card-overlay bg-highlight opacity-95"></div><div class="card-bg preload-img" data-src="images/pictures/20s.jpg"></div></div><h1 class="text-center mt-4 font-35 font-800">CashMan</h1><p class="text-center font-12 mt-n1 pb-2 mb-3">Добавь красок в свою жизнь</p><div class="card card-style"><div class="highlight-changer pt-3 pb-2"><p class="text-center px-3"> Доступные цветовые схемы для использования в приложении. Нажми на кружочек и цветовая схема автоматически будет применена. </p><a href="#" data-change-highlight="blue2"><i class="fa fa-circle color-blue2-dark"></i><span class="color-blue2-light">Default</span></a><a href="#" data-change-highlight="red2"><i class="fa fa-circle color-red1-dark"></i><span class="color-red2-light">Red</span></a><a href="#" data-change-highlight="orange"><i class="fa fa-circle color-orange-dark"></i><span class="color-orange-light">Orange</span></a><a href="#" data-change-highlight="pink2"><i class="fa fa-circle color-pink2-dark"></i><span class="color-pink2-light">Pink</span></a><a href="#" data-change-highlight="magenta2"><i class="fa fa-circle color-magenta2-dark"></i><span class="color-magenta2-light">Purple</span></a><a href="#" data-change-highlight="aqua"><i class="fa fa-circle color-aqua-dark"></i><span class="color-aqua-light">Aqua</span></a><a href="#" data-change-highlight="teal"><i class="fa fa-circle color-teal-dark"></i><span class="color-teal-light">Teal</span></a><a href="#" data-change-highlight="mint"><i class="fa fa-circle color-mint-dark"></i><span class="color-mint-light">Mint</span></a><a href="#" data-change-highlight="green2"><i class="fa fa-circle color-green2-dark"></i><span class="color-green2-light">Green</span></a><a href="#" data-change-highlight="green1"><i class="fa fa-circle color-green1-dark"></i><span class="color-green1-light">Grass</span></a><a href="#" data-change-highlight="yellow2"><i class="fa fa-circle color-yellow2-dark"></i><span class="color-yellow2-light">Sunny</span></a><a href="#" data-change-highlight="yellow1"><i class="fa fa-circle color-yellow1-dark"></i><span class="color-yellow1-light">Goldish</span></a><a href="#" data-change-highlight="brown1"><i class="fa fa-circle color-brown1-dark"></i><span class="color-brown1-light">Wood</span></a><a href="#" data-change-highlight="dark1"><i class="fa fa-circle color-dark1-dark"></i><span class="color-dark1-light">Night</span></a><a href="#" data-change-highlight="dark2"><i class="fa fa-circle color-dark2-dark"></i><span class="color-dark2-light">Dark</span></a><div class="clearfix"></div></div></div><a href="#" class="close-menu btn btn-full btn-margins rounded-sm shadow-l bg-highlight btn-m font-900 text-uppercase mb-0">Закрыть смену цвета</a>',5),No=[Eo];function Fo(o,s,a,l,t,i){return r(),d("div",Io,No)}const So=g(Ao,[["render",Fo]]),zo={data(){return{load:!1}},mounted(){window.addEventListener("preloader-toggle",o=>{this.load=!this.load}),window.addEventListener("preloader-hide",o=>{this.load=!1}),window.addEventListener("preloader-show",o=>{this.load=!0,setTimeout(()=>{this.load=!1},1e3)})}},Ro={key:0,id:"preloader"},Yo=e("div",{class:"spinner-border color-highlight",role:"status"},null,-1),Uo=[Yo];function Vo(o,s,a,l,t,i){return t.load?(r(),d("div",Ro,Uo)):v("",!0)}const Ho=g(zo,[["render",Vo]]),Qo={data(){return{isActive:!1}},computed:{...N(["cartTotalCount","favoritesCount"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){}},Ko={id:"menu-main",class:"menu menu-box-right menu-box-detached rounded-m",style:{width:"260px",display:"block",height:"100vh","overflow-y":"scroll"}},Wo={class:"menu-header"},Jo=A('<a href="#" data-toggle-theme="" class="border-right-0"><i class="fa font-12 color-yellow1-dark fa-lightbulb"></i></a><a href="#" data-menu="menu-highlights" class="border-right-0"><i class="fa font-12 color-green1-dark fa-brush"></i></a><a href="#" data-menu="menu-share" class="border-right-0"><i class="fa font-12 color-red2-dark fa-share-alt"></i></a>',3),Zo=e("i",{class:"fa color-blue2-dark fa-cog font-12"},null,-1),Xo=e("a",{class:"border-right-0 close-menu"},[e("i",{class:"fa font-12 color-red2-dark fa-times"})],-1),es={class:"menu-logo text-center"},ts={href:"#"},os={class:"rounded-circle bg-highlight",width:"80"},ss={class:"p-3 font-800 font-24 text-uppercase"},ns={class:"font-11 mt-n2"},as=e("i",{class:"fa-solid fa-location-dot mr-2 text-danger"},null,-1),is={class:"menu-items"},ls=e("h5",{class:"text-uppercase opacity-20 font-12 pl-3"},"Главное меню",-1),cs=e("i",{class:"fa-solid fa-house-chimney",style:{color:"lightblue"}},null,-1),rs=e("span",null,"Главная",-1),ds=e("i",{class:"fa fa-circle"},null,-1),hs=e("i",{class:"fa-solid fa-basket-shopping"},null,-1),us=e("span",null,"Корзина",-1),ps={key:0,class:"badge bg-highlight color-white"},ms=e("i",{class:"fa fa-circle"},null,-1),_s=e("i",{class:"fa-solid fa-pizza-slice",style:{color:"orangered"}},null,-1),fs=e("span",null,"Продукция",-1),bs=e("i",{class:"fa fa-circle"},null,-1),gs=e("i",{class:"fa-solid fa-star",style:{color:"orange"}},null,-1),vs=e("span",null,"Избранное",-1),ys={key:0,class:"badge bg-highlight color-white"},ws=e("i",{class:"fa fa-circle"},null,-1),ks=e("i",{class:"fa-regular fa-clock",style:{color:"#842029"}},null,-1),$s=e("span",null,"История заказов",-1),xs=e("strong",{class:"badge bg-highlight color-white"},"3",-1),Cs=e("i",{class:"fa fa-circle"},null,-1),js=e("i",{class:"fa-solid fa-people-group",style:{color:"#6f42c1"}},null,-1),Ms=e("span",null,"Наша команда",-1),Bs=e("i",{class:"fa fa-circle"},null,-1),Os=e("i",{class:"fa-solid fa-star",style:{color:"orange"}},null,-1),Ps=e("span",null,"О нас",-1),qs=e("i",{class:"fa fa-circle"},null,-1),Ts=e("i",{class:"fa-regular fa-circle-question",style:{color:"green"}},null,-1),Ls=e("span",null,"Правила сервиса",-1),Gs=e("i",{class:"fa fa-circle"},null,-1),Ds={href:"#",class:"close-menu"},As={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x","data-feather-line":"3","data-feather-size":"16","data-feather-color":"red2-dark","data-feather-bg":"red2-fade-dark",style:{width:"16px",height:"16px"}},Is=e("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),Es=e("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),Ns=[Is,Es],Fs=e("span",null,"Закрыть",-1),Ss=e("i",{class:"fa fa-circle"},null,-1),zs=A('<div class="text-center pt-2"><a href="#" class="icon icon-xs mr-1 rounded-s bg-facebook"><i class="fab fa-facebook"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-twitter"><i class="fab fa-twitter"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-instagram"><i class="fab fa-instagram"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-linkedin"><i class="fab fa-linkedin-in"></i></a><a href="#" class="icon icon-xs rounded-s bg-whatsapp"><i class="fab fa-whatsapp"></i></a><p class="mb-0 pt-3 font-10 opacity-30">Copyright <span class="copyright-year"></span> Enabled. All rights reserved</p></div>',1);function Rs(o,s,a,l,t,i){const n=G("router-link"),h=D("lazy");return r(),d("div",Ko,[e("div",Wo,[Jo,c(n,{class:"close-menu",tag:"a",to:"/settings"},{default:_(()=>[Zo]),_:1}),Xo]),e("div",es,[e("a",ts,[x(e("img",os,null,512),[[h,i.logo]])]),e("h1",ss,m(i.currentBot.company.title||i.currentBot.bot_domain||"CashMan:Shopify"),1),e("p",ns,[as,C(m(i.currentBot.company.address||"Без описания"),1)])]),e("div",is,[ls,c(n,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/home"},{default:_(()=>[cs,rs,ds]),_:1}),c(n,{id:"nav-basket","active-class":"nav-item-active",tag:"a",to:"/basket"},{default:_(()=>[hs,us,o.cartTotalCount>0?(r(),d("strong",ps,m(o.cartTotalCount),1)):v("",!0),ms]),_:1}),c(n,{id:"nav-products","active-class":"nav-item-active",tag:"a",to:"/products"},{default:_(()=>[_s,fs,bs]),_:1}),c(n,{id:"nav-favorites","active-class":"nav-item-active",tag:"a",to:"/favorites"},{default:_(()=>[gs,vs,o.favoritesCount>0?(r(),d("strong",ys,m(o.favoritesCount),1)):v("",!0),ws]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/history"},{default:_(()=>[ks,$s,xs,Cs]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/our-team"},{default:_(()=>[js,Ms,Bs]),_:1}),c(n,{id:"nav-contact-us","active-class":"nav-item-active",tag:"a",to:"/contact-us"},{default:_(()=>[Os,Ps,qs]),_:1}),c(n,{id:"nav-terms","active-class":"nav-item-active",tag:"a",to:"/terms"},{default:_(()=>[Ts,Ls,Gs]),_:1}),e("a",Ds,[(r(),d("svg",As,Ns)),Fs,Ss])]),zs])}const Ys=g(Qo,[["render",Rs]]),Us={data(){return{isActive:!1}},computed:{...N(["cartTotalCount","favoritesCount"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},currentBot(){return window.currentBot}},mounted(){}},Vs={id:"menu-admin-main",class:"menu menu-box-right menu-box-detached rounded-m",style:{width:"260px",display:"block",height:"100vh","overflow-y":"scroll"}},Hs={class:"menu-header"},Qs=A('<a href="#" data-toggle-theme="" class="border-right-0"><i class="fa font-12 color-yellow1-dark fa-lightbulb"></i></a><a href="#" data-menu="menu-highlights" class="border-right-0"><i class="fa font-12 color-green1-dark fa-brush"></i></a><a href="#" data-menu="menu-share" class="border-right-0"><i class="fa font-12 color-red2-dark fa-share-alt"></i></a>',3),Ks=e("i",{class:"fa color-blue2-dark fa-cog font-12"},null,-1),Ws=e("a",{class:"border-right-0 close-menu"},[e("i",{class:"fa font-12 color-red2-dark fa-times"})],-1),Js={class:"menu-logo text-center"},Zs={href:"#"},Xs={class:"rounded-circle bg-highlight",width:"80"},en=e("h1",{class:"p-3 font-800 font-24 text-uppercase"},"Админ.панель",-1),tn={class:"font-11 mt-n2"},on={class:"menu-items"},sn=e("h5",{class:"text-uppercase opacity-20 font-12 pl-3"},"Главное меню",-1),nn=e("i",{class:"fa-solid fa-house-chimney",style:{color:"lightblue"}},null,-1),an=e("span",null,"Главная",-1),ln=e("i",{class:"fa fa-circle"},null,-1),cn=e("i",{class:"fa-solid fa-briefcase",style:{color:"saddlebrown"}},null,-1),rn=e("span",null,"Рабочий день",-1),dn=e("i",{class:"fa fa-circle"},null,-1),hn=e("i",{class:"fa-solid fa-ranking-star",style:{color:"orangered"}},null,-1),un=e("span",null,"Статистика",-1),pn=e("i",{class:"fa fa-circle"},null,-1),mn=e("i",{class:"fa-brands fa-adversal",style:{color:"orange"}},null,-1),_n=e("span",null,"Реклама",-1),fn=e("i",{class:"fa fa-circle"},null,-1),bn=e("i",{class:"fa-regular fa-clock",style:{color:"#842029"}},null,-1),gn=e("span",null,"История заказов",-1),vn=e("strong",{class:"badge bg-highlight color-white"},"3",-1),yn=e("i",{class:"fa fa-circle"},null,-1),wn=e("i",{class:"fa-solid fa-bolt",style:{color:"#6f42c1"}},null,-1),kn=e("span",null,"События",-1),$n=e("i",{class:"fa fa-circle"},null,-1),xn=e("i",{class:"fa-regular fa-building",style:{color:"#ff5454"}},null,-1),Cn=e("span",null,"Настройка компании",-1),jn=e("i",{class:"fa fa-circle"},null,-1),Mn=e("i",{class:"fa-solid fa-robot",style:{color:"#00ff38"}},null,-1),Bn=e("span",null,"Настройка бота",-1),On=e("i",{class:"fa fa-circle"},null,-1),Pn=e("i",{class:"fa-solid fa-file-lines",style:{color:"#3f0909"}},null,-1),qn=e("span",null,"Страницы бота",-1),Tn=e("i",{class:"fa fa-circle"},null,-1),Ln=e("i",{class:"fa-solid fa-scroll",style:{color:"#2963fa"}},null,-1),Gn=e("span",null,"Скрипты бота",-1),Dn=e("i",{class:"fa fa-circle"},null,-1),An=e("i",{class:"fa-regular fa-comment-dots",style:{color:"#d2ab65"}},null,-1),In=e("span",null,"Диалоги бота",-1),En=e("i",{class:"fa fa-circle"},null,-1),Nn=e("i",{class:"fa-regular fa-keyboard",style:{color:"#1e5c67"}},null,-1),Fn=e("span",null,"Клавиатуры бота",-1),Sn=e("i",{class:"fa fa-circle"},null,-1),zn=e("i",{class:"fa-solid fa-people-roof",style:{color:"#00b47a"}},null,-1),Rn=e("span",null,"AMO CRM",-1),Yn=e("i",{class:"fa fa-circle"},null,-1),Un=e("i",{class:"fa-solid fa-people-roof",style:{color:"#9603ff"}},null,-1),Vn=e("span",null,"YClients",-1),Hn=e("i",{class:"fa fa-circle"},null,-1),Qn=e("i",{class:"fa-solid fa-basket-shopping"},null,-1),Kn=e("span",null,"Настройка магазина",-1),Wn=e("i",{class:"fa fa-circle"},null,-1),Jn={href:"#",class:"close-menu"},Zn={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x","data-feather-line":"3","data-feather-size":"16","data-feather-color":"red2-dark","data-feather-bg":"red2-fade-dark",style:{width:"16px",height:"16px"}},Xn=e("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),ea=e("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1),ta=[Xn,ea],oa=e("span",null,"Закрыть",-1),sa=e("i",{class:"fa fa-circle"},null,-1),na=A('<div class="text-center pt-2"><a href="#" class="icon icon-xs mr-1 rounded-s bg-facebook"><i class="fab fa-facebook"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-twitter"><i class="fab fa-twitter"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-instagram"><i class="fab fa-instagram"></i></a><a href="#" class="icon icon-xs mr-1 rounded-s bg-linkedin"><i class="fab fa-linkedin-in"></i></a><a href="#" class="icon icon-xs rounded-s bg-whatsapp"><i class="fab fa-whatsapp"></i></a><p class="mb-0 pt-3 font-10 opacity-30">Copyright <span class="copyright-year"></span> Enabled. All rights reserved</p></div>',1);function aa(o,s,a,l,t,i){const n=G("router-link"),h=D("lazy");return r(),d("div",Vs,[e("div",Hs,[Qs,c(n,{class:"close-menu",tag:"a",to:"/settings"},{default:_(()=>[Ks]),_:1}),Ws]),e("div",Js,[e("a",Zs,[x(e("img",Xs,null,512),[[h,i.logo]])]),en,e("p",tn,m(i.currentBot.company.title||i.currentBot.bot_domain||"CashMan:Shopify"),1)]),e("div",on,[sn,c(n,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/admin-main"},{default:_(()=>[nn,an,ln]),_:1}),c(n,{id:"nav-home","active-class":"nav-item-active",tag:"a",to:"/admin-work-status"},{default:_(()=>[cn,rn,dn]),_:1}),c(n,{id:"nav-products","active-class":"nav-item-active",tag:"a",to:"/admin-statistic"},{default:_(()=>[hn,un,pn]),_:1}),c(n,{id:"nav-favorites","active-class":"nav-item-active",tag:"a",to:"/admin-promotion"},{default:_(()=>[mn,_n,fn]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/history"},{default:_(()=>[bn,gn,vn,yn]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-actions"},{default:_(()=>[wn,kn,$n]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-company-manager"},{default:_(()=>[xn,Cn,jn]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-manager"},{default:_(()=>[Mn,Bn,On]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-page"},{default:_(()=>[Pn,qn,Tn]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-slug"},{default:_(()=>[Ln,Gn,Dn]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-dialog"},{default:_(()=>[An,In,En]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-keyboard"},{default:_(()=>[Nn,Fn,Sn]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-amo"},{default:_(()=>[zn,Rn,Yn]),_:1}),c(n,{id:"nav-out-team","active-class":"nav-item-active",tag:"a",to:"/admin-bot-y-clients"},{default:_(()=>[Un,Vn,Hn]),_:1}),c(n,{id:"nav-basket","active-class":"nav-item-active",tag:"a",to:"/admin-shop-manager"},{default:_(()=>[Qn,Kn,Wn]),_:1}),e("a",Jn,[(r(),d("svg",Zn,ta)),oa,sa])]),na])}const ia=g(Us,[["render",aa]]),la={data(){return{id:null}},mounted(){window.addEventListener("open-page-menu-modal",o=>{this.id=o.detail.id||null,$("#menu-page-editor").showMenu()})},methods:{duplicatePage(){this.loading=!0,this.$store.dispatch("duplicatePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},removePage(){this.loading=!0,this.$store.dispatch("removePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})}}},ca={id:"menu-page-editor",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"305","data-menu-effect":"menu-over",style:{height:"275px",display:"block"}},ra=e("h1",{class:"text-center mt-4"},[e("i",{class:"fa fa-3x fa-check-circle color-green1-dark"})],-1),da=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Меню страницы",-1),ha=e("i",{class:"fa-solid fa-copy mr-1"},null,-1),ua=e("i",{class:"fa-solid fa-trash mr-1"},null,-1);function pa(o,s,a,l,t,i){return r(),d("div",ca,[ra,da,e("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=(...n)=>i.duplicatePage&&i.duplicatePage(...n)),"data-dismiss":"menu-page-editor",class:"bg-highlight btn btn-m font-900 text-uppercase btn-center-xl mb-2"},[ha,C(" Дублировать страницу ")]),e("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=(...n)=>i.removePage&&i.removePage(...n)),"data-dismiss":"menu-page-editor",class:"bg-red2-dark btn btn-m font-900 text-uppercase btn-center-xl mb-2"},[ua,C(" Удалить страницу ")])])}const ma=g(la,[["render",pa]]),_a={data(){return{rules:[{id:1,title:"Является администратором",rules_block:"bot_user",rule:{is_admin:!0}},{id:2,title:"Является VIP-пользователем",rules_block:"bot_user",rule:{is_vip:!0}},{id:3,title:"Находится в заведении",rules_block:"bot_user",rule:{user_in_location:!0}},{id:4,title:"За работой",rules_block:"bot_user",rule:{is_work:!0}},{id:5,title:"Возраст от ...",rules_block:"bot_user",rule:{age:18}},{id:6,title:"Находится в городе ...",rules_block:"bot_user",rule:{city:"Краснодар"}},{id:7,title:"Пол",rules_block:"bot_user",rule:{sex:!0}},{id:8,title:"Состоит в канале",rules_block:"channels",rule:{channel:1}},{id:9,title:"Является Менеджером",rules_block:"bot_user",rule:{is_manager:!0}}]}},mounted(){window.addEventListener("open-rules-modal",o=>{$("#rules-selector").showMenu()})},methods:{duplicatePage(){this.loading=!0,this.$store.dispatch("duplicatePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},removePage(){this.loading=!0,this.$store.dispatch("removePage",{dataObject:{pageId:this.id}}).then(o=>{this.loading=!1,$("#menu-page-editor").hideMenu(),this.$botPages.reloadPageList()}).catch(()=>{this.loading=!1})},addRules(o){this.$botPages.selectRule(o),$("#rules-selector").hideMenu()}}},fa={id:"rules-selector",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"400","data-menu-effect":"menu-over",style:{height:"400px",display:"block"}},ba=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Выбор правила",-1),ga={class:"list-group list-custom-small px-2"},va=["onClick"],ya=e("i",{class:"fa font-13 fa-check color-green1-dark"},null,-1);function wa(o,s,a,l,t,i){return r(),d("div",fa,[ba,e("div",ga,[(r(!0),d(T,null,E(t.rules,n=>(r(),d("a",{onClick:h=>i.addRules(n),href:"javascript:void(0)"},[ya,e("span",null,m(n.title||"Не указан"),1)],8,va))),256))])])}const ka=g(_a,[["render",wa]]),$a={data(){return{load:!1,keyboard:null,select:{uuid:null,row:0,col:0,type:null}}},mounted(){window.addEventListener("open-keyboard-editor",o=>{const s=o.detail.select,a=o.detail.keyboard||null;this.select=s,this.keyboard=a,$("#keyboard-editor").showMenu()})},methods:{needRemoveField(o,s,a){Object.keys(this.keyboard[s][a]).forEach(l=>{l!=="text"&&l!==o&&delete this.keyboard[s][a][l]})}}},xa={id:"keyboard-editor",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"405","data-menu-effect":"menu-over",style:{height:"405px",display:"block"}},Ca={class:"mb-3"},ja=["for"],Ma=["id"],Ba=e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1),Oa=e("div",{class:"alert alert-danger",role:"alert"}," Возможно выбрать только 1 тип действия ",-1),Pa={class:"mb-3"},qa=["for"],Ta=["id"],La={class:"mb-3"},Ga=["for"],Da=["id"],Aa={class:"mb-3"},Ia=["for"],Ea=["id"],Na={class:"mb-3"},Fa=["for"],Sa=["id"],za={class:"form-check"},Ra=["id"],Ya=["for"],Ua={key:0,class:"form-check"},Va=["id"],Ha=["for"],Qa={class:"form-check"},Ka=["id"],Wa=["for"],Ja={class:"form-check"},Za=["id"],Xa=["for"];function ei(o,s,a,l,t,i){return r(),d("div",xa,[t.keyboard?(r(),d("form",{key:0,class:"px-3 py-3",onSubmit:s[16]||(s[16]=F((...n)=>o.submitKeyboard&&o.submitKeyboard(...n),["prevent"]))},[e("div",Ca,[e("label",{for:"title-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Название поля",8,ja),x(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>t.keyboard[t.select.row][t.select.col].text=n),class:"form-control",id:"title-row-"+t.select.row+"-col-"+t.select.col,placeholder:"Название"},null,8,Ma),[[P,t.keyboard[t.select.row][t.select.col].text]])]),Ba,Oa,e("div",Pa,[e("label",{for:"command-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда (для меню в сообщении)",8,qa),x(e("input",{type:"text",onChange:s[1]||(s[1]=n=>i.needRemoveField("callback_data",t.select.row,t.select.col)),"onUpdate:modelValue":s[2]||(s[2]=n=>t.keyboard[t.select.row][t.select.col].callback_data=n),class:"form-control",id:"command-row-"+t.select.row+"-col-"+t.select.col,placeholder:"/start"},null,40,Ta),[[P,t.keyboard[t.select.row][t.select.col].callback_data]])]),e("div",La,[e("label",{for:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Ссылка на аккаунт в ТЕЛЕГРАММ",8,Ga),x(e("input",{type:"text",class:"form-control",onChange:s[3]||(s[3]=n=>i.needRemoveField("switch_inline_query",t.select.row,t.select.col)),"onUpdate:modelValue":s[4]||(s[4]=n=>t.keyboard[t.select.row][t.select.col].switch_inline_query=n),id:"switch-inline-query-row-"+t.select.row+"-col-"+t.select.col,placeholder:"@YourAccountLink"},null,40,Da),[[P,t.keyboard[t.select.row][t.select.col].switch_inline_query]])]),e("div",Aa,[e("label",{for:"url-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Внешняя URL-ссылка",8,Ia),x(e("input",{type:"text",class:"form-control",onChange:s[5]||(s[5]=n=>i.needRemoveField("url",t.select.row,t.select.col)),"onUpdate:modelValue":s[6]||(s[6]=n=>t.keyboard[t.select.row][t.select.col].url=n),id:"url-row-"+t.select.row+"-col-"+t.select.col,placeholder:"https://t.me/example"},null,40,Ea),[[P,t.keyboard[t.select.row][t.select.col].url]])]),e("div",Na,[e("label",{for:"switch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,class:"form-label"},"Команда всплывающего меню бота",8,Fa),x(e("input",{type:"text",class:"form-control",onChange:s[7]||(s[7]=n=>i.needRemoveField("switch_inline_query_current_chat",t.select.row,t.select.col)),"onUpdate:modelValue":s[8]||(s[8]=n=>t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat=n),id:"witch-inline-query-current-chat-row-"+t.select.row+"-col-"+t.select.col,placeholder:"команда"},null,40,Sa),[[P,t.keyboard[t.select.row][t.select.col].switch_inline_query_current_chat]])]),e("div",za,[e("input",{type:"radio",onChange:s[9]||(s[9]=n=>i.needRemoveField(null,t.select.row,t.select.col)),name:"request-radio",class:"form-check-input",id:"no-action-row-"+t.select.row+"-col-"+t.select.col},null,40,Ra),e("label",{class:"form-check-label",for:"no-action-row-"+t.select.row+"-col-"+t.select.col}," Без действий ",8,Ya)]),t.select.row===0?(r(),d("div",Ua,[e("input",{type:"radio",onChange:s[10]||(s[10]=n=>i.needRemoveField("pay",t.select.row,t.select.col)),onClick:s[11]||(s[11]=n=>t.keyboard[t.select.row][t.select.col].pay=!0),name:"request-radio",class:"form-check-input",id:"pay-action-row-"+t.select.row+"-col-"+t.select.col},null,40,Va),e("label",{class:"form-check-label",for:"pay-action-row-"+t.select.row+"-col-"+t.select.col}," Кнопка оплаты ",8,Ha)])):v("",!0),e("div",Qa,[e("input",{type:"radio",onChange:s[12]||(s[12]=n=>i.needRemoveField("request_contact",t.select.row,t.select.col)),onClick:s[13]||(s[13]=n=>t.keyboard[t.select.row][t.select.col].request_contact=!0),name:"request-radio",class:"form-check-input",id:"phone-row-"+t.select.row+"-col-"+t.select.col},null,40,Ka),e("label",{class:"form-check-label",for:"phone-row-"+t.select.row+"-col-"+t.select.col}," Запросить телефон (для нижнего меню) ",8,Wa)]),e("div",Ja,[e("input",{type:"radio",name:"request-radio",onChange:s[14]||(s[14]=n=>i.needRemoveField("request_location",t.select.row,t.select.col)),onClick:s[15]||(s[15]=n=>t.keyboard[t.select.row][t.select.col].request_location=!0),class:"form-check-input",id:"location-row-"+t.select.row+"-col-"+t.select.col},null,40,Za),e("label",{class:"form-check-label",for:"location-row-"+t.select.row+"-col-"+t.select.col}," Запросить локацию (для нижнего меню) ",8,Xa)])],32)):v("",!0)])}const ti=g($a,[["render",ei]]),oi={data(){return{param:null,channelLink:null}},mounted(){window.addEventListener("open-tg-helper-modal",o=>{this.param=o.detail.param,$("#tg-helper-modal").showMenu()})},methods:{checkLink(){this.channelLink.indexOf("https://t.me/")!==-1&&(this.channelLink="@"+(this.channelLink.split("https://t.me/")[1]||this.channelLink))},requestTelegramChannelId(){this.$store.dispatch("requestTelegramChannelId",{dataObject:{channel:this.channelLink}}).then(o=>{o.ok&&this.$botPages.telegramChannelCallback(this.param,o.result.chat.id),$("#tg-helper-modal").hideMenu(),o.ok&&this.$botNotification.success("Отлично","Канал успешно найден!"),o.ok||(this.$botNotification.warning("Ошибочка!","Неверно указанный канал"),this.$botPages.telegramChannelCallback(this.param,null))}).catch(()=>{})}}},si={id:"tg-helper-modal",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"210","data-menu-effect":"menu-over",style:{height:"210px",display:"block"}},ni=e("p",{class:"mb-1 p-2"},"Укажите в полне ниже ссылку на ПУБЛИЧНЫЙ канал, в котором уже состоит БОТ в качестве администратора канала",-1),ai=e("button",{class:"btn btn-m btn-full rounded-xs text-uppercase font-900 shadow-s bg-red1-light w-100"},"Узнать id канала ",-1);function ii(o,s,a,l,t,i){return r(),d("div",si,[ni,e("form",{onSubmit:s[2]||(s[2]=F((...n)=>i.requestTelegramChannelId&&i.requestTelegramChannelId(...n),["prevent"])),class:"p-2"},[x(e("input",{type:"text",class:"form-control mb-2",id:"search-description-text","onUpdate:modelValue":s[0]||(s[0]=n=>t.channelLink=n),onChange:s[1]||(s[1]=(...n)=>i.checkLink&&i.checkLink(...n)),placeholder:"@telegram_channel",required:""},null,544),[[P,t.channelLink]]),ai],32)])}const li=g(oi,[["render",ii]]);var M={},K,W;Object.defineProperty(M,"__esModule",{value:!0});var u=ie;const B=Symbol(),k=new class{constructor(){L(this,"events");L(this,"ymapReady");L(this,"scriptIsNotAttached");L(this,"pluginInstalledGlobal");this.events={},this.ymapReady=!1,this.scriptIsNotAttached=!0,this.pluginInstalledGlobal=!1}$on(o,s){return this.events[o]||(this.events[o]=[]),this.events[o].push(s),()=>{this.events[o]=this.events[o].filter(a=>s!==a)}}$emit(o){const s=this.events[o];s&&s.forEach(a=>a())}};function J(o){return new Promise((s,a)=>{if(window.ymaps)return k.ymapReady||(k.ymapReady=!0,k.$emit("scriptIsLoaded")),s(!0);if(document.getElementById("vue-yandex-maps-script"))return void k.$on("scriptIsLoaded",s);const l=document.createElement("SCRIPT"),{apiKey:t="",lang:i="ru_RU",version:n="2.1",coordorder:h="latlong",debug:w=!1,enterprise:f=!1}=o,y=`https://${f?"enterprise.":""}api-maps.yandex.ru/${n}/?${`lang=${i}${t&&`&apikey=${t}`}&mode=${w?"debug":"release"}&coordorder=${h}`}`;l.setAttribute("src",y),l.setAttribute("async",""),l.setAttribute("defer",""),l.setAttribute("id","vue-yandex-maps-script"),document.head.appendChild(l),k.scriptIsNotAttached=!1,l.onload=(p=>()=>{ymaps.ready(()=>{k.ymapReady=!0,k.$emit("scriptIsLoaded"),p(!0)})})(s),l.onerror=a})}const Z=o=>Array.isArray(o)?o.map(Z):+o,R=["actionbegin","actionbreak","actionend","actiontick","actiontickcomplete","balloonclose","balloonopen","boundschange","click","contextmenu","dblclick","destroy","hintclose","hintopen","marginchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","sizechange","typechange","wheel"],Y=["balloonclose","balloonopen","beforedrag","beforedragstart","click","contextmenu","dblclick","drag","dragend","dragstart","editorstatechange","geometrychange","hintclose","hintopen","mapchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","overlaychange","parentchange","propertieschange","wheel"];function S(o,s=!1){let a,l,t=[],i=[];return{addGeoObject:(n,h)=>{t.push(s?h:n),clearTimeout(a),a=window.setTimeout(()=>{o(t,"add"),t=[]})},deleteGeoObject:(n,h)=>{i.push(s?h:n),clearTimeout(l),l=window.setTimeout(()=>{o(i,"remove"),i=[]})}}}var X=u.defineComponent({name:"YandexMap",props:{coordinates:{type:Array,required:!0},zoom:{type:Number,default:10},bounds:{type:Array,default:null},behaviors:{type:Array,default:null},controls:{type:Array,default:null},detailedControls:{type:Object,default:null},events:{type:Array,default:()=>["click"],validator:o=>o.every(s=>R.includes(s))},mapType:{type:String,default:"map"},settings:{type:Object,default:()=>({})},panOptions:{type:Object,default:void 0},options:{type:Object,default:()=>({})}},emits:[...R,"geo-objects-updated","created"],setup(o,{emit:s,slots:a,expose:l}){const t=u.ref(!1),i=k.pluginInstalledGlobal&&u.inject("pluginOptions")||{};let n;const h=`yandexMap${Math.round(1e5*Math.random())}`,{addGeoObject:w,deleteGeoObject:f}=S((p,b)=>{n&&p.length&&(p.forEach(q=>n==null?void 0:n.geoObjects[b](q)),s("geo-objects-updated",n.geoObjects))});u.provide(B,{addGeoObject:w,deleteGeoObject:f});const y=()=>{t.value=!0,n=new ymaps.Map(h,{center:o.coordinates,zoom:o.zoom,bounds:o.bounds,behaviors:o.behaviors,controls:o.controls,type:`yandex#${o.mapType}`},o.options),o.events.forEach(p=>{var b;return(b=n==null?void 0:n.events)==null?void 0:b.add(p,q=>s(p,q))}),o.detailedControls&&Object.keys(o.detailedControls).forEach(p=>{var b;n==null||n.controls.remove(p),n==null||n.controls.add(p,(b=o.detailedControls)==null?void 0:b[p])}),s("created",n)};return k.scriptIsNotAttached&&J({...i,...o.settings}),k.ymapReady?ymaps.ready(y):k.$on("scriptIsLoaded",y),l(n),u.watch(()=>o.coordinates,p=>n==null?void 0:n.panTo(p,o.panOptions)),u.watch(()=>o.zoom,p=>n==null?void 0:n.setZoom(p)),u.watch(()=>o.bounds,p=>n==null?void 0:n.setBounds(p)),u.watch(()=>o.mapType,p=>n==null?void 0:n.setType(p)),()=>{var p;return u.h("section",{class:"yandex-container","data-test":"map"},[u.h("div",{id:h,style:"min-height: 100%;"}),t.value&&u.h("div",{style:"display: none;"},[(p=a.default)==null?void 0:p.call(a)])])}}}),ee=u.defineComponent({name:"YandexMarker",props:{coordinates:{type:Array,required:!0},markerId:{type:[String,Number],required:!0},properties:{type:Object,default:()=>({})},options:{type:Object,default:null},type:{type:String,default:"Point"},radius:{type:Number,default:null},events:{type:Array,default:()=>["click"],validator:o=>o.every(s=>Y.includes(s))}},emits:[...Y],setup(o,{emit:s,slots:a,expose:l}){var q,z;const{addGeoObject:t,deleteGeoObject:i}=u.inject(B)||{},n=u.computed(()=>o.coordinates.map(Z)),h=u.ref(!1),w={geometry:{type:o.type,coordinates:n.value,radius:o.radius},properties:{...o.properties,markerId:o.markerId}},f=(q=a.component)!=null&&q.call(a).length?ymaps.templateLayoutFactory.createClass(`<div id="balloon-${o.markerId}" class="yandex-balloon"><div>`,{build(){f.superclass.build.call(this),h.value=!0},clear(){h.value=!1,f.superclass.clear.call(this)}}):null,y={balloonContentLayout:f,...o.options},p=new ymaps.GeoObject(w,y);o.events.forEach(j=>{var O;return(O=p.events)==null?void 0:O.add(j,I=>s(j,I))}),u.provide("marker",p);const b={...w,options:y};return u.onMounted(()=>{t(p,b)}),u.onBeforeUnmount(()=>{i(p,b)}),u.watch(()=>o.coordinates,j=>{var O,I;(I=(O=p.geometry)==null?void 0:O.setCoordinates)==null||I.call(O,j)}),l(p),(z=a.component)!=null&&z.call(a).length?()=>{var j;return h.value&&u.h(u.Teleport,{to:`#balloon-${o.markerId}`},[(j=a.component)==null?void 0:j.call(a)])}:()=>{var j;return(j=a.default)==null?void 0:j.call(a)}}}),te=u.defineComponent({name:"YandexGeoObjectCollection",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:a,slots:l}){const t=new ymaps.GeoObjectCollection({},o.options),{addGeoObject:i,deleteGeoObject:n}=u.inject(B)||{},{addGeoObject:h,deleteGeoObject:w}=S((f,y)=>{t&&f.length&&(f.forEach(p=>t[y](p)),s("geo-objects-updated",t))});return u.provide(B,{addGeoObject:h,deleteGeoObject:w}),u.onMounted(()=>{i(t)}),u.onBeforeUnmount(()=>{n(t)}),a(t),()=>{var f;return(f=l.default)==null?void 0:f.call(l)}}}),oe=u.defineComponent({name:"YandexClusterer",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:a,slots:l}){const t=new ymaps.Clusterer(o.options),{addGeoObject:i,deleteGeoObject:n}=u.inject(B)||{},{addGeoObject:h,deleteGeoObject:w}=S((f,y)=>{t&&f.length&&(t[y](f),s("geo-objects-updated",t))});return u.provide(B,{addGeoObject:h,deleteGeoObject:w}),u.onMounted(()=>{i(t)}),u.onBeforeUnmount(()=>{n(t)}),a(t),()=>{var f;return(f=l.default)==null?void 0:f.call(l)}}}),se=u.defineComponent({name:"YandexObjectManager",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(o,{emit:s,expose:a,slots:l}){const t=new ymaps.ObjectManager(o.options),{addGeoObject:i,deleteGeoObject:n}=u.inject(B)||{},{addGeoObject:h,deleteGeoObject:w}=S((f,y)=>{if(!t||!f.length)return;const p=f.map(b=>({type:"Feature",id:b.properties.markerId,geometry:b.geometry,properties:b.properties,options:b.options}));t[y](p),s("geo-objects-updated",t)},!0);return u.provide(B,{addGeoObject:h,deleteGeoObject:w}),u.onMounted(()=>{i(t)}),u.onBeforeUnmount(()=>{n(t)}),a(t),()=>{var f;return(f=l.default)==null?void 0:f.call(l)}}});let U;const ci=J,ri=X,di=ee,hi=te,ui=oe,pi=se;var mi={install:(o,s)=>{U||(U=!0,k.pluginInstalledGlobal=!0,o.provide("pluginOptions",s),o.component("YandexMap",X),o.component("YandexMarker",ee),o.component("YandexCollection",te),o.component("YandexClusterer",oe),o.component("YandexObjectManager",se))}};M.YandexClusterer=ui,M.YandexCollection=hi,W=M.YandexMap=ri,K=M.YandexMarker=di,M.YandexObjectManager=pi,M.default=mi,M.loadYmap=ci;const _i={components:{YandexMap:W,YandexMarker:K},setup(){return{center:[45.03547,38.975313]}},data(){return{load:!0,coords:{lat:45.03547,lon:38.975313}}},mounted(){window.addEventListener("open-map-modal",o=>{$("#map-selector").showMenu()})},methods:{onClick(o){let s=o.get("coords");this.load=!1,this.coords.lat=s[0],this.coords.lon=s[1],this.$nextTick(()=>{this.load=!0}),this.$botNotification.notification("Координаты","Вы выбрали координаты"),this.$botPages.mapCallback(this.coords)}}},fi={id:"map-selector",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"500","data-menu-effect":"menu-over",style:{height:"500px",display:"block"}},bi=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Выбор координаты",-1);function gi(o,s,a,l,t,i){const n=G("YandexMarker"),h=G("YandexMap");return r(),d("div",fi,[bi,c(h,{coordinates:[t.coords.lat,t.coords.lon],onClick:i.onClick},{default:_(()=>[t.load?(r(),H(n,{key:0,coordinates:[t.coords.lat,t.coords.lon],"marker-id":123},null,8,["coordinates"])):v("",!0)]),_:1},8,["coordinates","onClick"])])}const V=g(_i,[["render",gi]]),vi={data(){return{notes:[],param:null}},mounted(){this.loadNotes(),window.addEventListener("open-notes-modal",o=>{this.param=o.detail.param,$("#notes-selector").showMenu()})},methods:{loadNotes(){this.loading=!0,this.$store.dispatch("loadNotes").then(o=>{this.loading=!1}).catch(()=>{this.loading=!1})},selectNote(o){this.$botPages.selectNote(o,this.param),$("#notes-selector").hideMenu()}}},yi={id:"notes-selector",class:"menu menu-box-bottom menu-box-detached rounded-m","data-menu-height":"400","data-menu-effect":"menu-over",style:{height:"400px",display:"block"}},wi=e("h1",{class:"text-center mt-3 text-uppercase font-700"},"Выбор заметок",-1),ki={key:0,class:"list-group list-custom-small px-2"},$i=["onClick"],xi=e("i",{class:"fa font-13 fa-check color-green1-dark"},null,-1);function Ci(o,s,a,l,t,i){return r(),d("div",yi,[wi,t.notes.length>0?(r(),d("div",ki,[(r(!0),d(T,null,E(t.notes,n=>(r(),d("a",{onClick:h=>i.selectNote(n),href:"javascript:void(0)"},[xi,e("span",null,m(n.text||"Не указан"),1)],8,$i))),256))])):v("",!0)])}const ji=g(vi,[["render",Ci]]);const Mi={key:0,class:"page-content",style:{"min-height":"667px"}},Bi={class:"page-title page-title-small"},Oi=e("i",{class:"fa fa-arrow-left"},null,-1),Pi={href:"javascript:void(0)",class:"bg-fade-gray1-dark shadow-xl d-flex justify-content-center align-items-center font-18 bot-avatar"},qi={style:{width:"50px","object-fit":"cover","border-radius":"50%"},alt:""},Ti=e("div",{class:"card header-card shape-rounded",style:{height:"115px"}},[e("div",{class:"card-overlay bg-highlight opacity-95"}),e("div",{class:"card-overlay dark-mode-tint"}),e("div",{class:"card-bg preload-img","data-src":"/shop/images/pictures/20s.jpg"})],-1),Li={class:"footer"},Gi={class:"card card-style mb-0"},Di={href:"#",class:"footer-title p-4"},Ai=e("p",{class:"text-center font-12 mt-n1 mb-3 opacity-70"},[C(" Добавь "),e("span",{class:"color-highlight"},"красок"),C(" в свою жизнь ")],-1),Ii=e("p",{class:"text-center font-12 mt-n1 mb-3 opacity-70"},' Сервис Разработан ООО "Некст Групп" ',-1),Ei=e("div",{class:"text-center mb-3"},[e("a",{href:"https://wa.me/79384341473?text=%D0%94%D0%BE%D0%B1%D1%80%D1%8B%D0%B9%20%D0%B4%D0%B5%D0%BD%D1%8C%2C%20%D1%85%D0%BE%D1%87%D1%83%20%D1%81%D0%B5%D0%B1%D0%B5%20%D1%82%D0%B0%D0%BA%D0%BE%D0%B9%20%D0%B6%D0%B5%20%D0%B1%D0%BE%D1%82!ph",target:"_blank",class:"icon p-2 icon-xs rounded-l shadow-l mr-1 bg-facebook text-white"}," WatsApp разработчика ")],-1),Ni=e("div",{class:"text-center mb-3"},[e("a",{href:"https://vk.com/nextgroupit",target:"_blank",class:"icon p-2 icon-xs rounded-l shadow-l mr-1 bg-facebook text-white"}," ВК разработчика ")],-1),Fi=e("div",{class:"text-center mb-3"},[e("a",{href:"https://t.me/nextitgroup_bot",target:"_blank",class:"icon p-2 icon-xs rounded-l shadow-l mr-1 bg-facebook text-white"}," Телеграм разработчика ")],-1),Si=e("p",{class:"footer-copyright pb-3 mb-1"},[C("© CashMan "),e("span",{id:"copyright-year"},"2024"),C(". Все Права защищены.")],-1),zi=e("div",{class:"footer-card card shape-rounded","data-card-height":"230",style:{height:"230px"}},[e("div",{class:"card-overlay bg-highlight opacity-95"}),e("div",{class:"card-bg preload-img","data-src":"/shop/images/pictures/20s.jpg"})],-1),Ri={computed:{...N(["getSelf"]),logo(){return`/images-by-bot-id/${this.currentBot.id}/${this.currentBot.image}`},self(){return window.self||null},tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))},currentBot(){return window.currentBot},qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},link(){return"https://t.me/"+this.currentBot.bot_domain+"?start="+btoa("001"+this.self.telegram_chat_id)}},created(){window.currentScript=this.slug_id||null,window.currentBot=this.bot.data,this.$store.dispatch("loadSelf").then(()=>{window.self=this.getSelf}),this.$botNotification.success("Главная","Успешно!")},methods:{open(o){this.tg.openLink(o)}}},al=Object.assign(Ri,{__name:"MainV1",props:{bot:{type:Object},slug_id:{type:String}},setup(o){return(s,a)=>{const l=G("router-view"),t=D("lazy");return r(),H(le,null,{default:_(()=>[s.self?(r(),d("div",Mi,[e("div",Bi,[e("h2",null,[e("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=i=>s.$router.back())},[Oi,C(" "+m(s.$route.meta.title||"Меню"),1)])]),e("a",Pi,[x(e("img",qi,null,512),[[t,s.logo]])])]),Ti,c(l,{bot:o.bot},null,8,["bot"]),e("div",Li,[e("div",Gi,[e("a",Di,m(s.currentBot.company.title||"CashMan:Shopify"),1),Ai,Ii,Ei,Ni,Fi,Si]),zi])])):v("",!0)]),modals:_(()=>[c(Ho),c(Qe),c(wt),c(Ot),c(zt),c(xe),c(Do),c(So),c(Ys),c(ia),c(ma),c(ti),c(ka),c(li),c(V),c(V),c(ji)]),_:1})}}});export{al as default};
