import{o as i,c as l,g as c,a as t,w as n,v as p,d as a,e as r,t as v,i as u,q as y,h as _,j as b}from"./app-9c8dff49.js";const g={key:0},f={key:0,class:"container pt-3 pb-3"},M={class:"col-12 d-flex justify-content-center mb-3"},F={class:"img-avatar"},S={class:"img-avatar"},w={class:"col-12"},k=t("p",{class:"mb-3"},[t("em",null,[r("Приветствую тебя, "),t("strong",null,"Дорогой друг!"),r(" Я хочу поздаврить тебя и дать возможность получать неограниченные преимушества нашего сервиса! Для начала нам нужно с тобой познакомится - это поможет сделать использование сервиса более кофортным и взаимовыгодным!")])],-1),U=t("h6",{class:"text-center"},"Как мне к тебе обращаться?",-1),j={class:"input-group mb-3"},I=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),V={class:"col-12 d-flex justify-content-center mb-3"},x={class:"img-avatar"},q={class:"img-avatar"},D={class:"col-12"},O={class:"mb-3"},B=t("h6",{class:"text-center"},"Введи свой номер телефона",-1),C={class:"input-group mb-3"},N=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),T={class:"col-12 d-flex justify-content-center mb-3"},$={class:"img-avatar"},z={class:"img-avatar"},P={class:"col-12"},R=t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог обращаться к тебе правильно, скажи мне, какого ты пола?")],-1),A=t("h6",{class:"text-center"},"Ты парень или девушка?",-1),E={class:"input-group mb-3 mt-3 w-100 d-flex justify-content-center"},J={class:"btn-group w-100",role:"group","aria-label":"deliveryManForm-sex"},L=t("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-1"},"Парень",-1),W=t("label",{class:"btn btn-outline-primary p-3",for:"sex-radio-btn-2"},"Девушка",-1),G=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),H={class:"col-12 d-flex justify-content-center mb-3"},K={class:"img-avatar"},Q={class:"img-avatar"},X={class:"col-12"},Y=t("p",{class:"mb-3"},[t("em",null,"Для того, чтобы я мог поздравлять тебя с днем рождения и сделать тебе приятно, мне нужно знать, когда он у тебя")],-1),Z=t("h6",{class:"text-center"},"Введи свой день рождения",-1),tt={class:"input-group mb-3"},et=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),st={class:"col-12 d-flex justify-content-center mb-3"},ot={class:"img-avatar"},nt={class:"img-avatar"},it={class:"col-12"},lt=t("p",{class:"mb-3"},[t("em",null,"Чтобы я мог показывать тебе информацию, актуальную для твоего города, мне нужно знать, где ты живешь.")],-1),at=t("h6",{class:"text-center"},"Какой у тебя город?",-1),rt={class:"input-group mb-3"},dt=_('<datalist id="datalistCityOptions"><option value="Краснодар"></option><option value="Ростов-на-Дону"></option><option value="Таганрог"></option><option value="Донецк"></option><option value="Москва"></option></datalist>',1),ct=t("button",{class:"btn btn-outline-primary p-3 w-100"}," Следующий шаг ",-1),mt={class:"col-12 d-flex justify-content-center mb-3"},pt={class:"img-avatar"},ut={class:"img-avatar"},bt={class:"col-12"},ht=t("p",{class:"mb-3"},[t("em",null,"Отлично! Теперь, прежде чем продолжить, пожалуйста, прочти мои условия использования и дай свое согласие на их принятие.")],-1),vt=t("h6",{class:"text-center"},"Последний шаг",-1),yt={class:"card border-success mb-3"},_t={class:"card-body"},gt=t("p",null,[r("Перед отправкой данных ознакомься с "),t("a",{href:"#"},"правилами нашего сервиса"),r(" и с "),t("a",{href:"#"},"политикой конфиденциальности"),r(".")],-1),ft={class:"form-check form-switch"},Mt={class:"form-check-label",for:"confirm"},Ft={key:0},St={key:1},wt=["disabled"],kt={key:1,class:"container pt-3 pb-3"},Ut=t("div",{class:"row"},[t("div",{class:"col-12"},[t("div",{class:"card border-success"},[t("div",{class:"card-body"},[r(" Поздравляем! Вы являетесь нашим Доставщиком! Вам доступны следующие возможности: "),t("ul",null,[t("li",null,"Доступ к пулу заказов и возможность зарабатывать на доставке"),t("li",null,"Учет и контроль рабочего времени"),t("li",null,"Учет и контроль рабочего дохода"),t("li",null,"Реферальная программа")])])])])],-1),jt=[Ut],It={data(){return{botUser:null,load:!1,confirm:!1,step:0,deliveryManForm:{name:null,phone:null,email:null,birthday:null,city:null,country:null,address:null,sex:!0}}},computed:{tg(){return window.Telegram.WebApp},tgUser(){const m=new URLSearchParams(this.tg.initData);return JSON.parse(m.get("user"))}},mounted(){this.tgUser&&(console.log(this.tgUser),this.loadBotUser())},methods:{nextStep(){this.step++},loadBotUser(){this.loading=!0,this.$store.dispatch("loadCurrentBotUser",{dataObject:{bot_id:this.bot.id,tg:this.tgUser}}).then(m=>{this.loading=!1,this.botUser=m}).catch(()=>{this.loading=!1})},submit(){this.loading=!0,this.$store.dispatch("saveDeliveryman",{dataObject:{bot_id:this.bot.id,tg:this.tgUser,form:this.deliveryManForm}}).then(m=>{this.loading=!1,window.location.reload()}).catch(()=>{this.loading=!1})}}},xt=Object.assign(It,{__name:"DeliveryManForm",props:{bot:{type:Object}},setup(m){return(e,s)=>{const d=b("lazy"),h=b("mask");return e.botUser?(i(),l("div",g,[e.botUser.is_deliveryman?(i(),l("div",kt,jt)):(i(),l("div",f,[e.step===0?(i(),l("form",{key:0,onSubmit:s[1]||(s[1]=c((...o)=>e.nextStep&&e.nextStep(...o),["prevent"])),class:"row"},[t("div",M,[t("div",F,[n(t("img",S,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",w,[k,U,t("div",j,[n(t("input",{type:"text",class:"form-control text-center p-3",placeholder:"Петров Петр Семенович","aria-label":"deliveryManForm-name","onUpdate:modelValue":s[0]||(s[0]=o=>e.deliveryManForm.name=o),"aria-describedby":"deliveryManForm-name",required:""},null,512),[[p,e.deliveryManForm.name]])]),I])],32)):a("",!0),e.step===1?(i(),l("form",{key:1,onSubmit:s[3]||(s[3]=c((...o)=>e.nextStep&&e.nextStep(...o),["prevent"])),class:"row"},[t("div",V,[t("div",x,[n(t("img",q,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",D,[t("p",O,[t("em",null,[r("- Отлично, "),t("strong",null,v(e.deliveryManForm.name),1),r("! А теперь, чтобы ты мог пользоваться всеми моими функциями, мне нужен твой номер телефона. Можешь ввести его?")])]),B,t("div",C,[n(t("input",{type:"text",class:"form-control p-3 text-center","onUpdate:modelValue":s[2]||(s[2]=o=>e.deliveryManForm.phone=o),placeholder:"+7(000)000-00-00","aria-label":"deliveryManForm-phone","aria-describedby":"deliveryManForm-phone",required:""},null,512),[[h,"+7(###)###-##-##"],[p,e.deliveryManForm.phone]])]),N])],32)):a("",!0),e.step===2?(i(),l("form",{key:2,onSubmit:s[6]||(s[6]=c((...o)=>e.nextStep&&e.nextStep(...o),["prevent"])),class:"row"},[t("div",T,[t("div",$,[n(t("img",z,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",P,[R,A,t("div",E,[t("div",J,[n(t("input",{type:"radio","onUpdate:modelValue":s[4]||(s[4]=o=>e.deliveryManForm.sex=o),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-1",autocomplete:"off",required:""},null,512),[[u,e.deliveryManForm.sex]]),L,n(t("input",{type:"radio","onUpdate:modelValue":s[5]||(s[5]=o=>e.deliveryManForm.sex=o),class:"btn-check",name:"sex-radio-btn",id:"sex-radio-btn-2",autocomplete:"off",required:""},null,512),[[u,e.deliveryManForm.sex]]),W])]),G])],32)):a("",!0),e.step===3?(i(),l("form",{key:3,onSubmit:s[8]||(s[8]=c((...o)=>e.nextStep&&e.nextStep(...o),["prevent"])),class:"row"},[t("div",H,[t("div",K,[n(t("img",Q,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",X,[Y,Z,t("div",tt,[n(t("input",{type:"date",class:"form-control p-3","onUpdate:modelValue":s[7]||(s[7]=o=>e.deliveryManForm.birthday=o),"aria-label":"deliveryManForm-birthday","aria-describedby":"deliveryManForm-birthday",required:""},null,512),[[p,e.deliveryManForm.birthday]])]),et])],32)):a("",!0),e.step===4?(i(),l("form",{key:4,onSubmit:s[10]||(s[10]=c((...o)=>e.nextStep&&e.nextStep(...o),["prevent"])),class:"row"},[t("div",st,[t("div",ot,[n(t("img",nt,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",it,[lt,at,t("div",rt,[n(t("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=o=>e.deliveryManForm.city=o),list:"datalistCityOptions",class:"form-control p-3",placeholder:"Краснодар","aria-label":"deliveryManForm-city","aria-describedby":"deliveryManForm-city",required:""},null,512),[[p,e.deliveryManForm.city]]),dt]),ct])],32)):a("",!0),e.step===5?(i(),l("form",{key:5,onSubmit:s[13]||(s[13]=c((...o)=>e.submit&&e.submit(...o),["prevent"])),class:"row"},[t("div",mt,[t("div",pt,[n(t("img",ut,null,512),[[d,"https://your-cashman.com/Image/IconSmall.png"]])])]),t("div",bt,[ht,vt,t("div",yt,[t("div",_t,[gt,t("div",ft,[n(t("input",{class:"form-check-input","onUpdate:modelValue":s[11]||(s[11]=o=>e.confirm=o),type:"checkbox",role:"switch",id:"confirm"},null,512),[[y,e.confirm]]),t("label",Mt,[e.deliveryManForm.sex?a("",!0):(i(),l("span",Ft,"С правилами озакномилась")),e.deliveryManForm.sex?(i(),l("span",St,"С правилами ознакомлен")):a("",!0)])])])]),t("button",{type:"button",onClick:s[12]||(s[12]=o=>e.step=0),class:"btn btn-outline-primary w-100 p-3 mb-3"},"Исправить ошибки "),t("button",{type:"submit",disabled:!e.confirm||e.load,class:"btn btn-outline-success w-100 p-3"},"Отправить анкету ",8,wt)])],32)):a("",!0)]))])):a("",!0)}}});export{xt as default};
