import{m as p,o,c as n,a,w as c,v as d,F as m,r as h,t as r,e as u,d as l}from"./app-5549f933.js";import{P as g}from"./Pagination-35093b8b.js";const _={key:0},C={class:"row"},b={class:"input-group mb-3"},y={key:0,class:"row"},k={class:"col-12 mb-3"},v={class:"list-group w-100"},f=["onClick"],j={class:"col-12"},w={data(){return{show:!0,loading:!0,companies:[],search:null,companies_paginate_object:null}},computed:{...p(["getCompanies","getCompaniesPaginateObject"])},mounted(){this.loadCompanies()},methods:{selectCompany(t){this.$store.dispatch("updateCurrentCompany",{company:t}),this.$emit("callback",t),this.show=!1,this.$notify("Вы выбрали компанию из спика! Все остальные действия будут производится для этой компании.")},nextCompanies(t){this.loadCompanies(t)},loadCompanies(t=0){this.loading=!0,this.$store.dispatch("loadCompanies",{dataObject:{search:this.search},page:t}).then(e=>{this.loading=!1,this.companies=this.getCompanies,this.companies_paginate_object=this.getCompaniesPaginateObject}).catch(()=>{this.loading=!1})}}},V=Object.assign(w,{__name:"CompanyList",setup(t){return(e,i)=>e.show?(o(),n("div",_,[a("div",C,[a("div",b,[c(a("input",{type:"search",class:"form-control",placeholder:"Поиск компании","aria-label":"Поиск компании","onUpdate:modelValue":i[0]||(i[0]=s=>e.search=s),"aria-describedby":"button-addon2"},null,512),[[d,e.search]]),a("button",{class:"btn btn-outline-secondary",onClick:i[1]||(i[1]=(...s)=>e.loadCompanies&&e.loadCompanies(...s)),type:"button",id:"button-addon2"},"Найти ")])]),e.companies.length>0?(o(),n("div",y,[a("div",k,[a("ul",v,[(o(!0),n(m,null,h(e.companies,(s,P)=>(o(),n("li",{class:"list-group-item",onClick:$=>e.selectCompany(s)},r(s.title||"Не указано")+" ("+r(s.slug||"Не указано")+") ",9,f))),256))])]),a("div",j,[e.companies_paginate_object?(o(),u(g,{key:0,onPagination_page:e.nextCompanies,pagination:e.companies_paginate_object},null,8,["onPagination_page","pagination"])):l("",!0)])])):l("",!0)])):l("",!0)}});export{V as _};
