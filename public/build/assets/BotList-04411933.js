import{a as Jt,_ as Fn,b as ao,c as cs,d as ja,e as qa,f as za}from"./MailingTable-a5b7aa2c.js";import{q as i,t as d,v as t,F as R,C as J,y as v,x as P,D as w,A as c,P as Fe,H as b,X as es,K as Q,G as Ne,J as G,R as ke,B as E,a7 as Pe,L as ns,Y as pt,O,a3 as at,M as Ia,j as As,o as ce,k as tt,a8 as os,a9 as Qs,a4 as rt,n as Lt,g as se,a5 as Rn,w as Ht,aa as mt,N as ye,ab as Ge,ac as ct,u as C,ad as ot,a1 as lo,ae as vs,af as Ra,f as Ua,ag as io,z as bt,ah as Ds,ai as Va,aj as Ya,ak as Ba,al as Na,am as Qa}from"./index.es-71d37bd0.js";import{_ as Yo,a as Un}from"./GlobalSlugList-aab84665.js";import{P as Ze}from"./Pagination-c0ff4992.js";import{_ as Ea}from"./BotForm-4b5a6839.js";import{T as Bo}from"./TelegramChannelHelper-864fe219.js";import{_ as Rt}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                               */import{B as Tn,_ as kt}from"./BotMediaList-53d8d6dc.js";import{v as xa}from"./v4-a960c1f4.js";const La={props:["param"],data(){return{expressions:[{expression:"{{userName}}",description:"Имя пользователя"},{expression:"{{telegramChatId}}",description:"Идентификатор чата"},{expression:"{{referralLink}}",description:"Реферальная ссылка"},{expression:"{{referralQr}}",description:"Реферальный QR-код"}]}},methods:{expressionsSelect(s){this.$emit("callback",{param:this.param,text:s.expression})}}},Ha={class:"dropdown"},Wa=t("button",{class:"btn btn-link dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-brands fa-hire-a-helper"})],-1),Ka={class:"dropdown-menu item-with-text cursor-pointer text-muted p-2"},Xa=["onClick"];function Ga(s,e,n,a,o,l){return i(),d("div",Ha,[Wa,t("div",Ka,[t("li",null,[(i(!0),d(R,null,J(o.expressions,r=>(i(),d("a",{class:"dropdown-item",onClick:u=>l.expressionsSelect(r)},v(r.description||"-"),9,Xa))),256))])])])}const Za=Rt(La,[["render",Ga]]);const Ja={class:"card-header d-flex justify-content-between align-items-center"},el={class:"d-flex"},tl=t("i",{class:"fa-solid fa-arrow-left"},null,-1),sl=[tl],nl={class:"dropdown"},ol=t("i",{class:"fa-solid fa-ellipsis"},null,-1),al=[ol],ll={class:"dropdown-menu"},il=["data-bs-target"],rl=t("i",{class:"fa-regular fa-pen-to-square mr-1"},null,-1),dl=t("i",{class:"fa-solid fa-clone mr-1"},null,-1),ul=t("i",{class:"fa-regular fa-trash-can text-danger mr-1"},null,-1),cl={key:0,class:"fa-solid fa-arrow-up-short-wide"},ml={key:1,class:"fa-solid fa-arrow-down-short-wide"},pl={class:"card-body"},hl={class:"row"},_l={class:"col-12"},fl={key:0},vl={key:1,class:"list-group list-group-numbered"},bl={class:"list-group-item d-flex justify-content-between align-items-start"},gl={class:"ms-2 me-auto"},yl=t("div",{class:"fw-bold"},"Идентификатор",-1),$l={class:"list-group-item d-flex justify-content-between align-items-start"},kl={class:"ms-2 me-auto"},wl=t("div",{class:"fw-bold"},"Команда",-1),Cl={class:"list-group-item d-flex justify-content-between align-items-start"},Fl={class:"ms-2 me-auto"},Tl=t("div",{class:"fw-bold"},"Мнемоническое имя",-1),Dl={class:"list-group-item d-flex justify-content-between align-items-start"},Sl={class:"ms-2 me-auto"},Pl=t("div",{class:"fw-bold"},"Пояснение",-1),Ol={key:0,class:"list-group-item d-flex justify-content-between align-items-start"},Ml={class:"ms-2 me-auto"},Al=t("div",{class:"fw-bold"},"Набор параметров скрипта",-1),jl={key:1,class:"list-group-item d-flex justify-content-between align-items-start"},ql=t("div",{class:"ms-2 me-auto"},[t("div",{class:"fw-bold"},"Привязана страница")],-1),zl=[ql],Il={key:2,class:"list-group-item d-flex justify-content-between align-items-start"},Rl=t("div",{class:"ms-2 me-auto"},[t("div",{class:"fw-bold"},"Глобальный скрипт")],-1),Ul=[Rl],Vl={class:"list-group-item d-flex justify-content-between align-items-start"},Yl={class:"ms-2 me-auto w-100"},Bl=t("div",{class:"fw-bold"},"Перенести данные из:",-1),Nl=t("option",{value:null},"Не выбрано",-1),Ql=["value"],El=t("p",{class:"my-2"},[t("em",null,"Перенос данных затирает текущие данные в данном скрипте")],-1),xl=["disabled"],Ll=["id"],Hl={class:"modal-dialog modal-fullscreen"},Wl={class:"modal-content"},Kl={class:"modal-header"},Xl={class:"modal-title",id:"exampleModalLabel"},Gl=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Zl={class:"modal-body"},Jl=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),ei={props:["item","bot","selectMode","isActive"],data(){return{selected_slug_id:null,slugs:[],load:!1,simple:!0}},watch:{simple:function(){this.simple||this.loadAllSlugs()}},mounted(){},methods:{selectCard(){this.$emit("select",this.item)},slugFormCallback(){this.load=!0,this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},editSlug(){this.load=!0,this.$nextTick(()=>{this.load=!1})},selectSlug(){this.load=!0,this.$emit("select",this.item),this.$nextTick(()=>{this.load=!1})},duplicateSlug(){this.load=!0,this.$store.dispatch("duplicateSlug",{dataObject:{slugId:this.item.id}}).then(s=>{this.$notify({title:"Конструктор команд",text:"Команда успешно продублирована",type:"success"}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}).catch(s=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},submitRelocateData(){this.$store.dispatch("relocateSlugActionData",{slug_sender_id:this.selected_slug_id,slug_recipient_id:this.item.id,bot_id:this.bot.id}).then(s=>{this.$notify({title:"Конструктор команд",text:"Данные команды успешно перенесены",type:"success"})}).catch(s=>{this.$notify({title:"Конструктор команд",text:"Ошибка переноса данных",type:"error"})})},loadAllSlugs(){this.$store.dispatch("loadAllSlugs",{botId:this.bot.id}).then(s=>{this.slugs=s.data})},removeSlug(){this.load=!0,this.$store.dispatch("removeSlug",{dataObject:{slugId:this.item.id}}).then(s=>{this.$notify({title:"Конструктор команд",text:"Команда успешно удалена",type:"success"}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}).catch(s=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})})}}},ti=Object.assign(ei,{__name:"Slug",setup(s){return(e,n)=>(i(),d(R,null,[t("div",{class:P(["card",{"deprecated-slug":s.item.deprecated_at!=null,"global-slug":s.item.is_global,"bg-success text-white":s.isActive}])},[t("div",Ja,[t("div",el,[t("button",{onClick:n[0]||(n[0]=(...a)=>e.selectSlug&&e.selectSlug(...a)),type:"button",title:"Выбрать команду",class:P(["btn btn-outline-primary mr-2",{"text-white":s.isActive}])},sl,2),t("div",nl,[t("button",{class:P([{"text-white border-white":s.isActive},"btn btn-outline-secondary"]),type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},al,2),t("ul",ll,[t("li",null,[t("a",{class:"dropdown-item cursor-pointer",onClick:n[1]||(n[1]=(...a)=>e.editSlug&&e.editSlug(...a)),"data-bs-toggle":"modal","data-bs-target":"#edit-slug-"+s.item.id},[rl,w(" Редактировать")],8,il)]),t("li",null,[t("a",{class:"dropdown-item cursor-pointer",onClick:n[2]||(n[2]=(...a)=>e.duplicateSlug&&e.duplicateSlug(...a))},[dl,w(" Дублировать")])]),t("li",null,[t("a",{class:"dropdown-item cursor-pointer",onClick:n[3]||(n[3]=(...a)=>e.removeSlug&&e.removeSlug(...a))},[ul,w(" Удалить")])])])])]),t("span",null,[t("small",null,[t("strong",null,"#"+v(s.item.id),1)])]),t("button",{type:"button",onClick:n[4]||(n[4]=a=>e.simple=!e.simple),class:P([{"text-white border-white":s.isActive},"btn btn-outline-primary ml-2"])},[e.simple?(i(),d("i",cl)):(i(),d("i",ml))],2)]),t("div",pl,[t("div",hl,[t("div",_l,[e.simple?(i(),d("p",fl,v(s.item.command||"Нет команды"),1)):(i(),d("ol",vl,[t("li",bl,[t("div",gl,[yl,w(" №"+v(s.item.id||"Нет идентификатора"),1)])]),t("li",$l,[t("div",kl,[wl,w(" "+v(s.item.command||"Нет команды"),1)])]),t("li",Cl,[t("div",Fl,[Tl,w(" "+v(s.item.slug||"Slug"),1)])]),t("li",Dl,[t("div",Sl,[Pl,w(" "+v(s.item.comment||"Пояснение не указано"),1)])]),s.item.config?(i(),d("li",Ol,[t("div",Ml,[Al,s.item.config?(i(!0),d(R,{key:0},J(s.item.config,a=>(i(),d("p",null,[t("strong",null,v(a.key||"Ключ не найден")+":",1),w(v(a.value||"Не указано"),1)]))),256)):c("",!0)])])):c("",!0),s.item.page?(i(),d("li",jl,zl)):c("",!0),s.item.is_global?(i(),d("li",Il,Ul)):c("",!0),t("li",Vl,[t("div",Yl,[t("form",{onSubmit:n[6]||(n[6]=Fe((...a)=>e.submitRelocateData&&e.submitRelocateData(...a),["prevent"]))},[Bl,b(t("select",{class:"form-control w-100","onUpdate:modelValue":n[5]||(n[5]=a=>e.selected_slug_id=a),required:""},[Nl,(i(!0),d(R,null,J(e.slugs,a=>(i(),d("option",{value:a.id},"#"+v(a.id)+" "+v(a.slug||"Не указан"),9,Ql))),256))],512),[[es,e.selected_slug_id]]),El,t("button",{disabled:e.selected_slug_id==null,class:"btn btn-outline-warning w-100"}," Выполнить перенос ",8,xl)],32)])])]))])])])],2),t("div",{class:"modal fade",id:"edit-slug-"+s.item.id,tabindex:"-1"},[t("div",Hl,[t("div",Wl,[t("div",Kl,[t("h5",Xl,[w("Редактирование команды #"),t("span",null,v(s.item.id),1)]),Gl]),t("div",Zl,[e.load?c("",!0):(i(),Q(Yo,{key:0,item:s.item,onCallback:e.slugFormCallback},null,8,["item","onCallback"]))]),Jl])])],8,Ll)],64))}}),si={key:0,class:"row"},ni={class:"col-12 mb-2"},oi={key:0},ai=t("i",{class:"fa-solid fa-scroll"},null,-1),li={key:1},ii=t("i",{class:"fa-regular fa-square-minus"},null,-1),ri={key:0,class:"col-12"},di={class:"col-12"},ui={class:"form-floating mb-3"},ci=t("label",{for:"floatingInput"},"Быстрый поиск команды",-1),mi={class:"col-12 mb-2"},pi={class:"form-check"},hi={class:"form-check-label",for:"need_global"},_i={key:0},fi={key:1},vi={class:"form-check"},bi=t("label",{class:"form-check-label",for:"need_show_deleted"}," Удаленные ",-1),gi={key:1,class:"mb-3 col-12 col-sm-12"},yi={class:"table"},$i=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Команда"),t("th",{scope:"col"},"Пояснение"),t("th",{scope:"col"},"Глобальный"),t("th",{scope:"col"},"Действия")])],-1),ki=["onClick"],wi={key:0},Ci=t("i",{class:"fa-solid fa-check text-success"},null,-1),Fi=[Ci],Ti={key:1},Di=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),Si=[Di],Pi={class:"dropdown"},Oi=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),Mi={class:"dropdown-menu"},Ai={key:0},ji=["onClick"],qi=t("i",{class:"fa-solid fa-arrow-left mr-1"},null,-1),zi={key:1},Ii=["onClick"],Ri=t("a",{class:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":"#edit-table-slug"},[t("i",{class:"fa-regular fa-pen-to-square mr-1"}),w(" Редактировать")],-1),Ui=[Ri],Vi=["onClick"],Yi=t("i",{class:"fa-solid fa-clone mr-1"},null,-1),Bi=["href"],Ni=t("i",{class:"fa-regular fa-file-excel mr-1"},null,-1),Qi={key:2},Ei=["onClick"],xi=t("i",{class:"fa-regular fa-trash-can text-danger mr-1"},null,-1),Li={key:3},Hi=["onClick"],Wi=t("i",{class:"fa-regular fa-trash-can text-danger mr-1"},null,-1),Ki={key:3,class:"mb-3 col-md-12"},Xi=t("div",{class:"alert alert-danger",role:"alert"}," У Вас еще нет добавленных скриптов! ",-1),Gi=[Xi],Zi={class:"modal fade",id:"edit-table-slug",tabindex:"-1"},Ji={class:"modal-dialog modal-fullscreen"},er={key:0,class:"modal-content"},tr={class:"modal-header"},sr={class:"modal-title",id:"exampleModalLabel"},nr=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),or={class:"modal-body"},ar={class:"row"},lr={class:"col-8"},ir={class:"col-4"},rr={class:"list-group list-group-numbered"},dr={key:0,class:"list-group-item d-flex justify-content-between align-items-start"},ur={class:"ms-2 me-auto"},cr=t("div",{class:"fw-bold"},"Набор параметров скрипта",-1),mr={key:1},pr={key:1,class:"list-group-item d-flex justify-content-between align-items-start"},hr=t("div",{class:"ms-2 me-auto"},[t("div",{class:"fw-bold"},"Привязана страница")],-1),_r=[hr],fr={key:2,class:"list-group-item d-flex justify-content-between align-items-start"},vr=t("div",{class:"ms-2 me-auto"},[t("div",{class:"fw-bold"},"Является глобальным скриптом")],-1),br=[vr],gr={class:"list-group-item d-flex justify-content-between align-items-start"},yr={class:"ms-2 me-auto w-100"},$r=t("div",{class:"fw-bold"},"Перенести данные из:",-1),kr=t("option",{value:null},"Не выбрано",-1),wr=["value"],Cr=t("p",{class:"my-2"},[t("em",null,"Перенос данных затирает текущие данные в данном скрипте")],-1),Fr=["disabled"],Tr=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Dr={props:["command","canSelect"],data(){return{bot:null,relocated_slug_id:null,need_global:!0,need_show_deleted:!0,show:!1,load:!1,slugs:[],paginate:[],selectedSlug:null,ownSearch:null,slugForm:{command:null,comment:null,slug:null}}},watch:{ownSearch:function(s,e){this.loadSlugs()},need_global:function(s,e){this.loadSlugs()},need_show_deleted:function(s,e){this.loadSlugs()}},computed:{...Ne(["getCurrentBot","getSlugs","getSlugsPaginateObject"])},mounted(){this.loadCurrentBot().then(()=>{this.loadSlugs(),this.command&&this.$nextTick(()=>{this.slugForm.command=this.command})})},methods:{nextSlugs(s){this.loadSlugs(s)},loadSlugs(s=0){return this.$store.dispatch("loadSlugs",{dataObject:{botId:this.bot.id,needGlobal:this.need_global,needDeleted:this.need_show_deleted,search:this.ownSearch},page:s}).then(e=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})},loadCurrentBot(s=null){return this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{this.bot=this.getCurrentBot})},callbackSlugs(){this.loadSlugs()},selectSlug(s){this.load=!0,this.$nextTick(()=>{this.selectedSlug=s,this.load=!1}),this.$emit("select",s)},selectCard(){this.$emit("select",this.item)},slugFormCallback(){this.load=!0;const s=this.selectedSlug;this.loadSlugs().then(()=>{let e=this.slugs.find(n=>n.id===s.id);this.selectSlug(e||null)}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},editSlug(){this.load=!0,this.$nextTick(()=>{this.load=!1})},duplicateSlug(s){this.load=!0,this.$store.dispatch("duplicateSlug",{dataObject:{slugId:s.id}}).then(e=>{this.$notify({title:"Конструктор команд",text:"Команда успешно продублирована",type:"success"}),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}).catch(e=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})}),this.loadSlugs(),this.$emit("callback"),this.$nextTick(()=>{this.load=!1})},submitRelocateData(){this.$store.dispatch("relocateSlugActionData",{slug_sender_id:this.relocated_slug_id,slug_recipient_id:this.item.id,bot_id:this.bot.id}).then(s=>{this.$notify({title:"Конструктор команд",text:"Данные команды успешно перенесены",type:"success"})}).catch(s=>{this.$notify({title:"Конструктор команд",text:"Ошибка переноса данных",type:"error"})})},restoreSlug(s){this.load=!0,this.$store.dispatch("restoreSlug",{dataObject:{slugId:s.id}}).then(e=>{this.$notify({title:"Конструктор команд",text:"Команда успешно восстановлена",type:"success"}),this.loadSlugs(),this.$nextTick(()=>{this.load=!1})}).catch(e=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})})},removeSlug(s){this.load=!0,this.$store.dispatch("removeSlug",{dataObject:{slugId:s.id}}).then(e=>{this.$notify({title:"Конструктор команд",text:"Команда успешно удалена",type:"success"}),this.loadSlugs()}).catch(e=>{this.$emit("callback"),this.$nextTick(()=>{this.load=!1})})}}},Sr=Object.assign(Dr,{__name:"BotSlugTableList",setup(s){return(e,n)=>(i(),d(R,null,[e.bot?(i(),d("div",si,[t("div",ni,[t("button",{type:"button",onClick:n[0]||(n[0]=a=>e.show=!e.show),class:"btn btn-outline-success p-3 w-100"},[e.show?(i(),d("span",li,[ii,w(" Свернуть форму добавления")])):(i(),d("span",oi,[ai,w(" Добавить глобальный скрипт")]))])]),e.show?(i(),d("div",ri,[e.bot?(i(),Q(Un,{key:0,"can-add":!0,bot:e.bot,onCallback:e.loadSlugs},null,8,["bot","onCallback"])):c("",!0)])):c("",!0),t("div",di,[t("div",ui,[b(t("input",{type:"search","onUpdate:modelValue":n[1]||(n[1]=a=>e.ownSearch=a),class:"form-control",id:"floatingInput",placeholder:"name@example.com"},null,512),[[G,e.ownSearch]]),ci])]),t("div",mi,[t("div",pi,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[2]||(n[2]=a=>e.need_global=a),type:"checkbox",id:"need_global"},null,512),[[ke,e.need_global]]),t("label",hi,[e.need_global?(i(),d("span",_i,"Глобальные")):(i(),d("span",fi,"Локальные"))])]),t("div",vi,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[3]||(n[3]=a=>e.need_show_deleted=a),type:"checkbox",id:"need_show_deleted"},null,512),[[ke,e.need_show_deleted]]),bi])]),e.slugs&&e.bot?(i(),d("div",gi,[t("table",yi,[$i,t("tbody",null,[(i(!0),d(R,null,J(e.slugs,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",{scope:"row",class:P({"text-danger":a.deleted_at!=null})},v(a.id||"Нет идентификатора"),3),t("td",{onClick:l=>e.selectSlug(a),"data-bs-toggle":"modal","data-bs-target":"#edit-table-slug",class:P({"text-danger":a.deleted_at!=null})},v(a.command||"Нет команды"),11,ki),t("td",{class:P({"text-danger":a.deleted_at!=null})},v(a.comment||"Пояснение не указано"),3),t("td",null,[a.is_global?(i(),d("span",wi,Fi)):(i(),d("span",Ti,Si))]),t("td",null,[t("div",Pi,[Oi,t("ul",Mi,[s.canSelect?(i(),d("li",Ai,[t("a",{onClick:l=>e.selectSlug(a),title:"Выбрать команду",class:"dropdown-item cursor-pointer"},[qi,w(" Выбрать команду ")],8,ji)])):c("",!0),s.canSelect?(i(),d("hr",zi)):c("",!0),t("li",{onClick:l=>e.selectSlug(a)},Ui,8,Ii),t("li",null,[t("a",{class:"dropdown-item cursor-pointer",onClick:l=>e.duplicateSlug(a)},[Yi,w(" Дублировать")],8,Vi)]),t("li",null,[t("a",{class:"dropdown-item cursor-pointer",target:"_blank",href:"/admin/slugs/action-data-export/"+a.id},[Ni,w(" Скачать данные участников")],8,Bi)]),a.deleted_at==null?(i(),d("li",Qi,[t("a",{class:"dropdown-item cursor-pointer",onClick:l=>e.removeSlug(a)},[xi,w(" Удалить")],8,Ei)])):c("",!0),a.deleted_at!=null?(i(),d("li",Li,[t("a",{class:"dropdown-item cursor-pointer",onClick:l=>e.restoreSlug(a)},[Wi,w(" Восстановить")],8,Hi)])):c("",!0)])])])],2))),256))])])])):c("",!0),e.paginate?(i(),Q(Ze,{key:2,onPagination_page:e.nextSlugs,pagination:e.paginate},null,8,["onPagination_page","pagination"])):c("",!0),e.slugs.length===0?(i(),d("div",Ki,Gi)):c("",!0)])):c("",!0),t("div",Zi,[t("div",Ji,[e.selectedSlug&&!e.load?(i(),d("div",er,[t("div",tr,[t("h5",sr,[w("Редактирование команды #"),t("span",null,v(e.selectedSlug.id),1)]),nr]),t("div",or,[t("div",ar,[t("div",lr,[E(Yo,{item:e.selectedSlug,onCallback:e.slugFormCallback},null,8,["item","onCallback"])]),t("div",ir,[t("ol",rr,[e.selectedSlug.config?(i(),d("li",dr,[t("div",ur,[cr,(e.selectedSlug.config||[]).length>0?(i(!0),d(R,{key:0},J(e.selectedSlug.config,a=>(i(),d("p",null,[t("strong",null,v(a.key||"Ключ не найден")+":",1),w(v(a.value||"Не указано"),1)]))),256)):(i(),d("p",mr,"Отсутствует"))])])):c("",!0),e.selectedSlug.page?(i(),d("li",pr,_r)):c("",!0),e.selectedSlug.is_global?(i(),d("li",fr,br)):c("",!0),t("li",gr,[t("div",yr,[t("form",{onSubmit:n[5]||(n[5]=Fe((...a)=>e.submitRelocateData&&e.submitRelocateData(...a),["prevent"]))},[$r,b(t("select",{class:"form-control w-100","onUpdate:modelValue":n[4]||(n[4]=a=>e.relocated_slug_id=a),required:""},[kr,(i(!0),d(R,null,J(e.slugs,a=>(i(),d("option",{value:a.id},"#"+v(a.id)+" "+v(a.slug||"Не указан"),9,wr))),256))],512),[[es,e.relocated_slug_id]]),Cr,t("button",{disabled:e.relocated_slug_id==null,class:"btn btn-outline-warning w-100"}," Выполнить перенос ",8,Fr)],32)])])])])])]),Tr])):c("",!0)])])],64))}}),Pr={class:"row mt-2"},Or={class:"input-group mb-3"},Mr={key:0,class:"row"},Ar={class:"col-12 col-md-12 mb-3"},jr={class:"table"},qr=t("th",{scope:"col"},"#",-1),zr=t("th",{scope:"col"},"Ф.И.О. из телеграмма",-1),Ir=t("th",{scope:"col"},"Имя пользователя",-1),Rr=t("th",{scope:"col"},"Домен",-1),Ur=t("th",{scope:"col"},"Телефон",-1),Vr=t("th",{scope:"col"},"TG id",-1),Yr={key:0,scope:"col"},Br={key:1,scope:"col"},Nr={key:2,scope:"col"},Qr={key:3,scope:"col"},Er={key:4,scope:"col"},xr=["onClick"],Lr={scope:"row"},Hr=["href"],Wr={key:1},Kr={key:0},Xr=["onClick"],Gr=t("i",{class:"fa-solid fa-check text-success"},null,-1),Zr=[Gr],Jr=["onClick"],ed=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),td=[ed],sd={key:1},nd=["onClick"],od=t("i",{class:"fa-solid fa-check text-success"},null,-1),ad=[od],ld=["onClick"],id=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),rd=[id],dd={key:2},ud=["onClick"],cd=t("i",{class:"fa-solid fa-check text-success"},null,-1),md=[cd],pd=["onClick"],hd=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),_d=[hd],fd={key:3},vd=["onClick"],bd=t("i",{class:"fa-solid fa-check text-success"},null,-1),gd=[bd],yd=["onClick"],$d=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),kd=[$d],wd={key:4},Cd=["onClick"],Fd=t("i",{class:"fa-solid fa-check text-success"},null,-1),Td=[Fd],Dd=["onClick"],Sd=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),Pd=[Sd],Od={class:"col-12"},Md={key:1,class:"row"},Ad=t("div",{class:"col-12"},[t("div",{class:"alert alert-warning",role:"alert"}," У выбранного бота нет пользователей ")],-1),jd=[Ad],qd={props:["simple"],data(){return{bot:null,loading:!0,bot_users:[],search:null,bot_users_paginate_object:null}},computed:{...Ne(["getBotUsers","getBotUsersPaginateObject","getCurrentBot"])},mounted(){this.loadCurrentBot().then(()=>{this.loadUsers()})},methods:{selectUser(s){this.$emit("select",s)},loadCurrentBot(s=null){return this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{this.bot=this.getCurrentBot})},changeUserStatus(s,e,n="is_admin"){this.bot_users[s][n]=e===1,this.$store.dispatch("changeUserStatus",{dataObject:{bot_user_id:this.bot_users[s].id,status:e,type:n}}).then(()=>{this.$notify({title:"Конструктор ботов",text:"Статус пользователя успешно изменен! Пользователь оповещен об изменении статуса!",type:"success"})}).catch(()=>{this.$notify({title:"Конструктор ботов",text:"Ошибка изменения статуса",type:"error"})})},nextUsers(s){this.loadUsers(s)},loadUsers(s=0){this.loading=!0,this.$store.dispatch("loadBotUsers",{dataObject:{botId:this.bot.id||null,search:this.search},size:100,page:s}).then(e=>{this.loading=!1,this.bot_users=this.getBotUsers,this.bot_users_paginate_object=this.getBotUsersPaginateObject}).catch(()=>{this.loading=!1})}}},Gs=Object.assign(qd,{__name:"BotUserList",setup(s){return(e,n)=>(i(),d(R,null,[t("div",Pr,[t("div",Or,[b(t("input",{type:"search",class:"form-control",placeholder:"Поиск пользователя","aria-label":"Поиск пользователя",onKeydown:n[0]||(n[0]=Pe(a=>e.loadUsers(0),["enter"])),"onUpdate:modelValue":n[1]||(n[1]=a=>e.search=a)},null,544),[[G,e.search]]),t("button",{class:"btn btn-outline-secondary",onClick:n[2]||(n[2]=a=>e.loadUsers(0)),type:"button",id:"button-addon2"},"Найти ")])]),e.bot_users.length>0?(i(),d("div",Mr,[t("div",Ar,[t("table",jr,[t("thead",null,[t("tr",null,[qr,zr,Ir,Rr,Ur,Vr,s.simple?c("",!0):(i(),d("th",Yr,"Админ")),s.simple?c("",!0):(i(),d("th",Br,"VIP")),s.simple?c("",!0):(i(),d("th",Nr,"Доставщик")),s.simple?c("",!0):(i(),d("th",Qr,"Менеджер")),s.simple?c("",!0):(i(),d("th",Er,"За работой"))])]),t("tbody",null,[(i(!0),d(R,null,J(e.bot_users,(a,o)=>(i(),d("tr",{onClick:l=>e.selectUser(a)},[t("th",Lr,v(a.id),1),t("td",null,v(a.fio_from_telegram||"Не указано"),1),t("td",null,v(a.name||"Не указано"),1),t("td",null,[a.username?(i(),d("a",{key:0,href:"https://t.me/"+a.username,target:"_blank"},"@"+v(a.username),9,Hr)):(i(),d("span",Wr,"Не указано"))]),t("td",null,v(a.phone||"Не указано"),1),t("td",null,v(a.telegram_chat_id||"Не указано"),1),s.simple?c("",!0):(i(),d("td",Kr,[a.is_admin?(i(),d("span",{key:0,onClick:l=>e.changeUserStatus(o,0,"is_admin")},Zr,8,Xr)):(i(),d("span",{key:1,onClick:l=>e.changeUserStatus(o,1,"is_admin")},td,8,Jr))])),s.simple?c("",!0):(i(),d("td",sd,[a.is_vip?(i(),d("span",{key:0,onClick:l=>e.changeUserStatus(o,0,"is_vip")},ad,8,nd)):(i(),d("span",{key:1,onClick:l=>e.changeUserStatus(o,1,"is_vip")},rd,8,ld))])),s.simple?c("",!0):(i(),d("td",dd,[a.is_deliveryman?(i(),d("span",{key:0,onClick:l=>e.changeUserStatus(o,0,"is_deliveryman")},md,8,ud)):(i(),d("span",{key:1,onClick:l=>e.changeUserStatus(o,1,"is_deliveryman")},_d,8,pd))])),s.simple?c("",!0):(i(),d("td",fd,[a.is_manager?(i(),d("span",{key:0,onClick:l=>e.changeUserStatus(o,0,"is_manager")},gd,8,vd)):(i(),d("span",{key:1,onClick:l=>e.changeUserStatus(o,1,"is_manager")},kd,8,yd))])),s.simple?c("",!0):(i(),d("td",wd,[a.is_work?(i(),d("span",{key:0,onClick:l=>e.changeUserStatus(o,0,"is_work")},Td,8,Cd)):(i(),d("span",{key:1,onClick:l=>e.changeUserStatus(o,1,"is_work")},Pd,8,Dd))]))],8,xr))),256))])])]),t("div",Od,[e.bot_users_paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextUsers,pagination:e.bot_users_paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])])):(i(),d("div",Md,jd))],64))}}),zd={class:"row"},Id={class:"col-12"},Rd=t("h6",null,"Добавление нового скрипта в бота",-1),Ud={key:0,class:"row"},Vd={class:"col-md-6 col-lg-4 col-sm-6 col-12 mb-2"},Yd={key:1,class:"row"},Bd=t("div",{class:"col-12"},[t("div",{class:"alert alert-danger",role:"alert"},' У Вас еще нет добавленных скриптов! Воспользуйтесь разделом "Скрипты" для добавления. ')],-1),Nd=[Bd],Qd={props:["bot","global","selected"],data(){return{load:!1,search:null,slugs:[],paginate:[]}},computed:{...Ne(["getSlugs","getSlugsPaginateObject"]),filteredSlugs(){return this.slugs?this.slugs.length===0?[]:this.search==null?this.slugs:this.slugs.filter(s=>{let e=s.slug||"",n=s.command||"",a=s.comment||"";return n.toLowerCase().indexOf(this.search.toLowerCase())!==-1||a.toLowerCase().indexOf(this.search.toLowerCase())!==-1||e.toLowerCase().indexOf(this.search.toLowerCase())!==-1}):[]}},mounted(){this.loadSlugs()},methods:{nextSlugs(s){this.loadSlugs(s)},selectSlug(s){this.$emit("callback",{id:s.id||null,slug:s.slug,comment:s.comment,command:s.command}),this.$notify("Вы выбрали скрипт из списка!")},loadSlugs(s=0){this.$store.dispatch("loadSlugs",{dataObject:{botId:this.bot.id,search:this.search,needGlobal:this.global},page:s}).then(e=>{this.slugs=this.getSlugs,this.paginate=this.getSlugsPaginateObject})},callbackSlugs(){}}},Ed=Object.assign(Qd,{__name:"BotSlugListSimple",setup(s){return(e,n)=>(i(),d("div",zd,[t("div",Id,[Rd,t("div",null,[b(t("input",{type:"text",class:"form-control mt-1 mb-1","onUpdate:modelValue":n[0]||(n[0]=a=>e.search=a),onKeyup:n[1]||(n[1]=(...a)=>e.loadSlugs&&e.loadSlugs(...a)),placeholder:"Поиск нужного скрипта по описанию"},null,544),[[G,e.search]])]),e.slugs.length>0?(i(),d("div",Ud,[(i(!0),d(R,null,J(e.slugs,(a,o)=>(i(),d("div",Vd,[E(ti,{"is-active":(s.selected||[]).indexOf(a.id)!=-1,item:a,bot:s.bot,onCallback:e.callbackSlugs,onSelect:e.selectSlug},null,8,["is-active","item","bot","onCallback","onSelect"])]))),256)),e.paginate?(i(),Q(Ze,{key:0,onPagination_page:e.nextSlugs,pagination:e.paginate},null,8,["onPagination_page","pagination"])):c("",!0)])):(i(),d("div",Yd,Nd))])]))}});const xd={props:["param"],data(){return{expressions:[{expression:null,description:"Нет проверки"},{expression:"/([a-z0-9]+)/i",description:"Проверка набора из латинских букв и цифр"},{expression:"/([а-яё0-9]+)/iu",description:"Проверка на кириллицу и цифры"},{expression:"/(?P<digit>\\d+)/",description:"Проверка на число"},{expression:"/^([a-z0-9_-]+.)*[a-z0-9_-]+@[a-z0-9_-]+(.[a-z0-9_-]+)*.[a-z]{2,6}$/",description:"Проверка Email"},{expression:"/^((8|+7)[- ]?)?((?d{3})?[- ]?)?[d- ]{7,10}$/",description:"Проверка номера телефона: +7(982)000-00-00"},{expression:"/^(0[1-9]|[12][0-9]|3[01])[.](0[1-9]|1[012])[.](19|20)dd$/",description:"Проверка даты по формату DD.MM.YYYY"},{expression:"/^[0-9]{4}-(0[1-9]|1[012])-(0[1-9]|1[0-9]|2[0-9]|3[01])$/",description:"Проверка даты по формату YYYY-MM-DD"},{expression:"/^(https?://)?([da-z.-]+).([a-z.]{2,6})([/w .-]*)*/?$/",description:"Проверка доменного имени"}]}},methods:{expressionsSelect(s){this.$emit("callback",{param:this.param,text:s.expression})}}},Ld={class:"dropdown"},Hd=t("button",{class:"btn btn-link dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-regular fa-registered"})],-1),Wd={class:"dropdown-menu item-with-text cursor-pointer text-muted p-2"},Kd=["onClick"];function Xd(s,e,n,a,o,l){return i(),d("div",Ld,[Hd,t("div",Wd,[t("li",null,[(i(!0),d(R,null,J(o.expressions,r=>(i(),d("a",{class:"dropdown-item",onClick:u=>l.expressionsSelect(r)},v(r.description||"-"),9,Kd))),256))])])])}const Gd=Rt(xd,[["render",Xd]]),Zd={key:0,class:"mb-2 d-flex justify-content-start flex-wrap"},Jd=t("p",null,"Связь цепочек: ",-1),eu=["onClick"],tu={key:0,class:"fa-solid fa-arrow-right font-12"},su={class:"form-floating mb-2"},nu=["id"],ou=["for"],au={class:"form-check mb-2"},lu=t("label",{class:"form-check-label",for:"need-empty-dialog"}," Диалог без ожидания ответа ",-1),iu={key:1,class:"form-floating mb-2"},ru=["id"],du=["for"],uu={key:2,class:"form-floating mb-2"},cu=["id"],mu=["for"],pu={key:3,class:"mb-2"},hu={class:"d-flex justify-content-between"},_u=["for"],fu=["id"],vu={class:"mb-2"},bu={class:"d-flex justify-content-between"},gu=["for"],yu=["id"],$u={class:"mb-2"},ku={class:"form-check"},wu=t("label",{class:"form-check-label",for:"need-dialog-image"}," В диалоге нужно изображение ",-1),Cu={class:"form-check"},Fu=t("label",{class:"form-check-label",for:"need-dialog-menu-inline"}," В диалоге нужно меню тексту ",-1),Tu={class:"form-check"},Du=t("label",{class:"form-check-label",for:"need-dialog-menu-reply"}," В диалоге нужно нижнее меню ",-1),Su={key:4,class:"card mb-2"},Pu={class:"card-body"},Ou=t("h6",null,"Фотографии к диалогу",-1),Mu={class:"photo-preview d-flex justify-content-start flex-wrap w-100"},Au={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},ju=t("span",null,"+",-1),qu={class:"mb-2 img-preview",style:{"margin-right":"10px"}},zu={class:"remove"},Iu=["onClick"],Ru={class:"mb-2 img-preview",style:{"margin-right":"10px"}},Uu={class:"remove"},Vu=["onClick"],Yu={key:5,class:"card mb-2"},Bu=t("div",{class:"card-header"},[t("h6",null,"Кнопки к тексту вопроса")],-1),Nu={class:"card-body"},Qu={key:6,class:"card mb-2"},Eu=t("div",{class:"card-header"},[t("h6",null,"Кнопки в виде нижнего меню")],-1),xu={class:"card-body"},Lu={class:"mb-2"},Hu=t("label",{class:"form-check-label",for:"need-empty-dialog"}," Сохранить в переменную ",-1),Wu=t("option",{selected:""},"Не выбрано",-1),Ku=["value"],Xu={class:"form-check mb-2"},Gu=t("label",{class:"form-check-label",for:"need-set-flags"}," Установить флаги в соответствующее значение ",-1),Zu={key:7,class:"mb-2"},Ju=t("p",null,"Выбрать флаги",-1),ec=["onClick"],tc={key:8,class:"mb-2"},sc={key:0,class:"row"},nc=t("div",{class:"col-12"},[t("p",null,"Доступные для связывания диалоги:")],-1),oc={class:"col-md-12 mb-1"},ac={type:"button",class:"btn btn-outline-primary w-100 d-flex justify-content-between align-items-center",style:{"text-align":"left"}},lc=["onClick"],ic={key:0,class:"fa-solid fa-link mr-2 text-success"},rc={key:1,class:"row"},dc=t("div",{class:"col-12"},[t("div",{class:"alert alert-danger",role:"alert"}," Диалогов для связывания нет ")],-1),uc=[dc],cc=t("hr",null,null,-1),mc={class:"mb-2"},pc={type:"submit",class:"btn btn-outline-success p-3 w-100"},hc={key:0},_c={key:1},fc={props:["item","bot"],data(){return{loading:!0,dialog_commands:[],dialog_commands_paginate_object:null,need_images:!1,need_inline_keyboard:!1,need_reply_keyboard:!1,need_set_flags:!1,flags_variants:[{title:"Является VIP",key:"is_vip",value:null},{title:"Является Админом",key:"is_admin",value:null},{title:"За работой",key:"is_work",value:null},{title:"Является менеджером",key:"is_manager",value:null}],store_variants:[{title:"Имя",key:"name"},{title:"Почта",key:"email"},{title:"Возраст",key:"age"},{title:"Город",key:"city"},{title:"Страна",key:"country"},{title:"Адрес",key:"address"},{title:"Телефон",key:"phone"},{title:"День рождение",key:"birthday"}],commandForm:{id:null,slug:null,pre_text:null,post_text:null,error_text:null,bot_id:null,input_pattern:null,inline_keyboard_id:null,reply_keyboard_id:null,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,is_empty:!1,result_flags:[],store_to:null,result_channel:null,inline_keyboard:null,reply_keyboard:null},photos:[]}},watch:{need_inline_keyboard:function(s,e){this.need_inline_keyboard||(this.commandForm.inline_keyboard_id=null,this.commandForm.inline_keyboard=null)},need_reply_keyboard:function(s,e){this.need_reply_keyboard||(this.commandForm.reply_keyboard_id=null,this.commandForm.reply_keyboard=null)},need_set_flags:function(s,e){this.need_set_flags||(this.commandForm.result_flags=[])},need_images:function(s,e){this.need_images||(this.commandForm.images=null)}},computed:{...Ne(["getDialogCommands","getDialogCommandsPaginateObject"]),filteredCommands(){return this.dialog_commands?this.dialog_commands.filter(s=>s.id!=this.commandForm.id):[]}},mounted(){this.item&&this.$nextTick(()=>{this.commandForm={id:this.item.id||null,slug:this.item.slug||null,pre_text:this.item.pre_text||null,post_text:this.item.post_text||null,error_text:this.item.error_text||null,is_empty:this.item.is_empty||!1,input_pattern:this.item.input_pattern||null,inline_keyboard_id:this.item.inline_keyboard_id||null,reply_keyboard_id:this.item.reply_keyboard_id||null,images:this.item.images||[],next_bot_dialog_command_id:this.item.next_bot_dialog_command_id||null,bot_dialog_group_id:this.item.bot_dialog_group_id||null,result_channel:this.item.result_channel||null,inline_keyboard:this.item.inline_keyboard||null,reply_keyboard:this.item.reply_keyboard||null,result_flags:this.item.result_flags||[],store_to:this.item.store_to||null},this.bot&&(this.commandForm.bot_id=this.bot.id||null),this.commandForm.inline_keyboard_id!=null&&(this.need_inline_keyboard=!0),this.commandForm.reply_keyboard_id!=null&&(this.need_reply_keyboard=!0),this.commandForm.images.length>0&&(this.need_images=!0),this.commandForm.result_flags.length>0&&(this.need_set_flags=!0)}),this.bot&&this.$nextTick(()=>{this.commandForm.bot_id=this.bot.id}),this.item&&(this.dialog_commands=this.getDialogCommands,this.dialog_commands_paginate_object=this.getDialogCommandsPaginateObject)},methods:{nextDialogs(s){this.loadDialogs(s)},loadDialogs(s=0){this.loading=!0,this.$store.dispatch("loadDialogCommands",{dataObject:{botId:this.bot.id||null,search:this.search},page:s}).then(e=>{this.loading=!1,this.dialog_commands=this.getDialogCommands,this.dialog_commands_paginate_object=this.getDialogCommandsPaginateObject}).catch(()=>{this.loading=!1})},doCommandLink(s){this.loading=!0,this.commandForm.next_bot_dialog_command_id=s},submit(){this.loading=!0;let s=new FormData;if(Object.keys(this.commandForm).forEach(e=>{const n=this.commandForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),this.photos){for(let e=0;e<this.photos.length;e++)s.append("files[]",this.photos[e]);s.delete("photos")}this.$store.dispatch(this.commandForm.id?"updateDialogCommand":"createDialogCommand",{dialogCommandForm:s}).then(e=>{this.loading=!1,this.$notify({title:"Конструктор ботов",text:"Успешная обработка диалоговой команды",type:"success"}),this.commandForm.id==null&&(this.commandForm={id:null,slug:null,pre_text:null,post_text:null,error_text:null,input_pattern:null,inline_keyboard_id:null,images:null,next_bot_dialog_command_id:null,bot_dialog_group_id:null,result_channel:null,inline_keyboard:null,is_empty:!1,result_flags:[],store_to:null},this.photos=[]),this.$emit("callback")}).catch(e=>{this.loading=!1})},getPhoto(s){return{imageUrl:URL.createObjectURL(s)}},removePhoto(s,e){this[s].splice(e,1)},onChangePhotos(s){const e=s.target.files;for(let n=0;n<e.length;n++)this.photos.push(e[n])},saveInlineKeyboard(s){this.commandForm.inline_keyboard=s},saveReplyKeyboard(s){this.commandForm.reply_keyboard=s},addTextTo(s={param:null,text:null}){this.commandForm[s.param]=s.text},selectElementById(s){this.$emit("select-element",s)},selectFlag(s){(!this.commandForm.result_flags||!Array.isArray(this.commandForm.result_flags))&&(this.commandForm.result_flags=[]);let e=this.commandForm.result_flags.indexOf(s.key);e===-1?this.commandForm.result_flags.push(s.key):this.commandForm.result_flags.splice(e,1)}}},vc=Object.assign(fc,{__name:"BotDialogCommandForm",setup(s){return(e,n)=>{const a=ns("lazy");return i(),d("form",{onSubmit:n[13]||(n[13]=Fe((...o)=>e.submit&&e.submit(...o),["prevent"]))},[e.commandForm.next_bot_dialog_command_id?(i(),d("div",Zd,[Jd,(i(!0),d(R,null,J(s.item.chain,(o,l)=>(i(),d("div",null,[t("span",{class:P(["badge cursor-pointer",{"bg-success":e.commandForm.id==o,"bg-primary":e.commandForm.id!=o}]),onClick:r=>e.selectElementById(o)},v(o),11,eu),l<s.item.chain.length-1?(i(),d("i",tu)):c("",!0)]))),256))])):c("",!0),t("div",su,[b(t("input",{type:"text",class:"form-control",id:"commandForm-pre-text-"+e.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":n[0]||(n[0]=o=>e.commandForm.pre_text=o),required:""},null,8,nu),[[G,e.commandForm.pre_text]]),t("label",{for:"commandForm-pre-text-"+e.commandForm.id},"Текст диалога",8,ou)]),t("div",au,[b(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":n[1]||(n[1]=o=>e.commandForm.is_empty=o),id:"need-empty-dialog",checked:""},null,512),[[ke,e.commandForm.is_empty]]),lu]),e.commandForm.is_empty?c("",!0):(i(),d("div",iu,[b(t("input",{type:"text",class:"form-control",id:"commandForm-post-text-"+e.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":n[2]||(n[2]=o=>e.commandForm.post_text=o),required:""},null,8,ru),[[G,e.commandForm.post_text]]),t("label",{for:"commandForm-post-text-"+e.commandForm.id},"Текст после успешного завершения диалога",8,du)])),e.commandForm.is_empty?c("",!0):(i(),d("div",uu,[b(t("input",{type:"text",class:"form-control",id:"commandForm-error-text-"+e.commandForm.id,placeholder:"Начни с малого...","onUpdate:modelValue":n[3]||(n[3]=o=>e.commandForm.error_text=o),required:""},null,8,cu),[[G,e.commandForm.error_text]]),t("label",{for:"commandForm-error-text-"+e.commandForm.id},"Текст на случай ошибки корректности данных",8,mu)])),e.commandForm.is_empty?c("",!0):(i(),d("div",pu,[t("div",hu,[t("label",{class:"form-label",for:"commandForm-result-channel-"+e.commandForm.id},"Регулярное выражение для валидации данных ",8,_u),E(Gd,{param:"input_pattern",onCallback:e.addTextTo},null,8,["onCallback"])]),b(t("input",{type:"text",class:"form-control",placeholder:"Регулярное выражение","aria-label":"Регулярное выражение","onUpdate:modelValue":n[4]||(n[4]=o=>e.commandForm.input_pattern=o),maxlength:"255",id:"commandForm-input-pattern-"+e.commandForm.id,"aria-describedby":"commandForm-input-pattern"},null,8,fu),[[G,e.commandForm.input_pattern]])])),t("div",vu,[t("div",bu,[t("label",{class:"form-label",for:"commandForm-result-channel-"+e.commandForm.id},"Канал для отправки данных ",8,gu),s.bot?(i(),Q(Bo,{key:0,token:s.bot.bot_token,param:"result_channel",onCallback:e.addTextTo},null,8,["token","onCallback"])):c("",!0)]),b(t("input",{type:"number",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":n[5]||(n[5]=o=>e.commandForm.result_channel=o),id:"commandForm-result-channel-"+e.commandForm.id,"aria-describedby":"bot-order-channel"},null,8,yu),[[G,e.commandForm.result_channel]])]),t("div",$u,[t("div",ku,[b(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":n[6]||(n[6]=o=>e.need_images=o),id:"need-dialog-image",checked:""},null,512),[[ke,e.need_images]]),wu]),t("div",Cu,[b(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":n[7]||(n[7]=o=>e.need_inline_keyboard=o),id:"need-dialog-menu-inline",checked:""},null,512),[[ke,e.need_inline_keyboard]]),Fu]),t("div",Tu,[b(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":n[8]||(n[8]=o=>e.need_reply_keyboard=o),id:"need-dialog-menu-reply",checked:""},null,512),[[ke,e.need_reply_keyboard]]),Du])]),e.need_images?(i(),d("div",Su,[t("div",Pu,[Ou,t("div",Mu,[t("label",Au,[ju,t("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:n[9]||(n[9]=(...o)=>e.onChangePhotos&&e.onChangePhotos(...o)),style:{display:"none"}},null,32)]),e.photos.length>0?(i(!0),d(R,{key:0},J(e.photos,(o,l)=>(i(),d("div",qu,[b(t("img",null,null,512),[[a,e.getPhoto(o).imageUrl]]),t("div",zu,[t("a",{onClick:r=>e.removePhoto("photos",l)},"Удалить",8,Iu)])]))),256)):c("",!0),e.commandForm.images&&s.bot?(i(!0),d(R,{key:1},J(e.commandForm.images,(o,l)=>(i(),d("div",Ru,[b(t("img",null,null,512),[[a,"/images-by-bot-id/"+s.bot.id+"/"+o]]),t("div",Uu,[t("a",{onClick:r=>e.removePhoto("images",l)},"Удалить",8,Vu)])]))),256)):c("",!0)])])])):c("",!0),e.need_inline_keyboard?(i(),d("div",Yu,[Bu,t("div",Nu,[E(Jt,{type:"inline",onSave:e.saveInlineKeyboard,"edited-keyboard":e.commandForm.inline_keyboard},null,8,["onSave","edited-keyboard"])])])):c("",!0),e.need_reply_keyboard?(i(),d("div",Qu,[Eu,t("div",xu,[E(Jt,{type:"reply",onSave:e.saveReplyKeyboard,"edited-keyboard":e.commandForm.reply_keyboard},null,8,["onSave","edited-keyboard"])])])):c("",!0),t("div",Lu,[Hu,b(t("select",{class:"form-control","onUpdate:modelValue":n[10]||(n[10]=o=>e.commandForm.store_to=o)},[Wu,(i(!0),d(R,null,J(e.store_variants,o=>(i(),d("option",{value:o.key},v(o.title||"Не указано"),9,Ku))),256))],512),[[es,e.commandForm.store_to]])]),t("div",Xu,[b(t("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":n[11]||(n[11]=o=>e.need_set_flags=o),id:"need-set-flags",checked:""},null,512),[[ke,e.need_set_flags]]),Gu]),e.need_set_flags?(i(),d("div",Zu,[Ju,(i(!0),d(R,null,J(e.flags_variants,o=>(i(),d("span",{class:P(["badge text-info mr-2",{"bg-info text-white":e.commandForm.result_flags.indexOf(o.key)!=-1}]),onClick:l=>e.selectFlag(o)},v(o.title),11,ec))),256))])):c("",!0),e.commandForm.id?(i(),d("div",tc,[e.filteredCommands.length>0?(i(),d("div",sc,[nc,(i(!0),d(R,null,J(e.filteredCommands,(o,l)=>(i(),d("div",oc,[t("button",ac,[t("span",{onClick:r=>e.doCommandLink(o.id)},[e.commandForm.next_bot_dialog_command_id==o.id?(i(),d("i",ic)):c("",!0),w(" #"+v(o.id)+" "+v(o.pre_text||"Без текста"),1)],8,lc),e.commandForm.next_bot_dialog_command_id==o.id?(i(),d("i",{key:0,class:"fa-solid fa-unlink text-danger",onClick:n[12]||(n[12]=r=>e.doCommandLink(null))})):c("",!0)])]))),256)),e.dialog_commands_paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextDialogs,pagination:e.dialog_commands_paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])):(i(),d("div",rc,uc))])):c("",!0),cc,t("div",mc,[t("button",pc,[e.commandForm.id?(i(),d("span",hc,"Обновить диалог")):(i(),d("span",_c,"Добавить диалог"))])])],32)}}});const bc={class:"row"},gc={class:"col-md-2 col-12"},yc=t("i",{class:"fa-regular fa-comment-dots",style:{"margin-right":"10px"}},null,-1),$c={class:"col-md-10 col-12"},kc={class:"input-group mb-3"},wc={key:0,class:"row"},Cc={class:"col-md-12"},Fc={class:"table"},Tc=t("thead",null,[t("tr",null,[t("th",{class:"text-center",scope:"col"},"#"),t("th",{class:"text-center",scope:"col"},"Текст диалога"),t("th",{class:"text-center",scope:"col"},"Цепочки"),t("th",{class:"text-center",scope:"col"},"Текст успеха"),t("th",{class:"text-center",scope:"col"},"Текст ошибки"),t("th",{class:"text-center",scope:"col"},"Канал результата"),t("th",{class:"text-center",scope:"col"},"Флаги"),t("th",{class:"text-center",scope:"col"},"Сохранить в"),t("th",{class:"text-center",scope:"col"},"Есть изображения"),t("th",{class:"text-center",scope:"col"},"Есть паттерны"),t("th",{class:"text-center",scope:"col"},"Пустой"),t("th",{class:"text-center",scope:"col"},"Есть кнопки"),t("th",{class:"text-center",scope:"col"},"Есть меню"),t("th",{class:"text-center",scope:"col"},"Команды")])],-1),Dc={scope:"row"},Sc={class:"text-center"},Pc=["onClick"],Oc={class:"text-center"},Mc={key:0,class:"badge bg-primary"},Ac={key:1},jc=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),qc=[jc],zc={class:"text-center"},Ic={key:0},Rc={key:1},Uc=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),Vc=[Uc],Yc={class:"text-center"},Bc={key:0},Nc={key:1},Qc=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),Ec=[Qc],xc={class:"text-center"},Lc={key:0},Hc={key:1},Wc=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),Kc=[Wc],Xc={class:"text-center"},Gc={key:0},Zc={class:"badge bg-primary"},Jc={key:1},em=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),tm=[em],sm={class:"text-center"},nm={key:0},om={key:1},am=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),lm=[am],im={class:"text-center"},rm={key:0,class:"fa-solid fa-check text-success"},dm={key:1,class:"fa-solid fa-xmark text-danger"},um={class:"text-center"},cm={key:0},mm={key:1},pm=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),hm=[pm],_m={class:"text-center"},fm={key:0,class:"fa-solid fa-check text-success"},vm={key:1,class:"fa-solid fa-xmark text-danger"},bm={class:"text-center"},gm={key:0,class:"fa-solid fa-check text-success"},ym={key:1,class:"fa-solid fa-xmark text-danger"},$m={class:"text-center"},km={key:0,class:"fa-solid fa-check text-success"},wm={key:1,class:"fa-solid fa-xmark text-danger"},Cm={class:"text-center"},Fm={class:"dropdown"},Tm=["disabled"],Dm=t("i",{class:"fa-solid fa-ellipsis"},null,-1),Sm=[Dm],Pm={class:"dropdown-menu"},Om=["onClick"],Mm=t("i",{class:"fa-solid fa-arrow-left mr-1"},null,-1),Am=t("hr",null,null,-1),jm=["onClick"],qm=t("i",{class:"fa-solid fa-clone mr-1"},null,-1),zm=["onClick"],Im=t("i",{class:"fa-solid fa-trash-can mr-1"},null,-1),Rm={key:1,class:"row"},Um=t("div",{class:"col-12"},[t("div",{class:"alert alert-danger",role:"alert"}," Не найдено ни одного диалога! ")],-1),Vm=[Um],Ym={class:"modal fade",id:"dialog-command-modal-editor",tabindex:"-1"},Bm={class:"modal-dialog modal-fullscreen"},Nm={class:"modal-content"},Qm=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"}," Создание диалогового сообщения "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Em={class:"modal-body"},xm=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Lm={data(){return{bot:null,selected:null,loading:!0,dialog_commands:[],search:null,dialog_commands_paginate_object:null}},computed:{...Ne(["getDialogCommands","getCurrentBot","getDialogCommandsPaginateObject"])},mounted(){this.loadCurrentBot().then(()=>{this.loadDialogs()})},methods:{openEditor(s){this.loading=!0,this.$nextTick(()=>{this.selected=s,this.loading=!1})},removeCommand(s){this.loading=!0,this.$store.dispatch("removeDialogCommand",{dataObject:{dialogCommandId:s}}).then(e=>{this.loading=!1,this.$notify({title:"Конструктор ботов",text:"Диалоговая команда успешно удалена!",type:"success"}),this.loadDialogs(),this.$emit("callback")}).catch(e=>{this.loading=!1})},duplicate(s){this.loading=!0,this.$store.dispatch("duplicateDialogCommand",{dataObject:{dialogCommandId:s}}).then(e=>{this.loading=!1,this.$notify({title:"Конструктор ботов",text:"Диалоговая команда успешно продублирована!",type:"success"}),this.loadDialogs(),this.$emit("callback")}).catch(e=>{this.loading=!1})},loadCurrentBot(s=null){return this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{this.bot=this.getCurrentBot})},selectDialog(s){this.$emit("select-dialog",s),this.$notify("Вы выбрали диалог из списка!")},nextDialogs(s){this.loadDialogs(s)},selectElement(s){this.loading=!0,this.$nextTick(()=>{this.selected=this.dialog_commands.find(e=>e.id===s)||null,this.loading=!1})},loadDialogs(s=0){this.$store.dispatch("loadDialogCommands",{dataObject:{botId:this.bot.id||null,search:this.search},page:s}).then(e=>{const n=this.selected;this.dialog_commands=this.getDialogCommands,this.dialog_commands_paginate_object=this.getDialogCommandsPaginateObject,this.loading=!0,this.$nextTick(()=>{n&&(this.selected=this.dialog_commands.find(a=>a.id===n.id)||null),this.loading=!1})}).catch(()=>{this.loading=!1})}}},No=Object.assign(Lm,{__name:"BotDialogGroupList",setup(s){return(e,n)=>(i(),d(R,null,[t("div",bc,[t("div",gc,[t("button",{type:"button",onClick:n[0]||(n[0]=a=>e.openEditor(null)),"data-bs-toggle":"modal","data-bs-target":"#dialog-command-modal-editor",class:"btn btn-outline-success mb-2 w-100"},[yc,w("Новый диалог ")])]),t("div",$c,[t("div",kc,[b(t("input",{type:"search",class:"form-control",placeholder:"Поиск диалога","aria-label":"Поиск диалога","onUpdate:modelValue":n[1]||(n[1]=a=>e.search=a),"aria-describedby":"button-addon2"},null,512),[[G,e.search]]),t("button",{class:"btn btn-outline-secondary",onClick:n[2]||(n[2]=a=>e.loadDialogs(0)),type:"button",id:"button-addon2"},"Найти ")])])]),e.dialog_commands.length>0?(i(),d("div",wc,[t("div",Cc,[t("table",Fc,[Tc,t("tbody",null,[(i(!0),d(R,null,J(e.dialog_commands,(a,o)=>(i(),d("tr",null,[t("th",Dc,v(a.id),1),t("td",Sc,[t("a",{"data-bs-toggle":"modal",onClick:l=>e.openEditor(a),"data-bs-target":"#dialog-command-modal-editor",href:"javascript:void(0)"},v(a.pre_text||"-"),9,Pc)]),t("td",Oc,[a.next_bot_dialog_command_id?(i(),d("span",Mc,"#"+v(a.next_bot_dialog_command_id||"-")+" ("+v(a.chain.length||0)+")",1)):(i(),d("span",Ac,qc))]),t("td",zc,[a.post_text?(i(),d("p",Ic,v(a.post_text),1)):(i(),d("p",Rc,Vc))]),t("td",Yc,[a.error_text?(i(),d("p",Bc,v(a.error_text),1)):(i(),d("p",Nc,Ec))]),t("td",xc,[a.result_channel?(i(),d("p",Lc,v(a.result_channel),1)):(i(),d("p",Hc,Kc))]),t("td",Xc,[a.result_flags.length>0?(i(),d("p",Gc,[(i(!0),d(R,null,J(a.result_flags,l=>(i(),d("span",Zc,v(l||"-"),1))),256))])):(i(),d("p",Jc,tm))]),t("td",sm,[a.store_to?(i(),d("p",nm,v(a.store_to),1)):(i(),d("p",om,lm))]),t("td",im,[a.images.length>0?(i(),d("i",rm)):(i(),d("i",dm))]),t("td",um,[a.input_pattern?(i(),d("p",cm,v(a.input_pattern),1)):(i(),d("p",mm,hm))]),t("td",_m,[a.is_empty?(i(),d("i",fm)):(i(),d("i",vm))]),t("td",bm,[a.inline_keyboard_id!=null?(i(),d("i",gm)):(i(),d("i",ym))]),t("td",$m,[a.reply_keyboard_id!=null?(i(),d("i",km)):(i(),d("i",wm))]),t("td",Cm,[t("div",Fm,[t("button",{disabled:e.loading,class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Sm,8,Tm),t("ul",Pm,[t("li",null,[t("a",{onClick:l=>e.selectDialog(a),title:"Выбрать диалог",class:"dropdown-item cursor-pointer"},[Mm,w(" Выбрать диалог ")],8,Om)]),Am,t("li",null,[t("a",{title:"Дублирование команды",onClick:l=>e.duplicate(a.id),class:"dropdown-item cursor-pointer"},[qm,w(" Дублирование диалога ")],8,jm)]),t("li",null,[t("a",{onClick:l=>e.removeCommand(a.id),title:"Удаление команды",class:"dropdown-item cursor-pointer"},[Im,w(" Удаление диалога ")],8,zm)])])])])]))),256))])]),e.dialog_commands_paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextDialogs,pagination:e.dialog_commands_paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])])):(i(),d("div",Rm,Vm)),t("div",Ym,[t("div",Bm,[t("div",Nm,[Qm,t("div",Em,[e.bot&&!e.loading?(i(),Q(vc,{key:0,item:e.selected,onCallback:e.loadDialogs,onSelectElement:e.selectElement,bot:e.bot},null,8,["item","onCallback","onSelectElement","bot"])):c("",!0)]),xm])])])],64))}}),Hm=t("div",{class:"alert alert-success",role:"alert"},' Проверка правил идет по методу "И" - все правила должны выполняться для перехода на данную страницу, иначе будет вызвана страница из блока "иначе". Действия для "иначе" добавлять не обязательно. ',-1),Wm=t("h6",null,"Блок условий",-1),Km={key:0,class:"py-2"},Xm={class:"form-label",id:"bot-domain"},Gm=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),Zm=t("div",null,"Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие будет выполнено ",-1),Jm={class:"dropdown mb-2"},ep=t("button",{class:"btn btn-outline-info dropdown-toggle w-100",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Добавить условие ",-1),tp={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},sp=["onClick"],np={key:1},op={key:2,class:"list-group"},ap={key:0,class:"list-group-item d-flex justify-content-between align-items-center"},lp={class:"form-check"},ip={class:"form-check-label",for:"bot-user-is-vip"},rp={key:0},dp={key:1},up=t("i",{class:"fa-solid fa-trash-can"},null,-1),cp=[up],mp={key:1,class:"list-group-item d-flex justify-content-between align-items-center"},pp={class:"form-check"},hp={class:"form-check-label",for:"bot-user-is-admin"},_p={key:0},fp={key:1},vp=t("i",{class:"fa-solid fa-trash-can"},null,-1),bp=[vp],gp={key:2,class:"list-group-item d-flex justify-content-between align-items-center"},yp={class:"form-check"},$p={class:"form-check-label",for:"bot-user-is-deliveryman"},kp={key:0},wp={key:1},Cp=t("i",{class:"fa-solid fa-trash-can"},null,-1),Fp=[Cp],Tp={key:3,class:"list-group-item d-flex justify-content-between align-items-center"},Dp={class:"form-check"},Sp={class:"form-check-label",for:"bot-user-is-work"},Pp={key:0},Op={key:1},Mp=t("i",{class:"fa-solid fa-trash-can"},null,-1),Ap=[Mp],jp={key:4,class:"list-group-item d-flex justify-content-between align-items-center"},qp={class:"form-check"},zp={class:"form-check-label",for:"bot-user-in-location"},Ip={key:0},Rp={key:1},Up=t("i",{class:"fa-solid fa-trash-can"},null,-1),Vp=[Up],Yp={key:5,class:"list-group-item d-flex justify-content-between align-items-center"},Bp=t("label",{class:"form-label",id:"bot-domain"}," Возраст от ",-1),Np=t("i",{class:"fa-solid fa-trash-can"},null,-1),Qp=[Np],Ep={key:6,class:"list-group-item d-flex justify-content-between align-items-center"},xp=t("label",{class:"form-label",id:"bot-domain"}," Только для города ",-1),Lp=t("i",{class:"fa-solid fa-trash-can"},null,-1),Hp=[Lp],Wp={key:7,class:"list-group-item d-flex justify-content-between align-items-center"},Kp={class:"form-check"},Xp={class:"form-check-label",for:"bot-user-sex"},Gp={key:0},Zp={key:1},Jp=t("i",{class:"fa-solid fa-trash-can"},null,-1),eh=[Jp],th={key:8,class:"list-group-item"},sh={class:"mb-3"},nh={class:"d-flex justify-content-between align-items-center"},oh={class:"form-label d-flex w-100 align-items-center",id:"bot-order-channel"},ah=["onClick"],lh=t("i",{class:"fa-solid fa-trash-can"},null,-1),ih=[lh],rh=["onUpdate:modelValue"],dh={key:3,class:"mt-5"},uh={key:4,class:"d-flex justify-content-between"},ch={key:6,class:"py-2"},mh={class:"form-label",id:"bot-domain"},ph=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),hh=t("div",null,'Напишите текст, который будет отображен пользователю вместе с основным контентом в случае если условие не будет выполнено и будет вызван блок "иначе" ',-1),_h={props:["bot","rulesForm"],data(){return{rules:[{id:1,title:"Является администратором",rules_block:"bot_user",rule:{is_admin:!0}},{id:2,title:"Является VIP-пользователем",rules_block:"bot_user",rule:{is_vip:!0}},{id:3,title:"Находится в заведении",rules_block:"bot_user",rule:{user_in_location:!0}},{id:4,title:"За работой",rules_block:"bot_user",rule:{is_work:!0}},{id:5,title:"Возраст от ...",rules_block:"bot_user",rule:{age:18}},{id:6,title:"Находится в городе ...",rules_block:"bot_user",rule:{city:"Краснодар"}},{id:7,title:"Пол",rules_block:"bot_user",rule:{sex:!0}},{id:8,title:"Состоит в канале",rules_block:"channels",rule:{channel:1}},{id:9,title:"Является Менеджером",rules_block:"bot_user",rule:{is_manager:!0}}]}},computed:{rulesForCustomFields(){let s=this.rules.filter(e=>e.key!=null);return console.log("filtered rules",s),s}},mounted(){},methods:{hasRuleKey(s){return this.rulesForm.rules_if==null?!1:(console.log("key=>",s||"-"),Object.keys(this.rulesForm.rules_if.bot_user).find(e=>e===s)!=null)},modifyChannel(s){this.rulesForm.rules_if.channels[s.param]=s.text},removeChannelFromRule(s){this.rulesForm.rules_if.channels.splice(s,1)},removeRule(s){delete this.rulesForm.rules_if.bot_user[s]},addRules(s){this.rulesForm.rules_if||(this.rulesForm.rules_if={bot_user:{},channels:[]}),s.rules_block==="bot_user"&&(this.rulesForm.rules_if.bot_user={...this.rulesForm.rules_if.bot_user,...s.rule}),s.rules_block==="channels"&&this.rulesForm.rules_if.channels.push(s.rule.channel)},loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields",{bot_id:this.bot.id}).then(s=>{(s.data||[]).forEach(n=>{n.is_active&&(this.rules.push({id:this.rules.length+1,title:n.label,key:n.key,type:n.type,rules_block:"bot_user",rule:{}}),n.type===0&&(this.rules[this.rules.length-1].rule[n.key]=""),n.type===1&&(this.rules[this.rules.length-1].rule[n.key]=0),n.type===2&&(this.rules[this.rules.length-1].rule[n.key]=!0))}),console.log("new rules=>",this.rules)})},attachPageToRule(s){s.id!=this.rulesForm.id?this.rulesForm.rules_else_page_id=s.id:this.$notify({title:"Конструктор страниц",text:"Вы не можете связать данную страницу с собой",type:"error"})}}},fh=Object.assign(_h,{__name:"PageRules",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d(R,null,[Hm,Wm,s.rulesForm.rules_if?(i(),d("div",Km,[t("label",Xm,[E(a,null,{content:O(()=>[Zm]),default:O(()=>[Gm]),_:1}),w(" Сообщение при успешном прохождении условий (не обязательно) ")]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":n[0]||(n[0]=o=>s.rulesForm.rules_if_message=o),maxlength:"255","aria-describedby":"rules-else-message"},`
            `,512),[[G,s.rulesForm.rules_if_message]])])):c("",!0),t("div",Jm,[ep,t("ul",tp,[(i(!0),d(R,null,J(e.rules,o=>(i(),d("li",null,[t("a",{onClick:l=>e.addRules(o),class:"dropdown-item",href:"javascript:void(0)"},v(o.title||"Не указан"),9,sp)]))),256))])]),s.rulesForm.rules_if?(i(),d("h6",np,"Выбранные условия")):c("",!0),s.rulesForm.rules_if?(i(),d("ul",op,[e.hasRuleKey("is_vip")?(i(),d("li",ap,[t("div",lp,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[1]||(n[1]=o=>s.rulesForm.rules_if.bot_user.is_vip=o),type:"checkbox",id:"bot-user-is-vip"},null,512),[[ke,s.rulesForm.rules_if.bot_user.is_vip]]),t("label",ip,[s.rulesForm.rules_if.bot_user.is_vip?(i(),d("span",rp,"Является VIP-пользователем")):(i(),d("span",dp,"Не является VIP-пользователем"))])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[2]||(n[2]=o=>e.removeRule("is_vip"))},cp)])):c("",!0),e.hasRuleKey("is_admin")?(i(),d("li",mp,[t("div",pp,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[3]||(n[3]=o=>s.rulesForm.rules_if.bot_user.is_admin=o),type:"checkbox",id:"bot-user-is-admin"},null,512),[[ke,s.rulesForm.rules_if.bot_user.is_admin]]),t("label",hp,[s.rulesForm.rules_if.bot_user.is_admin?(i(),d("span",_p,"Является администратором")):(i(),d("span",fp,"Не является администратором"))])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[4]||(n[4]=o=>e.removeRule("is_admin"))},bp)])):c("",!0),e.hasRuleKey("is_deliveryman")?(i(),d("li",gp,[t("div",yp,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[5]||(n[5]=o=>s.rulesForm.rules_if.bot_user.is_deliveryman=o),type:"checkbox",id:"bot-user-is-deliveryman"},null,512),[[ke,s.rulesForm.rules_if.bot_user.is_deliveryman]]),t("label",$p,[s.rulesForm.rules_if.bot_user.is_deliveryman?(i(),d("span",kp,"Является доставщиком")):(i(),d("span",wp,"Не является доставщиком"))])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[6]||(n[6]=o=>e.removeRule("is_deliveryman"))},Fp)])):c("",!0),e.hasRuleKey("is_work")?(i(),d("li",Tp,[t("div",Dp,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[7]||(n[7]=o=>s.rulesForm.rules_if.bot_user.is_work=o),type:"checkbox",id:"bot-user-is-work"},null,512),[[ke,s.rulesForm.rules_if.bot_user.is_work]]),t("label",Sp,[s.rulesForm.rules_if.bot_user.is_work?(i(),d("span",Pp,"За работой")):(i(),d("span",Op,"Не работает"))])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[8]||(n[8]=o=>e.removeRule("is_work"))},Ap)])):c("",!0),e.hasRuleKey("user_in_location")?(i(),d("li",jp,[t("div",qp,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[9]||(n[9]=o=>s.rulesForm.rules_if.bot_user.user_in_location=o),type:"checkbox",id:"bot-user-in-location"},null,512),[[ke,s.rulesForm.rules_if.bot_user.user_in_location]]),t("label",zp,[s.rulesForm.rules_if.bot_user.user_in_location?(i(),d("span",Ip,"Находится в заведении")):(i(),d("span",Rp,"Не находится в заведении"))])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[10]||(n[10]=o=>e.removeRule("user_in_location"))},Vp)])):c("",!0),e.hasRuleKey("age")?(i(),d("li",Yp,[t("div",null,[Bp,b(t("input",{type:"text",class:"form-control",placeholder:"Возраст от","aria-label":"Возраст от","onUpdate:modelValue":n[11]||(n[11]=o=>s.rulesForm.rules_if.bot_user.age=o),maxlength:"255","aria-describedby":"bot-user-age"},null,512),[[G,s.rulesForm.rules_if.bot_user.age]])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[12]||(n[12]=o=>e.removeRule("age"))},Qp)])):c("",!0),e.hasRuleKey("city")?(i(),d("li",Ep,[t("div",null,[xp,b(t("input",{type:"text",class:"form-control",placeholder:"Город","aria-label":"Город","onUpdate:modelValue":n[13]||(n[13]=o=>s.rulesForm.rules_if.bot_user.city=o),maxlength:"255","aria-describedby":"bot-user-city"},null,512),[[G,s.rulesForm.rules_if.bot_user.city]])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[14]||(n[14]=o=>e.removeRule("city"))},Hp)])):c("",!0),e.hasRuleKey("sex")?(i(),d("li",Wp,[t("div",Kp,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[15]||(n[15]=o=>s.rulesForm.rules_if.bot_user.sex=o),type:"checkbox",id:"bot-user-sex"},null,512),[[ke,s.rulesForm.rules_if.bot_user.sex]]),t("label",Xp,[s.rulesForm.rules_if.bot_user.sex?(i(),d("span",Gp,"Только для мужчин")):(i(),d("span",Zp,"Только для женщин"))])]),t("button",{type:"button",class:"btn btn-outline-info",onClick:n[16]||(n[16]=o=>e.removeRule("sex"))},eh)])):c("",!0),s.rulesForm.rules_if.channels.length>0?(i(),d("li",th,[w("Проверка нахождения в канале \\ группе: "),(i(!0),d(R,null,J(s.rulesForm.rules_if.channels,(o,l)=>(i(),d("div",sh,[t("div",nh,[t("label",oh,[E(Bo,{token:s.bot.bot_token,param:`${l}`,onCallback:e.modifyChannel},null,8,["token","param","onCallback"]),w(" Канал для проверки ")]),t("button",{type:"button",class:"btn btn-link text-danger",onClick:r=>e.removeChannelFromRule(l)},ih,8,ah)]),b(t("input",{type:"text",class:"form-control",placeholder:"id канала","aria-label":"id канала","onUpdate:modelValue":r=>s.rulesForm.rules_if.channels[l]=r,maxlength:"255","aria-describedby":"bot-order-channel"},null,8,rh),[[G,s.rulesForm.rules_if.channels[l]]])]))),256))])):c("",!0)])):c("",!0),s.rulesForm.rules_if?(i(),d("h6",dh,"Иначе")):c("",!0),s.rulesForm.rules_else_page_id?(i(),d("p",uh,[w("Вы выбрали страницу #"+v(s.rulesForm.rules_else_page_id)+' в качестве условия "иначе" ',1),t("a",{href:"javascript:void(0)",onClick:n[17]||(n[17]=o=>s.rulesForm.rules_else_page_id=null)},"Очистить")])):c("",!0),s.rulesForm.rules_if?(i(),Q(Fn,{key:5,current:s.rulesForm.id,onCallback:e.attachPageToRule,editor:!1},null,8,["current","onCallback"])):c("",!0),s.rulesForm.rules_if?(i(),d("div",ch,[t("label",mh,[E(a,null,{content:O(()=>[hh]),default:O(()=>[ph]),_:1}),w(" Сообщение в случае невыполнения условий (не обязательно) ")]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст сообщения","aria-label":"Текст сообщения","onUpdate:modelValue":n[18]||(n[18]=o=>s.rulesForm.rules_else_message=o),maxlength:"255","aria-describedby":"rules-else-message"},`
            `,512),[[G,s.rulesForm.rules_else_message]])])):c("",!0)],64)}}}),vh={class:"page-container"},bh={class:"page-content"},gh={class:"row"},yh={class:"col"},$h={class:"row"},kh={class:"col"},wh={class:"row"},Ch={class:"col"},Fh={class:"row"},Th={class:"col-12"},Dh=["innerHTML"],Sh={key:0,class:"row"},Ph={class:"col-12"},Oh={key:1,class:"row mt-2"},Mh=t("p",{class:"mb-0"},[t("strong",null,"Нижнее меню")],-1),Ah={class:"col-12"},jh={props:["page"]},qh=Object.assign(jh,{__name:"PagePreview",setup(s){return(e,n)=>{const a=ns("lazy");return i(),d("div",vh,[t("div",bh,[t("div",gh,[s.page.images?(i(!0),d(R,{key:0},J(s.page.images,(o,l)=>(i(),d("div",yh,[b(t("img",null,null,512),[[a,"/images-by-bot-id/"+s.page.bot_id+"/"+o]])]))),256)):c("",!0)]),t("div",$h,[s.page.videos?(i(!0),d(R,{key:0},J(s.page.videos,(o,l)=>(i(),d("div",kh,[E(Tn,{content:o,type:"video"},null,8,["content"])]))),256)):c("",!0)]),t("div",wh,[s.page.audios?(i(!0),d(R,{key:0},J(s.page.audios,(o,l)=>(i(),d("div",Ch,[E(Tn,{content:o,type:"audio"},null,8,["content"])]))),256)):c("",!0)]),t("div",Fh,[t("div",Th,[t("p",{innerHTML:s.page.content},null,8,Dh)])])]),s.page.inlineKeyboard?(i(),d("div",Sh,[t("div",Ph,[s.page.inlineKeyboard.deleted_at?c("",!0):(i(),Q(ao,{key:0,simple:!0,"select-mode":!0,keyboard:s.page.inlineKeyboard},null,8,["keyboard"]))])])):c("",!0),s.page.replyKeyboard?(i(),d("div",Oh,[Mh,t("div",Ah,[s.page.replyKeyboard.deleted_at?c("",!0):(i(),Q(ao,{key:0,simple:!0,"select-mode":!0,keyboard:s.page.replyKeyboard},null,8,["keyboard"]))])])):c("",!0)])}}});const zh={key:0,class:"row pt-3"},Ih={class:"col-12"},Rh={class:"alert alert-info",role:"alert"},Uh=t("strong",null,"Внимание!",-1),Vh={style:{"font-size":"16px"}},Yh={key:0,class:"row"},Bh={class:"col-12 mb-2"},Nh=t("h6",null,"На странице выбраны следующие разделы",-1),Qh={class:"mini-pics justify-content-start d-inline-flex text-primary"},Eh=t("i",{class:"fa-regular fa-images"},null,-1),xh=[Eh],Lh=t("i",{class:"fa-regular fa-note-sticky"},null,-1),Hh=[Lh],Wh=t("i",{class:"fa-solid fa-photo-film"},null,-1),Kh=[Wh],Xh=t("i",{class:"fa-regular fa-file-audio"},null,-1),Gh=[Xh],Zh=t("i",{class:"fa-regular fa-file-word"},null,-1),Jh=[Zh],e_=t("i",{class:"fa-solid fa-link"},null,-1),t_=[e_],s_=t("i",{class:"fa-solid fa-scroll"},null,-1),n_=[s_],o_=t("i",{class:"fa-regular fa-comment-dots"},null,-1),a_=[o_],l_=t("i",{class:"fa-solid fa-scale-balanced"},null,-1),i_=[l_],r_=t("i",{class:"fa-regular fa-keyboard"},null,-1),d_=[r_],u_=t("i",{class:"fa-solid fa-ellipsis"},null,-1),c_=[u_],m_={class:"row"},p_={class:"col-md-8 col-12 mb-2"},h_={class:"form-label",id:"bot-domain"},__=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),f_=t("div",null,[w(" Команда должна начинаться с символа . и *"),t("br"),w(" Например: .*Меню"),t("br")],-1),v_=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),b_={class:"col-md-4 col-12 mb-2 d-flex justify-content-end align-items-end"},g_={class:"btn-group",style:{background:"white"},role:"group","aria-label":"Basic example"},y_={key:0,type:"submit",title:"Сохранить страницу",id:"save-page-btn",class:"btn btn-primary min-menu-btn"},$_=t("i",{class:"fa-regular fa-floppy-disk"},null,-1),k_=[$_],w_=t("i",{class:"fa-solid fa-xmark text-danger"},null,-1),C_=[w_],F_=t("button",{type:"button",title:"Список страниц","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvas",class:"btn btn-outline-primary text-primary min-menu-btn"},[t("i",{class:"fa-solid fa-list-ol"})],-1),T_={class:"row"},D_={class:"col-12 mb-2"},S_={class:"form-label d-flex justify-content-between align-items-center mb-0",id:"bot-domain"},P_=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),O_=t("div",null,[w(" Текстовый редактор. Данный текст будет в таком"),t("br"),w(" же виде отображен в посте в телеграм. ")],-1),M_=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),A_={class:"form-floating"},j_={for:"floatingTextarea2"},q_={key:0},z_={class:"col-12 mb-2"},I_={class:"nav nav-tabs justify-content-center"},R_=t("i",{class:"fa-regular fa-keyboard"},null,-1),U_=t("span",null,"Нижнее меню",-1),V_=[R_,U_],Y_=t("i",{class:"fa-solid fa-ellipsis"},null,-1),B_=t("span",null,"Меню под текстом",-1),N_=[Y_,B_],Q_=t("i",{class:"fa-regular fa-images"},null,-1),E_=t("span",null,"Изображения",-1),x_=[Q_,E_],L_=t("i",{class:"fa-solid fa-photo-film"},null,-1),H_=t("span",null,"Видео",-1),W_=[L_,H_],K_=t("i",{class:"fa-regular fa-note-sticky"},null,-1),X_=t("span",null,"Стикеры",-1),G_=[K_,X_],Z_=t("i",{class:"fa-regular fa-file-audio"},null,-1),J_=t("span",null,"Аудио",-1),ef=[Z_,J_],tf=t("i",{class:"fa-regular fa-file-word"},null,-1),sf=t("span",null,"Документы",-1),nf=[tf,sf],of=t("i",{class:"fa-solid fa-link"},null,-1),af=t("span",null,"Другая страница",-1),lf=[of,af],rf=t("i",{class:"fa-solid fa-scroll"},null,-1),df=t("span",null,"Скрипт",-1),uf=[rf,df],cf=t("i",{class:"fa-regular fa-comment-dots"},null,-1),mf=t("span",null,"Начало диалога",-1),pf=[cf,mf],hf=t("i",{class:"fa-solid fa-scale-balanced"},null,-1),_f=t("span",null,"Правила",-1),ff=[hf,_f],vf={key:0,class:"col-12 mb-2"},bf={class:"form-check"},gf=t("label",{class:"form-check-label",for:"need-reply-menu"}," Нижнее меню страницы ",-1),yf={key:1,class:"col-12 mb-2"},$f={class:"card"},kf={class:"card-header d-flex justify-between align-items-center"},wf=t("h6",null,"Конструктор нижнего меню",-1),Cf={key:0},Ff={key:1},Tf={class:"card-body"},Df={class:"row"},Sf={class:"col-12 mb-2"},Pf={class:"form-label",id:"bot-domain"},Of=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),Mf=t("div",null," Заголовок для нижнего меню ",-1),Af={key:2,class:"col-12 mb-2"},jf={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},qf={class:"d-flex justify-content-center mb-3"},zf={alt:"",width:"100",height:"100"},If=t("h1",{class:"text-body-emphasis"},"Нижнее меню",-1),Rf=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Создание и настройка нижнего меню страницы бота. Добавление и редактирование функций кнопок бота на странице. Данное меню отображается пользователю всегда. ",-1),Uf={class:"d-inline-flex gap-2 mb-5"},Vf=["disabled"],Yf=t("a",{href:"https://telegra.ph/Nizhnee-menyu-bota-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),Bf={key:0,class:"col-12 mb-2"},Nf={class:"form-check"},Qf=t("label",{class:"form-check-label",for:"need-inline-menu"}," Меню под текстом страницы ",-1),Ef={key:1,class:"col-12 mb-2"},xf={class:"card"},Lf={class:"card-header d-flex justify-between align-items-center"},Hf=t("h6",null,"Конструктор меню в сообщении",-1),Wf={key:0},Kf={key:1},Xf={class:"card-body"},Gf={key:2,class:"col-12 mb-2"},Zf={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},Jf={class:"d-flex justify-content-center mb-3"},ev={alt:"",width:"100",height:"100"},tv=t("h1",{class:"text-body-emphasis"},"Меню под текстом",-1),sv=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," В отличии от нижнего меню, которое отображается всегда, меню под текстом показывается под контентом только в момент отображения этого контента. ",-1),nv={class:"d-inline-flex gap-2 mb-5"},ov=["disabled"],av=t("a",{href:"https://telegra.ph/Menyu-k-tekstu-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),lv={key:0,class:"col-12 mb-2"},iv={class:"form-check"},rv=t("label",{class:"form-check-label",for:"need-page-images"}," Изображения на странице (максимум 10) ",-1),dv={key:1,class:"col-12 mb-2"},uv={class:"card mb-3"},cv=t("div",{class:"card-header"},[t("h6",null,"Загрузите изображения с файловой системы")],-1),mv={class:"card-body d-flex justify-content-start"},pv={for:"photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},hv={class:"row"},_v={key:0,class:"col-12 d-flex flex-wrap"},fv={class:"mb-2 img-preview",style:{"margin-right":"10px"}},vv={class:"remove"},bv=["onClick"],gv={key:1},yv={key:2,class:"col-12 d-flex flex-wrap"},$v={class:"mb-2 img-preview",style:{"margin-right":"10px"}},kv={class:"remove"},wv=["onClick"],Cv={key:2,class:"col-12 mb-2"},Fv={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},Tv={class:"d-flex justify-content-center mb-3"},Dv={alt:"",width:"100",height:"100"},Sv=t("h1",{class:"text-body-emphasis"},"Изображения",-1),Pv=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"},[w(" Вы можете добавить к одной странице от "),t("b",null,"1"),w(" до "),t("b",null,"10"),w(" изображений. Изображения (от 2х) будут собраны в группу и показаны под текстовым содержимым страницы. Если изображение одно, то текст будет отображен под ним. ")],-1),Ov={class:"d-inline-flex gap-2 mb-5"},Mv=["disabled"],Av=t("a",{href:"https://telegra.ph/Dobavlenie-izobrazhenij-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),jv={key:0,class:"col-12 mb-2"},qv={class:"form-check"},zv=t("label",{class:"form-check-label",for:"need-page-video"}," Видео к странице ",-1),Iv={key:1,class:"col-12 mb-2"},Rv={key:2,class:"col-12 mb-2"},Uv={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},Vv={class:"d-flex justify-content-center mb-3"},Yv={alt:"",width:"100",height:"100"},Bv=t("h1",{class:"text-body-emphasis"},"Видео",-1),Nv=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"},[w(" Вы можете добавить к одной странице от "),t("b",null,"1"),w(" до "),t("b",null,"10"),w(" видео. Ролики (от 2х) будут собраны в группу и показаны под текстовым содержимым страницы. ")],-1),Qv={class:"d-inline-flex gap-2 mb-5"},Ev=["disabled"],xv=t("a",{href:"https://telegra.ph/Dobavlenie-video-na-stranicu-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),Lv={key:0,class:"col-12 mb-2"},Hv={class:"form-check"},Wv=t("label",{class:"form-check-label",for:"need-page-sticker"}," Стикер к странице ",-1),Kv={key:1,class:"col-12 mb-2"},Xv={key:2,class:"col-12 mb-2"},Gv={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},Zv={class:"d-flex justify-content-center mb-3"},Jv={alt:"",width:"100",height:"100"},eb=t("h1",{class:"text-body-emphasis"},"Стикеры",-1),tb=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Вы можете переслать любой стикер в бота (от лица администратора) и затем этот стикер использовать для взаимодействия с пользователем. ",-1),sb={class:"d-inline-flex gap-2 mb-5"},nb=["disabled"],ob=t("a",{href:"https://telegra.ph/Dobavlenie-stikera-na-stranicu-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),ab={key:0,class:"col-12 mb-2"},lb={class:"form-check"},ib=t("label",{class:"form-check-label",for:"need-page-audio"}," Звук к странице ",-1),rb={key:1,class:"col-12 mb-2"},db={key:2,class:"col-12 mb-2"},ub={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},cb={class:"d-flex justify-content-center mb-3"},mb={alt:"",width:"100",height:"100"},pb=t("h1",{class:"text-body-emphasis"},"Аудио",-1),hb=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"},[w(" Вы можете добавить к одной странице от "),t("b",null,"1"),w(" до "),t("b",null,"10"),w(" аудио. Музыка (от 2х) будет собрана в группу и показана под текстовым содержимым страницы. Если вы хотите использовать "),t("b",{class:"text-danger"},"голосовое"),w(", то можно использовать максимум "),t("b",{class:"text-danger"},"одну запись"),w(". Или же, вы можете конвертировать её в mp3 и залить как музыкальный файл в бота. ")],-1),_b={class:"d-inline-flex gap-2 mb-5"},fb=["disabled"],vb=t("a",{href:"https://telegra.ph/Dobavlenie-audio-na-stranicu-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),bb={key:0,class:"col-12 mb-2"},gb={class:"form-check"},yb=t("label",{class:"form-check-label",for:"need-page-document"}," Документ \\ презентацию к странице \\ картинку в оригинале ",-1),$b={key:1,class:"col-12 mb-2"},kb={key:2,class:"col-12 mb-2"},wb={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},Cb={class:"d-flex justify-content-center mb-3"},Fb={alt:"",width:"100",height:"100"},Tb=t("h1",{class:"text-body-emphasis"},"Документы",-1),Db=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"},[w(" Вы можете добавить к одной странице от "),t("b",null,"1"),w(" до "),t("b",null,"10"),w(" документов. Документы (от 2х) будут собраны в группу и показана под текстовым содержимым страницы. В качестве файлов вы можете использовать текстовые документы, презентации, файлы-pdf, изображения в оригинальном размере. ")],-1),Sb={class:"d-inline-flex gap-2 mb-5"},Pb=["disabled"],Ob=t("a",{href:"https://telegra.ph/Dobavlenie-dokumenta-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),Mb={class:"col-12 mb-2"},Ab={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},jb={class:"d-flex justify-content-center mb-3"},qb={alt:"",width:"100",height:"100"},zb=t("h1",{class:"text-body-emphasis"},"Связь со страницей",-1),Ib=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Вы можете привязать вызов другой страницы непосредственно после вызова текущей. Это позволит выводить контент по цепочке для пользователя. ",-1),Rb={key:0,class:"my-3 text-success font-bold"},Ub={class:"d-inline-flex gap-2 mb-5"},Vb={key:1,"data-bs-toggle":"modal","data-bs-target":"#page-list-modal",class:"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill btn-primary",type:"button"},Yb=t("a",{href:"https://telegra.ph/Svyazyvanie-so-stranicej-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),Bb=t("h6",{class:"mb-3"},"Конструктор цепочек",-1),Nb={class:"d-flex justify-content-center align-items-center flex-wrap"},Qb=t("span",{class:"px-2"},"Текущая страница",-1),Eb=t("i",{class:"fa-solid fa-arrow-right"},null,-1),xb={class:"d-flex justify-content-center align-items-center px-3 py-2"},Lb=["onClick"],Hb={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},Wb={key:0,class:"fa-solid fa-arrow-right ml-2"},Kb={key:0,class:"fa-solid fa-arrow-right"},Xb=t("button",{type:"button","data-bs-toggle":"modal","data-bs-target":"#page-list-modal",class:"btn btn-outline-secondary position-relative rounded-5 ml-5"},[t("i",{class:"fa-solid fa-plus"})],-1),Gb={key:0,class:"col-12 mb-2"},Zb=t("div",{class:"alert alert-info",role:"alert"}," Если в вашем боте нет каких-то предустановленных скриптов вы можете найти их в глобальном магазине скриптов ",-1),Jb={class:"form-check"},eg=t("label",{class:"form-check-label",for:"need-show-global-slug-list"}," Добавить скрипты из глобального магазина? ",-1),tg={key:1,class:"col-12 mb-2"},sg={class:"form-check"},ng=t("label",{class:"form-check-label",for:"need-slug-attach"}," Привязать скрипт ",-1),og={key:2,class:"col-12 mb-2"},ag={key:0,class:"alert alert-success d-flex justify-content-between align-items-center",role:"alert"},lg={key:3,class:"col-12 mb-2"},ig={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},rg={class:"d-flex justify-content-center mb-3"},dg={alt:"",width:"100",height:"100"},ug=t("h1",{class:"text-body-emphasis"},"Скрипты",-1),cg=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Скрипты содержат основной функционал системы. Вы можете к каждой странице привязать один скрипт, который будет вызван после вывода основного содержимого страницы. ",-1),mg={class:"d-inline-flex gap-2 mb-5"},pg=["disabled"],hg=t("a",{href:"https://telegra.ph/Svyazyvanie-so-skriptom-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),_g={key:0,class:"col-12 mb-2"},fg={class:"form-check"},vg=t("label",{class:"form-check-label",for:"need-dialog-attach"}," Привязать начало диалога ",-1),bg={key:1,class:"col-12 mb-2"},gg={key:0},yg={key:2,class:"col-12 mb-2"},$g={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},kg={class:"d-flex justify-content-center mb-3"},wg={alt:"",width:"100",height:"100"},Cg=t("h1",{class:"text-body-emphasis"},"Диалоги",-1),Fg=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Диалоги страницы - это инструмент запроса данных от пользователя. Вы можете привязать начало диалога к странице, а сам диалог будет вызван по цепочке. ",-1),Tg={class:"d-inline-flex gap-2 mb-5"},Dg=["disabled"],Sg=t("a",{href:"https://telegra.ph/Dobavlenie-dialoga-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),Pg={key:0,class:"col-12 mb-2"},Og={class:"form-check"},Mg=t("label",{class:"form-check-label",for:"need-rules"}," Нужны правила загрузки страницы ",-1),Ag={key:1,class:"col-12 mb-2"},jg={key:2,class:"col-12 mb-2"},qg={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},zg={class:"d-flex justify-content-center mb-3"},Ig={alt:"",width:"100",height:"100"},Rg=t("h1",{class:"text-body-emphasis"},"Правила отображения страницы",-1),Ug=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Вы можете создать правила, согласно которым будет отображена та или иная страница. Вы можете перенаправить пользователя с одной страницы на другую, в случае если ваше условие не выполнено. ",-1),Vg={class:"d-inline-flex gap-2 mb-5"},Yg=["disabled"],Bg=t("a",{href:"https://telegra.ph/Pravila-na-stranice-01-03",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),Ng=t("div",{class:"row"},[t("div",{class:"col-12"},[t("div",{class:"alert alert-info",role:"alert"},[t("h6",null,"Страница поддерживает комбинации клавиш:"),t("ul",{class:"mb-0 mr-0 p-0"},[t("li",null,[t("strong",null,"Ctrl+S"),w(" - открыть\\закрыть окно сохранения")]),t("li",null,[t("strong",null,"Ctrl+D"),w(" - просмотр страницы (для сохраненных страниц)")]),t("li",null,[t("strong",null,"Ctrl+пробел"),w(" - открыть\\закрыть список страниц")]),t("li",null,[t("strong",null,"Ctrl+backspace"),w(" - очистить страницу\\новая страница")]),t("li",null,[t("strong",null,"Ctrl+стрелка вправо"),w(" - переключение между вкладка вперед")]),t("li",null,[t("strong",null,"Ctrl+стрелка влево"),w(" - переключение между вкладка назад")])])])])],-1),Qg={class:"modal fade",id:"save-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Eg={class:"modal-dialog"},xg={class:"modal-content"},Lg=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"Сохранение страницы"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Hg={class:"modal-body"},Wg={key:0,class:"row"},Kg={class:"col-12 mb-2"},Xg={class:"d-flex justify-between"},Gg=["href"],Zg={class:"col-12 mb-2"},Jg=t("h6",null,"На странице выбраны следующие разделы",-1),e1={class:"mini-pics text-primary"},t1=t("i",{class:"fa-regular fa-images"},null,-1),s1=[t1],n1=t("i",{class:"fa-regular fa-note-sticky"},null,-1),o1=[n1],a1=t("i",{class:"fa-solid fa-photo-film"},null,-1),l1=[a1],i1=t("i",{class:"fa-regular fa-file-audio"},null,-1),r1=[i1],d1=t("i",{class:"fa-regular fa-file-word"},null,-1),u1=[d1],c1=t("i",{class:"fa-solid fa-link"},null,-1),m1=[c1],p1=t("i",{class:"fa-solid fa-scroll"},null,-1),h1=[p1],_1=t("i",{class:"fa-regular fa-comment-dots"},null,-1),f1=[_1],v1=t("i",{class:"fa-solid fa-scale-balanced"},null,-1),b1=[v1],g1=t("i",{class:"fa-regular fa-keyboard"},null,-1),y1=[g1],$1=t("i",{class:"fa-solid fa-ellipsis"},null,-1),k1=[$1],w1={key:0,class:"col-12 mb-2"},C1={class:"form-check"},F1=t("label",{class:"form-check-label",for:"need-show-qr-and-link"}," Показать ссылку на страницу и QR-код ",-1),T1={key:1,class:"col-12 mb-2"},D1={class:"d-flex justify-content-center"},S1={style:{width:"200px",height:"200px"}},P1={class:"col-12 mb-2"},O1={class:"form-label",id:"bot-domain"},M1=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),A1=t("div",null,"Напишите для себя пояснение для чего нужна данная страница. Это поможет другим менеджерам лучше понять Вас. ",-1),j1=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),q1={class:"col-12"},z1={class:"form-check"},I1=t("label",{class:"form-check-label",for:"is-external"}," Внешнее управление страницей ",-1),R1={key:0,class:"alert alert-danger",role:"alert"},U1={key:0,class:"mb-0"},V1=t("strong",null,'"Информация о боте"',-1),Y1=t("strong",null,"Другие настройки",-1),B1=t("strong",null,'"Ссылка на внешний сервис обработки данных"',-1),N1={class:"col-12"},Q1={class:"form-check"},E1=t("label",{class:"form-check-label",for:"need_log_user_action"}," Логгировать действия пользователя в канал при переходе ",-1),x1={class:"col-12"},L1={class:"form-check"},H1=t("label",{class:"form-check-label",for:"need-stay-after-save"}," Остаться на текущей странице после сохранения ",-1),W1=t("div",{class:"col-12"},[t("button",{type:"submit",id:"submit-page",class:"btn btn-success w-100 p-3"},"Сохранить ")],-1),K1=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Не сохранять")],-1),X1={class:"modal fade",id:"page-list-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},G1={class:"modal-dialog"},Z1={class:"modal-content"},J1={class:"modal-body"},ey={class:"modal fade",id:"page-preview-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ty={class:"modal-dialog"},sy={class:"modal-content"},ny={class:"modal-body"},oy={key:1},ay={class:"offcanvas offcanvas-end w-25",tabindex:"-1",id:"offcanvas","data-bs-keyboard":"true","data-bs-scroll":"true","data-bs-backdrop":"true"},ly=t("div",{class:"offcanvas-header"},[t("h6",{class:"offcanvas-title d-none d-sm-block",id:"offcanvas"},"Ваши страницы (кнопки)"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),iy={class:"offcanvas-body"},ry={class:"row"},dy={class:"col-12"},uy={data(){return{tab:0,links:[],saveModal:null,pageModal:null,pagePreviewModal:null,page:null,need_show_qr_and_link:!1,need_stay_after_save:!0,need_show_global_slug_list:!1,need_clean:!1,load:!1,photos:[],showReplyTemplateSelector:!1,showInlineTemplateSelector:!1,loaded_page_list:!0,load_slug_simple_list:!0,showMenu:!1,need_page_sticker:!1,need_page_audios:!1,need_page_documents:!1,need_page_video:!1,need_page_images:!1,need_inline_menu:!1,need_reply_menu:!1,need_attach_page:!1,need_attach_dialog:!1,need_attach_slug:!1,need_rules:!1,bot:null,pageForm:{id:null,content:"",command:null,slug:null,comment:null,videos:[],images:[],audios:[],documents:[],sticker:null,reply_keyboard_title:null,reply_keyboard:null,reply_keyboard_settings:null,inline_keyboard:null,is_external:!1,need_log_user_action:!1,next_page_id:null,next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if:null,rules_else_page_id:null,rules_if_message:null,rules_else_message:null}}},watch:{need_page_images:function(s,e){this.need_page_images||(this.photos=[],this.pageForm.images=[])},need_page_audios:function(s,e){this.need_page_audios||(this.pageForm.audios=[])},need_page_documents:function(s,e){this.need_page_documents||(this.pageForm.documents=[])},need_page_sticker:function(s,e){this.need_page_sticker||(this.pageForm.sticker=null)},need_page_video:function(s,e){this.need_page_video||(this.pageForm.videos=[])},need_inline_menu:function(s,e){this.need_inline_menu||(this.pageForm.inline_keyboard=null,this.pageForm.inline_keyboard_id=null)},need_rules:function(s,e){this.need_rules||(this.pageForm.rules_if=null,this.pageForm.rules_else_page_id=null,this.pageForm.rules_if_message=null,this.pageForm.rules_else_message=null)},need_reply_menu:function(s,e){this.need_reply_menu||(this.pageForm.reply_keyboard=null,this.pageForm.reply_keyboard_id=null)},need_attach_page:function(s,e){this.need_attach_page||(this.pageForm.next_page_id=null)},need_attach_dialog:function(s,e){this.need_attach_dialog||(this.pageForm.next_bot_dialog_command_id=null)},need_attach_slug:function(s,e){this.need_attach_slug||(this.pageForm.next_bot_menu_slug_id=null)},pageForm:{handler:function(s){this.pageForm.reply_keyboard!=null&&(this.need_reply_menu=!0),this.pageForm.inline_keyboard!=null&&(this.need_inline_menu=!0),this.pageForm.images.length>0&&(this.need_page_images=!0),this.pageForm.next_bot_dialog_command_id!=null&&(this.need_attach_dialog=!0),this.pageForm.next_bot_menu_slug_id!=null&&(this.need_attach_slug=!0),this.pageForm.next_page_id!=null&&(this.need_attach_page=!0),this.pageForm.rules_if!=null&&(this.need_rules=!0),this.pageForm.videos.length>0&&(this.need_page_video=!0),this.pageForm.audios.length>0&&(this.need_page_audios=!0),this.pageForm.documents.length>0&&(this.need_page_documents=!0),this.pageForm.sticker&&(this.need_page_sticker=!0),this.need_clean=!0},deep:!0}},computed:{...Ne(["getCurrentBot"]),qr(){return"https://api.qrserver.com/v1/create-qr-code/?size=450x450&qzone=2&data="+this.link},selectedLinkIds(){let s=this.links.map(e=>e.id);return this.page==null?s:this.page.id!=null?[this.page.id,...s]:s},hasParts(){return this.need_page_sticker||this.need_page_audios||this.need_page_documents||this.need_page_video||this.need_page_images||this.need_inline_menu||this.need_reply_menu||this.need_attach_page||this.need_attach_dialog||this.need_attach_slug||this.need_rules},pageLink(){if(!this.pageForm.id)return"Ссылка недоступна";let s="";for(let e=0;e<10-(""+this.pageForm.id).length;e++)s+="0";return s+=this.pageForm.id,"https://t.me/"+this.getCurrentBot.bot_domain+"?start="+btoa("004"+s)}},mounted(){this.page?this.preparePageForm(this.page):this.clearForm(),this.loadCurrentBot().then(()=>{this.saveModal=new bootstrap.Modal(document.getElementById("save-modal"),{})}),this.pageModal=new bootstrap.Offcanvas(document.getElementById("offcanvas"),{scroll:!0}),this.pagePreviewModal=new bootstrap.Modal(document.getElementById("page-preview-modal"),{}),window.addEventListener("keydown",s=>{if(s.ctrlKey&&s.keyCode==8&&(s.preventDefault(),this.clearForm()),s.ctrlKey&&s.code=="KeyD"&&(s.preventDefault(),this.pagePreviewModal.toggle()),s.ctrlKey&&s.keyCode==32&&(s.preventDefault(),this.pageModal.toggle()),s.ctrlKey&&s.code=="KeyS"){s.preventDefault();const e=document.querySelector("#save-page-btn");e?e.click():this.$notify({title:"Конструктор страниц",text:"Вы еще не начали создавать страницу!",type:"warning"})}s.ctrlKey&&s.keyCode==39&&(s.preventDefault(),this.tab===10?this.tab=0:this.tab++),s.ctrlKey&&s.keyCode==37&&(s.preventDefault(),this.tab===0?this.tab=10:this.tab--)})},methods:{chainCollapseTest(s){return this.page==null?this.links.filter(e=>e.id==s.id).length>1:[this.page,...this.links].filter(e=>e.id==s.id).length>1},loadPageChains(){return this.$store.dispatch("loadPageChains",{dataObject:{start_page_id:this.page.id}}).then(s=>{this.links=s.data})},removeLink(s){this.links.splice(s,1)},loadSlugs(){this.load_slug_simple_list=!1,this.need_show_global_slug_list=!1,this.$nextTick(()=>{this.load_slug_simple_list=!0})},preparePageForm(s){this.links=[],this.page=s,this.photos=[],this.$nextTick(()=>{this.pageForm={id:s.id,slug_id:s.slug?s.slug.id:null,content:s.content,command:s.slug?s.slug.command:null,slug:s.slug?s.slug.slug:null,comment:s.slug?s.slug.comment:null,images:s.images||[],sticker:s.sticker||null,reply_keyboard_title:s.reply_keyboard_title||null,reply_keyboard_id:s.reply_keyboard_id||null,inline_keyboard_id:s.inline_keyboard_id||null,reply_keyboard:s.replyKeyboard||null,inline_keyboard:s.inlineKeyboard||null,next_page_id:s.next_page_id||null,next_bot_dialog_command_id:s.next_bot_dialog_command_id||null,next_bot_menu_slug_id:s.next_bot_menu_slug_id||null,is_external:s.is_external||!1,need_log_user_action:s.need_log_user_action||!1,rules_if:s.rules_if||null,rules_else_page_id:s.rules_else_page_id||null,audios:s.audios||[],documents:s.documents||[],videos:s.videos||[],rules_if_message:s.rules_if_message||null,rules_else_message:s.rules_else_message||null},this.pageForm.id!=null&&this.pageForm.next_page_id!=null&&this.loadPageChains()})},copyToClipBoard(s){navigator.clipboard.writeText(s).then(()=>{this.$notify({title:"Копирование",text:"Ссылка скопирована в буфер"})}).catch(e=>{this.$notify({title:"Копирование",text:"Ошибка копирования",type:"error"})})},associateDialog(s){this.pageForm.next_bot_dialog_command_id=s.id},associateSlug(s){this.pageForm.next_bot_menu_slug_id=s.id},loadCurrentBot(s=null){return this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{this.bot=this.getCurrentBot})},clearLinks(){this.links=[],this.pageForm.next_page_id=null},attachPage(s){this.links.length==0&&(s.id!=this.pageForm.id?(this.$notify({title:"Конструктор страниц",text:"Вы успешно связали страницы!",type:"success"}),this.pageForm.next_page_id=s.id):this.$notify({title:"Конструктор страниц",text:"Вы не можете связать данную страницу с собой",type:"error"})),(this.page==null?this.links.findIndex(n=>n.id===s.id)!=-1:this.links.findIndex(n=>n.id===s.id)!=-1||s.id===this.page.id)||this.links.push(s)},injectContent(s){this.pageForm.content?this.pageForm.content+=s.text:this.pageForm.content=s.text},clearForm(){this.photos=[],this.pageForm={id:null,content:null,command:null,slug:null,comment:null,sticker:null,images:[],reply_keyboard:null,inline_keyboard:null,is_external:!1,need_log_user_action:!1,videos:[],audios:[],documents:[],reply_keyboard_title:null,reply_keyboard_id:null,inline_keyboard_id:null,next_page_id:null,next_menu_slug:null,next_bot_dialog_command_id:null,next_bot_menu_slug_id:null,rules_if_message:null,rules_else_message:null},this.photos=[],this.showReplyTemplateSelector=!1,this.showInlineTemplateSelector=!1,this.need_page_images=!1,this.need_page_video=!1,this.need_inline_menu=!1,this.need_reply_menu=!1,this.need_attach_page=!1,this.need_attach_dialog=!1,this.need_attach_slug=!1,this.need_rules=!1,this.need_page_audios=!1,this.need_page_documents=!1,this.need_page_sticker=!1,this.links=[],this.$nextTick(()=>{this.need_clean=!1})},openSaveModal(){(this.pageForm.comment||"").length===0&&(this.pageForm.comment=this.pageForm.command),this.saveModal.show()},submitPage(){let s=new FormData;if(Object.keys(this.pageForm).forEach(e=>{const n=this.pageForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),this.bot&&s.append("bot_id",this.bot.id),this.photos.length>0)for(let e=0;e<this.photos.length;e++)s.append("photos[]",this.photos[e]);this.$store.dispatch(this.pageForm.id==null?"createPage":"updatePage",{pageForm:s}).then(e=>{this.pageForm.id==null&&this.preparePageForm(e.data),this.links.length>0&&this.$store.dispatch("storePageChains",{dataObject:{start_page_id:e.data.id,links:this.links.map(n=>n.id)}}),this.need_stay_after_save||(this.load=!0,this.$nextTick(()=>{this.load=!1,this.clearForm()})),this.loaded_page_list=!1,this.$nextTick(()=>{this.loaded_page_list=!0}),this.saveModal.hide(),this.$emit("callback",e.data),this.$notify({title:"Конструктор ботов",text:this.pageForm.id==null?"Страница успешно создана!":"Страница успешно обновлена!",type:"success"}),this.$store.dispatch("loadPages",{dataObject:{botId:this.bot.id,needNewFirst:!0},page:localStorage.getItem(`cashman_pagelist_${this.bot.id}_page_index`)||0})}).catch(e=>{})},saveInlineKeyboard(s){this.pageForm.inline_keyboard=s},selectReplyKeyboard(s){this.pageForm.reply_keyboard=s,this.showReplyTemplateSelector=!1},selectInlineKeyboard(s){this.pageForm.inline_keyboard=s,this.showInlineTemplateSelector=!1},saveReplyKeyboard(s){this.pageForm.reply_keyboard=s},saveReplyKeyboardSettings(s){this.pageForm.reply_keyboard_settings=s},getPhoto(s){return{imageUrl:URL.createObjectURL(s)}},removePhoto(s){this.photos.splice(s,1)},removeImage(s){this.pageForm.images.splice(s,1)},onChangePhotos(s){const e=s.target.files;for(let n=0;n<e.length;n++)this.photos.push(e[n])},onChange(s){this.pageForm.content=s},selectPhoto(s){this.pageForm.images||(this.pageForm.images=[]);let e=this.pageForm.images.indexOf(s.file_id);e!==-1?this.pageForm.images.splice(e,1):this.pageForm.images.push(s.file_id)},selectSticker(s){this.pageForm.sticker=s.file_id},selectVideo(s){this.pageForm.videos||(this.pageForm.videos=[]);let e=this.pageForm.videos.indexOf(s.file_id);e!==-1?this.pageForm.videos.splice(e,1):this.pageForm.videos.push(s.file_id)},selectAudio(s){this.pageForm.audios||(this.pageForm.audios=[]);let e=this.pageForm.audios.indexOf(s.file_id);if(s.type==="voice"){if(e!==-1){this.pageForm.audios.splice(e,1);return}this.pageForm.audios=[s.file_id];return}e!==-1?this.pageForm.audios.splice(e,1):this.pageForm.audios.push(s.file_id)},selectDocument(s){this.pageForm.documents||(this.pageForm.documents=[]);let e=this.pageForm.documents.indexOf(s.file_id);e!==-1?this.pageForm.documents.splice(e,1):this.pageForm.documents.push(s.file_id)},pageListCallback(s){this.$notify("Вы выбрали страницу из списка! Все остальные действия будут производится для этой страницы"),this.load=!0,this.preparePageForm(s),this.$nextTick(()=>{this.load=!1})}}},cy=Object.assign(uy,{__name:"Page",setup(s){return(e,n)=>{const a=pt("Popper"),o=ns("lazy");return i(),d(R,null,[e.pageForm.id?(i(),d("div",zh,[t("div",Ih,[t("div",Rh,[Uh,w(" Вы в режиме редактирования страницы (кнопки) "),t("strong",Vh,v(e.page.slug?e.page.slug.command:"Без названия"),1),w(", если хотите создать новую нажмите "),t("a",{href:"javascript:void(0)",class:"btn btn-primary ml-2",onClick:n[0]||(n[0]=(...l)=>e.clearForm&&e.clearForm(...l))},"Создать новую страницу")])])])):c("",!0),e.bot?(i(),d("form",{key:1,id:"page-construct",class:"py-3",onSubmit:n[43]||(n[43]=Fe((...l)=>e.openSaveModal&&e.openSaveModal(...l),["prevent"]))},[e.hasParts?(i(),d("div",Yh,[t("div",Bh,[Nh,t("ul",Qh,[t("li",{class:P(["mr-1",{active:e.need_page_images}]),title:"Изображения"},xh,2),t("li",{class:P(["mr-1",{active:e.need_page_sticker}]),title:"Стикеры"},Hh,2),t("li",{class:P(["mr-1",{active:e.need_page_video}]),title:"Видео"},Kh,2),t("li",{class:P(["mr-1",{active:e.need_page_audios}]),title:"Аудио"},Gh,2),t("li",{class:P(["mr-1",{active:e.need_page_documents}]),title:"Документы"},Jh,2),t("li",{class:P(["mr-1",{active:e.need_attach_page}]),title:"Страницы"},t_,2),t("li",{class:P(["mr-1",{active:e.need_attach_slug}]),title:"Скрипты"},n_,2),t("li",{class:P(["mr-1",{active:e.need_attach_dialog}]),title:"Диалоги"},a_,2),t("li",{class:P(["mr-1",{active:e.need_rules}]),title:"Правила"},i_,2),t("li",{class:P(["mr-1",{active:e.need_reply_menu}]),title:"Нижнее меню"},d_,2),t("li",{title:"Текстовое меню",class:P({active:e.need_inline_menu})},c_,2)])])])):c("",!0),t("div",m_,[t("div",p_,[t("label",h_,[E(a,null,{content:O(()=>[f_]),default:O(()=>[__]),_:1}),w(" Команда "),v_]),b(t("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":n[1]||(n[1]=l=>e.pageForm.command=l),maxlength:"255","aria-describedby":"bot-domain",required:""},null,512),[[G,e.pageForm.command]])]),t("div",b_,[t("div",g_,[e.pageForm.id||e.need_clean?(i(),d("button",y_,k_)):c("",!0),e.pageForm.id||e.need_clean?(i(),d("button",{key:1,type:"button",onClick:n[2]||(n[2]=(...l)=>e.clearForm&&e.clearForm(...l)),title:"Очистить \\ Новая страница",class:"btn btn-outline-primary min-menu-btn"},C_)):c("",!0),F_])])]),b(t("div",T_,[t("div",D_,[t("label",S_,[t("div",null,[E(a,null,{content:O(()=>[O_]),default:O(()=>[P_]),_:1}),w(" Текстовое содержимое страницы "),M_]),E(Za,{param:"content",onCallback:e.injectContent},null,8,["onCallback"])]),t("div",A_,[b(t("textarea",{class:"form-control","onUpdate:modelValue":n[3]||(n[3]=l=>e.pageForm.content=l),maxlength:"4096",placeholder:"Введите текст",id:"floatingTextarea2",style:{"min-height":"150px"}},null,512),[[G,e.pageForm.content]]),t("label",j_,[w("Содержимое страницы "),e.pageForm.content?(i(),d("span",q_,v(e.pageForm.content.length)+"/4096 ",1)):c("",!0)])])]),t("div",z_,[t("ul",I_,[t("li",{class:"nav-item",onClick:n[4]||(n[4]=l=>e.tab=0)},[t("a",{class:P([{active:e.tab===0,"primary-mark":e.need_reply_menu},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},V_,2)]),t("li",{class:"nav-item",onClick:n[5]||(n[5]=l=>e.tab=1)},[t("a",{class:P([{active:e.tab===1,"primary-mark":e.need_inline_menu},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},N_,2)]),t("li",{class:"nav-item",onClick:n[6]||(n[6]=l=>e.tab=2)},[t("a",{class:P([{active:e.tab===2,"primary-mark":e.need_page_images},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},x_,2)]),t("li",{class:"nav-item",onClick:n[7]||(n[7]=l=>e.tab=3)},[t("a",{class:P([{active:e.tab===3,"primary-mark":e.need_page_video},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},W_,2)]),t("li",{class:"nav-item",onClick:n[8]||(n[8]=l=>e.tab=4)},[t("a",{class:P([{active:e.tab===4,"primary-mark":e.need_page_sticker},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},G_,2)]),t("li",{class:"nav-item",onClick:n[9]||(n[9]=l=>e.tab=5)},[t("a",{class:P([{active:e.tab===5,"primary-mark":e.need_page_audios},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},ef,2)]),t("li",{class:"nav-item",onClick:n[10]||(n[10]=l=>e.tab=6)},[t("a",{class:P([{active:e.tab===6,"primary-mark":e.need_page_documents},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},nf,2)]),t("li",{class:"nav-item",onClick:n[11]||(n[11]=l=>e.tab=7)},[t("a",{class:P([{active:e.tab===7,"primary-mark":e.need_attach_page},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},lf,2)]),t("li",{class:"nav-item",onClick:n[12]||(n[12]=l=>e.tab=8)},[t("a",{class:P([{active:e.tab===8,"primary-mark":e.need_attach_slug},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},uf,2)]),t("li",{class:"nav-item",onClick:n[13]||(n[13]=l=>e.tab=9)},[t("a",{class:P([{active:e.tab===9,"primary-mark":e.need_attach_dialog},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},pf,2)]),t("li",{class:"nav-item",onClick:n[14]||(n[14]=l=>e.tab=10)},[t("a",{class:P([{active:e.tab===10,"primary-mark":e.need_rules},"nav-link d-flex flex-column justify-content-center align-items-center font-12"]),href:"javascript:void(0)"},ff,2)])])]),b(t("div",null,[e.need_reply_menu?(i(),d("div",vf,[t("div",bf,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[15]||(n[15]=l=>e.need_reply_menu=l),type:"checkbox",id:"need-reply-menu"},null,512),[[ke,e.need_reply_menu]]),gf])])):c("",!0),e.need_reply_menu?(i(),d("div",yf,[t("div",$f,[t("div",kf,[wf,t("button",{class:P(["btn",{"btn-outline-primary":!e.showReplyTemplateSelector,"btn-primary":e.showReplyTemplateSelector}]),type:"button",onClick:n[16]||(n[16]=l=>e.showReplyTemplateSelector=!e.showReplyTemplateSelector)},[e.showReplyTemplateSelector?(i(),d("span",Ff," Скрыть шаблоны меню")):(i(),d("span",Cf," Открыть шаблоны меню"))],2)]),t("div",Tf,[t("div",Df,[t("div",Sf,[t("label",Pf,[E(a,null,{content:O(()=>[Mf]),default:O(()=>[Of]),_:1}),w(" Заголовок ")]),b(t("input",{type:"text",class:"form-control",placeholder:"Заголовок меню","aria-label":"Заголовок меню","onUpdate:modelValue":n[17]||(n[17]=l=>e.pageForm.reply_keyboard_title=l),maxlength:"255","aria-describedby":"bot-domain"},null,512),[[G,e.pageForm.reply_keyboard_title]])])]),e.showReplyTemplateSelector?(i(),Q(cs,{key:0,class:"mb-2",type:"reply",onSelect:e.selectReplyKeyboard,"select-mode":!0},null,8,["onSelect"])):(i(),Q(Jt,{key:1,type:"reply",onSave:e.saveReplyKeyboard,onSaveSettings:e.saveReplyKeyboardSettings,"edited-keyboard":e.pageForm.reply_keyboard},null,8,["onSave","onSaveSettings","edited-keyboard"]))])])])):(i(),d("div",Af,[t("div",jf,[t("div",qf,[b(t("img",zf,null,512),[[o,"../images/icon.png"]])]),If,Rf,t("div",Uf,[t("button",{disabled:e.need_reply_menu,onClick:n[18]||(n[18]=l=>e.need_reply_menu=!0),class:P([{"btn-primary":!e.need_reply_menu,"btn-outline-secondary":e.need_reply_menu},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,Vf),Yf])])]))],512),[[at,e.tab===0]]),b(t("div",null,[e.need_inline_menu?(i(),d("div",Bf,[t("div",Nf,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[19]||(n[19]=l=>e.need_inline_menu=l),type:"checkbox",id:"need-inline-menu"},null,512),[[ke,e.need_inline_menu]]),Qf])])):c("",!0),e.need_inline_menu?(i(),d("div",Ef,[t("div",xf,[t("div",Lf,[Hf,t("button",{class:P(["btn",{"btn-outline-primary":!e.showInlineTemplateSelector,"btn-primary":e.showInlineTemplateSelector}]),type:"button",onClick:n[20]||(n[20]=l=>e.showInlineTemplateSelector=!e.showInlineTemplateSelector)},[e.showInlineTemplateSelector?(i(),d("span",Kf," Скрыть шаблоны меню")):(i(),d("span",Wf," Открыть шаблоны меню"))],2)]),t("div",Xf,[e.showInlineTemplateSelector?(i(),Q(cs,{key:0,class:"mb-2",type:"inline",onSelect:e.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(i(),Q(Jt,{key:1,type:"inline",onSave:e.saveInlineKeyboard,"edited-keyboard":e.pageForm.inline_keyboard},null,8,["onSave","edited-keyboard"]))])])])):(i(),d("div",Gf,[t("div",Zf,[t("div",Jf,[b(t("img",ev,null,512),[[o,"../images/icon.png"]])]),tv,sv,t("div",nv,[t("button",{disabled:e.need_inline_menu,onClick:n[21]||(n[21]=l=>e.need_inline_menu=!0),class:P([{"btn-primary":!e.need_inline_menu,"btn-outline-secondary":e.need_inline_menu},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,ov),av])])]))],512),[[at,e.tab===1]]),b(t("div",null,[e.need_page_images?(i(),d("div",lv,[t("div",iv,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[22]||(n[22]=l=>e.need_page_images=l),type:"checkbox",id:"need-page-images"},null,512),[[ke,e.need_page_images]]),rv])])):c("",!0),e.need_page_images?(i(),d("div",dv,[t("div",uv,[cv,t("div",mv,[t("label",pv,[w(" + "),t("input",{type:"file",id:"photos",multiple:"",accept:"image/*",onChange:n[23]||(n[23]=(...l)=>e.onChangePhotos&&e.onChangePhotos(...l)),style:{display:"none"}},null,32)]),t("div",hv,[e.photos.length>0?(i(),d("div",_v,[(i(!0),d(R,null,J(e.photos,(l,r)=>(i(),d("div",fv,[b(t("img",null,null,512),[[o,e.getPhoto(l).imageUrl]]),t("div",vv,[t("a",{onClick:u=>e.removePhoto(r)},"Удалить",8,bv)])]))),256))])):c("",!0),e.pageForm.images.length>0?(i(),d("h6",gv,"Ранее загруженные фотографии")):c("",!0),e.pageForm.images.length>0?(i(),d("div",yv,[(i(!0),d(R,null,J(e.pageForm.images,(l,r)=>(i(),d("div",$v,[b(t("img",null,null,512),[[o,"/images-by-bot-id/"+e.bot.id+"/"+l]]),t("div",kv,[t("a",{onClick:u=>e.removeImage(r)},"Удалить",8,wv)])]))),256))])):c("",!0)])])])])):(i(),d("div",Cv,[t("div",Fv,[t("div",Tv,[b(t("img",Dv,null,512),[[o,"../images/icon.png"]])]),Sv,Pv,t("div",Ov,[t("button",{disabled:e.need_page_images,onClick:n[24]||(n[24]=l=>e.need_page_images=!0),class:P([{"btn-primary":!e.need_page_images,"btn-outline-secondary":e.need_page_images},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,Mv),Av])])]))],512),[[at,e.tab===2]]),b(t("div",null,[e.need_page_video?(i(),d("div",jv,[t("div",qv,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[25]||(n[25]=l=>e.need_page_video=l),type:"checkbox",id:"need-page-video"},null,512),[[ke,e.need_page_video]]),zv])])):c("",!0),e.need_page_video?(i(),d("div",Iv,[E(kt,{"need-video":!0,"need-video-note":!0,selected:e.pageForm.videos,onSelect:e.selectVideo},null,8,["selected","onSelect"])])):(i(),d("div",Rv,[t("div",Uv,[t("div",Vv,[b(t("img",Yv,null,512),[[o,"../images/icon.png"]])]),Bv,Nv,t("div",Qv,[t("button",{disabled:e.need_page_video,onClick:n[26]||(n[26]=l=>e.need_page_video=!0),class:P([{"btn-primary":!e.need_page_video,"btn-outline-secondary":e.need_page_video},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,Ev),xv])])]))],512),[[at,e.tab===3]]),b(t("div",null,[e.need_page_sticker?(i(),d("div",Lv,[t("div",Hv,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[27]||(n[27]=l=>e.need_page_sticker=l),type:"checkbox",id:"need-page-sticker"},null,512),[[ke,e.need_page_sticker]]),Wv])])):c("",!0),e.need_page_sticker?(i(),d("div",Kv,[E(kt,{"need-sticker":!0,selected:[e.pageForm.sticker],onSelect:e.selectSticker},null,8,["selected","onSelect"])])):(i(),d("div",Xv,[t("div",Gv,[t("div",Zv,[b(t("img",Jv,null,512),[[o,"../images/icon.png"]])]),eb,tb,t("div",sb,[t("button",{disabled:e.need_page_sticker,onClick:n[28]||(n[28]=l=>e.need_page_sticker=!0),class:P([{"btn-primary":!e.need_page_sticker,"btn-outline-secondary":e.need_page_sticker},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,nb),ob])])]))],512),[[at,e.tab===4]]),b(t("div",null,[e.need_page_audios?(i(),d("div",ab,[t("div",lb,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[29]||(n[29]=l=>e.need_page_audios=l),type:"checkbox",id:"need-page-audio"},null,512),[[ke,e.need_page_audios]]),ib])])):c("",!0),e.need_page_audios?(i(),d("div",rb,[E(kt,{"need-audio":!0,selected:e.pageForm.audios,onSelect:e.selectAudio},null,8,["selected","onSelect"])])):(i(),d("div",db,[t("div",ub,[t("div",cb,[b(t("img",mb,null,512),[[o,"../images/icon.png"]])]),pb,hb,t("div",_b,[t("button",{disabled:e.need_page_audios,onClick:n[30]||(n[30]=l=>e.need_page_audios=!0),class:P([{"btn-primary":!e.need_page_audios,"btn-outline-secondary":e.need_page_audios},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,fb),vb])])]))],512),[[at,e.tab===5]]),b(t("div",null,[e.need_page_documents?(i(),d("div",bb,[t("div",gb,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[31]||(n[31]=l=>e.need_page_documents=l),type:"checkbox",id:"need-page-document"},null,512),[[ke,e.need_page_documents]]),yb])])):c("",!0),e.need_page_documents?(i(),d("div",$b,[E(kt,{"need-document":!0,selected:e.pageForm.documents,onSelect:e.selectDocument},null,8,["selected","onSelect"])])):(i(),d("div",kb,[t("div",wb,[t("div",Cb,[b(t("img",Fb,null,512),[[o,"../images/icon.png"]])]),Tb,Db,t("div",Sb,[t("button",{disabled:e.need_page_documents,onClick:n[32]||(n[32]=l=>e.need_page_documents=!0),class:P([{"btn-primary":!e.need_page_documents,"btn-outline-secondary":e.need_page_documents},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,Pb),Ob])])]))],512),[[at,e.tab===6]]),b(t("div",null,[t("div",Mb,[t("div",Ab,[t("div",jb,[b(t("img",qb,null,512),[[o,"../images/icon.png"]])]),zb,Ib,e.pageForm.next_page_id?(i(),d("p",Rb,"Связано со страницей #"+v(e.pageForm.next_page_id),1)):c("",!0),t("div",Ub,[e.pageForm.next_page_id?(i(),d("button",{key:0,class:"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill btn-danger",type:"button",onClick:n[33]||(n[33]=(...l)=>e.clearLinks&&e.clearLinks(...l))},"Очистить ")):(i(),d("button",Vb," Связать ")),Yb]),Bb,t("div",Nb,[Qb,Eb,(i(!0),d(R,null,J(e.links,(l,r)=>(i(),d("div",xb,[t("button",{type:"button",onClick:u=>e.removeLink(r),class:P([{"btn-danger":e.chainCollapseTest(l)},"btn btn-primary position-relative rounded-5"])},[w(v(l.slug.command||"-")+" ",1),t("span",Hb," #"+v(l.id),1)],10,Lb),r<e.links.length-1?(i(),d("i",Wb)):c("",!0)]))),256)),e.links.length>0?(i(),d("i",Kb)):c("",!0),Xb])])])],512),[[at,e.tab===7]]),b(t("div",null,[e.need_attach_slug?(i(),d("div",Gb,[Zb,t("div",Jb,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[34]||(n[34]=l=>e.need_show_global_slug_list=l),type:"checkbox",id:"need-show-global-slug-list"},null,512),[[ke,e.need_show_global_slug_list]]),eg]),e.bot&&e.need_show_global_slug_list?(i(),Q(Un,{key:0,"can-add":!0,bot:e.bot,onCallback:e.loadSlugs},null,8,["bot","onCallback"])):c("",!0)])):c("",!0),e.need_attach_slug?(i(),d("div",tg,[t("div",sg,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[35]||(n[35]=l=>e.need_attach_slug=l),type:"checkbox",id:"need-slug-attach"},null,512),[[ke,e.need_attach_slug]]),ng])])):c("",!0),e.need_attach_slug?(i(),d("div",og,[e.pageForm.next_bot_menu_slug_id?(i(),d("div",ag,[w(" Связано со скриптом #"+v(e.pageForm.next_bot_menu_slug_id)+" ",1),t("a",{class:"btn btn-link text-danger",onClick:n[36]||(n[36]=l=>e.pageForm.next_bot_menu_slug_id=null)},"Очистить")])):c("",!0),e.bot&&e.load_slug_simple_list?(i(),Q(Ed,{key:1,global:!0,selected:[e.pageForm.next_bot_menu_slug_id],onCallback:e.associateSlug,bot:e.bot},null,8,["selected","onCallback","bot"])):c("",!0)])):(i(),d("div",lg,[t("div",ig,[t("div",rg,[b(t("img",dg,null,512),[[o,"../images/icon.png"]])]),ug,cg,t("div",mg,[t("button",{disabled:e.need_attach_slug,onClick:n[37]||(n[37]=l=>e.need_attach_slug=!0),class:P([{"btn-primary":!e.need_attach_slug,"btn-outline-secondary":e.need_attach_slug},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,pg),hg])])]))],512),[[at,e.tab===8]]),b(t("div",null,[e.need_attach_dialog?(i(),d("div",_g,[t("div",fg,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[38]||(n[38]=l=>e.need_attach_dialog=l),type:"checkbox",id:"need-dialog-attach"},null,512),[[ke,e.need_attach_dialog]]),vg])])):c("",!0),e.need_attach_dialog?(i(),d("div",bg,[e.pageForm.next_bot_dialog_command_id?(i(),d("p",gg,[w("Связано с диалогом #"+v(e.pageForm.next_bot_dialog_command_id)+" ",1),t("a",{class:"btn btn-link",onClick:n[39]||(n[39]=l=>e.pageForm.next_bot_dialog_command_id=null)},"Очистить")])):c("",!0),e.bot?(i(),Q(No,{key:1,onSelectDialog:e.associateDialog,bot:e.bot},null,8,["onSelectDialog","bot"])):c("",!0)])):(i(),d("div",yg,[t("div",$g,[t("div",kg,[b(t("img",wg,null,512),[[o,"../images/icon.png"]])]),Cg,Fg,t("div",Tg,[t("button",{disabled:e.need_attach_dialog,onClick:n[40]||(n[40]=l=>e.need_attach_dialog=!0),class:P([{"btn-primary":!e.need_attach_dialog,"btn-outline-secondary":e.need_attach_dialog},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,Dg),Sg])])]))],512),[[at,e.tab===9]]),b(t("div",null,[e.need_rules?(i(),d("div",Pg,[t("div",Og,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[41]||(n[41]=l=>e.need_rules=l),type:"checkbox",id:"need-rules"},null,512),[[ke,e.need_rules]]),Mg])])):c("",!0),e.need_rules?(i(),d("div",Ag,[E(fh,{bot:e.bot,"rules-form":e.pageForm},null,8,["bot","rules-form"])])):(i(),d("div",jg,[t("div",qg,[t("div",zg,[b(t("img",Ig,null,512),[[o,"../images/icon.png"]])]),Rg,Ug,t("div",Vg,[t("button",{disabled:e.need_rules,onClick:n[42]||(n[42]=l=>e.need_rules=!0),class:P([{"btn-primary":!e.need_rules,"btn-outline-secondary":e.need_rules},"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill"]),type:"button"}," Добавить ",10,Yg),Bg])])]))],512),[[at,e.tab===10]])],512),[[at,!e.pageForm.is_external]])],32)):c("",!0),Ng,t("div",Qg,[t("div",Eg,[t("div",xg,[Lg,t("div",Hg,[e.bot?(i(),d("div",Wg,[t("div",Kg,[t("h6",Xg,[t("span",null,[w("Вы создаете страницу для "),t("a",{href:"https://t.me/"+e.bot.bot_domain,target:"_blank"},v(e.bot.bot_domain),9,Gg)])])])])):c("",!0),t("form",{onSubmit:n[50]||(n[50]=Fe((...l)=>e.submitPage&&e.submitPage(...l),["prevent"])),class:"row"},[t("div",Zg,[Jg,t("ul",e1,[t("li",{class:P({active:e.need_page_images})},s1,2),t("li",{class:P({active:e.need_page_sticker})},o1,2),t("li",{class:P({active:e.need_page_video})},l1,2),t("li",{class:P({active:e.need_page_audios})},r1,2),t("li",{class:P({active:e.need_page_documents})},u1,2),t("li",{class:P({active:e.need_attach_page})},m1,2),t("li",{class:P({active:e.need_attach_slug})},h1,2),t("li",{class:P({active:e.need_attach_dialog})},f1,2),t("li",{class:P({active:e.need_rules})},b1,2),t("li",{class:P({active:e.need_reply_menu})},y1,2),t("li",{class:P({active:e.need_inline_menu})},k1,2)])]),e.pageForm.id?(i(),d("div",w1,[t("div",C1,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[44]||(n[44]=l=>e.need_show_qr_and_link=l),type:"checkbox",id:"need-show-qr-and-link"},null,512),[[ke,e.need_show_qr_and_link]]),F1])])):c("",!0),e.pageForm.id&&e.need_show_qr_and_link?(i(),d("div",T1,[t("p",null,[w("Ссылка на текущую страницу: "),t("span",{class:"bg-secondary font-bold cursor-pointer",onClick:n[45]||(n[45]=l=>e.copyToClipBoard(e.pageLink))},v(e.pageLink),1)]),t("div",D1,[b(t("img",S1,null,512),[[o,e.qr]])])])):c("",!0),t("div",P1,[t("label",O1,[E(a,null,{content:O(()=>[A1]),default:O(()=>[M1]),_:1}),w(" Описание страницы "),j1]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Описание страницы","aria-label":"Описание страницы","onUpdate:modelValue":n[46]||(n[46]=l=>e.pageForm.comment=l),maxlength:"255","aria-describedby":"bot-domain",required:""},`
            `,512),[[G,e.pageForm.comment]])]),t("div",q1,[t("div",z1,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[47]||(n[47]=l=>e.pageForm.is_external=l),type:"checkbox",id:"is-external"},null,512),[[ke,e.pageForm.is_external]]),I1]),e.pageForm.is_external?(i(),d("div",R1,[w(" Обработка ссылок передана на внешний адрес, указанный в настройках бота! Все запросы по данной кнопке будут отправлены на указанный URL-адрес: "),t("strong",null,v(e.bot.callback_link||"не указано")+".",1),e.bot.callback_link?c("",!0):(i(),d("p",U1,[w("Внешня ссылка не установлена! Перейдите в раздел "),V1,w(", затем "),Y1,w(" и установите ссылку для внешнего управления в поле "),B1,w("!")]))])):c("",!0)]),t("div",N1,[t("div",Q1,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[48]||(n[48]=l=>e.pageForm.need_log_user_action=l),type:"checkbox",id:"need_log_user_action"},null,512),[[ke,e.pageForm.need_log_user_action]]),E1])]),t("div",x1,[t("div",L1,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[49]||(n[49]=l=>e.need_stay_after_save=l),type:"checkbox",id:"need-stay-after-save"},null,512),[[ke,e.need_stay_after_save]]),H1])]),W1],32)]),K1])])]),t("div",X1,[t("div",G1,[t("div",Z1,[t("div",J1,[E(Fn,{current:e.pageForm.id,selected:e.selectedLinkIds,onCallback:e.attachPage,editor:!1},null,8,["current","selected","onCallback"])])])])]),t("div",ey,[t("div",ty,[t("div",sy,[t("div",ny,[e.page?(i(),Q(qh,{key:0,page:e.page},null,8,["page"])):(i(),d("p",oy,"Сперва сохраните страницу"))])])])]),w("- "),t("div",ay,[ly,t("div",iy,[t("div",ry,[t("div",dy,[e.loaded_page_list?(i(),Q(Fn,{key:0,editor:!0,current:e.page,onCallback:e.pageListCallback},null,8,["current","onCallback"])):c("",!0)])])])])],64)}}}),my={props:["bot","item"],data(){return{sectionForm:{section:null},categoryForm:{label:null},tab:0,types:[{title:"Готовый продукт",value:1},{title:"Товар на вес",value:2},{title:"Конструктор товара",value:3}],productCategories:[],sections:["Общие характеристики","Дополнительная информация"],photos:[],categories:[],removed_options:[],productForm:{article:null,vk_product_id:null,title:null,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]}}},computed:{...Ne(["getProductCategories"]),filteredCategories(){return this.productCategories.length===0?this.categories:this.categories.filter(s=>this.productCategories.indexOf(s.value)===-1)}},mounted(){this.loadProductCategories(),this.item&&this.$nextTick(()=>{this.productForm={id:this.item.id||null,article:this.item.article||null,vk_product_id:this.item.vk_product_id||null,title:this.item.title||null,description:this.item.description||null,images:this.item.images||null,type:this.item.type||1,old_price:this.item.old_price||null,current_price:this.item.current_price||null,variants:this.item.variants||null,in_stop_list_at:this.item.in_stop_list_at||null,bot_id:this.item.bot_id||null,options:this.item.options||null,reviews:this.item.reviews||null},this.options=[],this.item.categories.forEach(s=>{this.productCategories.push(s.id)})})},methods:{prepareCategoryName(s){let e=this.categories.find(n=>n.value===s);return console.log(e),e?e.label:s},addCategory(){const s=this.categoryForm.label;this.productCategories.push(s),this.categoryForm.label=null},selectCategory(s){this.productCategories.push(s.value)},submit(){let s=new FormData;if(Object.keys(this.productForm).forEach(e=>{const n=this.productForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),this.bot&&s.append("bot_id",this.bot.id),this.photos.length>0)for(let e=0;e<this.photos.length;e++)s.append("photos[]",this.photos[e]);this.removed_options.length>0&&s.append("removed_options",JSON.stringify(this.removed_options)),this.productCategories.length>0&&s.append("categories",JSON.stringify(this.productCategories)),this.$store.dispatch("saveProduct",{productForm:s}).then(e=>{this.load=!0,this.$notify({title:"Конструктор ботов",text:"Продукт успешно сохранен!",type:"success"}),this.clearForm(),this.$emit("refresh")}).catch(e=>{})},onChangePhotos(s){const e=s.target.files;for(let n=0;n<e.length;n++)this.photos.push(e[n])},loadProductCategories(){this.$store.dispatch("loadProductCategories",{dataObject:{bot_id:this.bot.id}}).then(()=>{this.getProductCategories.forEach(e=>{this.categories.push({value:e.id,label:e.title})})})},getPhoto(s){return{imageUrl:URL.createObjectURL(s)}},removeSection(s){this.sections.splice(s,1)},addSection(){this.sections.push(this.sectionForm.section),this.sectionForm.section=null},addOption(){this.productForm.options||(this.productForm.options=[]),this.productForm.options.push({id:null,key:null,value:null,title:null,section:null})},addVariant(){this.productForm.variants||(this.productForm.variants=[]),this.productForm.variants.push({key:null,value:null})},removeProductCategory(s){this.productCategories.splice(s,1)},removeVariant(s){this.productForm.variants.splice(s,1)},removeOption(s){this.productForm.options[s].id&&this.removed_options.push(this.productForm.options[s].id),this.productForm.options.splice(s,1)},removeImage(s){this.productForm.images.splice(s,1)},removePhoto(s){this.photos.splice(s,1)},clearForm(){const s={article:null,vk_product_id:null,title:null,description:null,images:[],type:1,old_price:null,current_price:null,variants:[],in_stop_list_at:null,bot_id:null,options:[],reviews:[],categories:[]};this.photos=[],this.removed_options=[],this.productCategories=[],this.productForm=s}}},py={class:"nav nav-tabs"},hy={class:"nav-item"},_y={class:"nav-item"},fy={class:"nav-item"},vy={key:0},by={class:"col-md-8 d-flex align-items-center"},gy={class:"form-check"},yy=t("label",{class:"form-check-label",for:"in-stop-list"}," Товар находится в стоп-листе ",-1),$y={class:"col-md-4 d-flex justify-content-end"},ky={class:"col-md-12 mb-3"},wy=["onClick"],Cy={class:"dropdown"},Fy=t("button",{type:"button",class:"btn btn-outline-info w-100","data-bs-toggle":"dropdown","data-bs-display":"static","aria-expanded":"false"},[t("p",{class:"mb-0"},"Выберите категорию")],-1),Ty={class:"dropdown-menu w-100",style:{"overflow-y":"scroll",height:"300px"}},Dy={class:"p-3"},Sy=t("label",{for:"exampleDropdownFormEmail1",class:"form-label"},"Новая категория",-1),Py={class:"p-3"},Oy=t("li",null,[t("hr",{class:"dropdown-divider"})],-1),My=["onClick"],Ay={class:"col-md-6"},jy={class:"form-floating mb-3"},qy=t("label",{for:"article"},"Артикул товара",-1),zy={class:"col-md-6"},Iy={class:"form-floating mb-3"},Ry=t("label",{for:"vk-product-id"},"Идентификатор товара VK",-1),Uy={class:"col-md-6"},Vy={class:"form-floating mb-3"},Yy=t("label",{for:"title"},"Названи товара",-1),By={class:"col-md-6"},Ny={class:"form-floating mb-3"},Qy=["value"],Ey=t("label",{for:"type"},"Тип товара",-1),xy={class:"col-md-12"},Ly={class:"form-floating mb-3"},Hy=t("label",{for:"description"},"Описание товара",-1),Wy={class:"col-md-6"},Ky={class:"form-floating mb-3"},Xy=t("label",{for:"current-price"},"Актуальная цена",-1),Gy={class:"col-md-6"},Zy={class:"form-floating mb-3"},Jy=t("label",{for:"old-price"},"Старая цена",-1),e0={class:"col-md-12 mb-3"},t0={class:"card"},s0={class:"card-header"},n0={key:0},o0={class:"card-body"},a0={class:"row"},l0={class:"col-12 mb-3"},i0={class:"col-md-6 mb-3"},r0={class:"card w-100"},d0={class:"card-body"},u0={class:"form-floating mb-3"},c0=["onUpdate:modelValue","id"],m0=["for"],p0={class:"form-floating mb-3"},h0=["onUpdate:modelValue","id"],_0=["for"],f0={class:"card-footer"},v0=["onClick"],b0=t("i",{class:"fa-solid fa-trash-can"},null,-1),g0=[b0],y0={class:"col-md-12 mb-3"},$0={class:"card"},k0=t("div",{class:"card-header"},[t("h6",null,"Характеристики товара")],-1),w0={class:"card-body"},C0={class:"row mb-3"},F0={class:"col-12"},T0=t("button",{class:"btn btn-outline-info",type:"submit",id:"button-addon2"},"Добавить секцию ",-1),D0={class:"badge bg-info mr-1"},S0=["onClick"],P0=t("i",{class:"fa-solid fa-xmark"},null,-1),O0=[P0],M0={class:"row"},A0={class:"col-md-4 mb-3"},j0={class:"card w-100"},q0={class:"card-body"},z0={class:"form-floating mb-3"},I0=["onUpdate:modelValue","id"],R0=["for"],U0={class:"form-floating mb-3"},V0=["onUpdate:modelValue","id"],Y0=["for"],B0={class:"form-floating mb-3"},N0=["onUpdate:modelValue","id"],Q0=t("option",{value:null},"Без секции",-1),E0=["value"],x0=["for"],L0={class:"card-footer"},H0=["onClick"],W0=t("i",{class:"fa-solid fa-trash-can"},null,-1),K0=[W0],X0={class:"row"},G0={class:"col-12"},Z0={class:"col-md-12 mb-3"},J0=t("h6",null,"Фотографии товара",-1),e$={class:"photo-preview d-flex justify-content-start flex-wrap w-100"},t$={for:"location-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},s$=t("span",null,"+",-1),n$={class:"mb-2 img-preview",style:{"margin-right":"10px"}},o$={class:"remove"},a$=["onClick"],l$={class:"mb-2 img-preview",style:{"margin-right":"10px"}},i$={class:"remove"},r$=["onClick"],d$=t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn btn-outline-primary w-100 p-3"},"Сохранить ")],-1),u$={key:1};function c$(s,e,n,a,o,l){const r=ns("lazy");return i(),d(R,null,[t("ul",py,[t("li",hy,[t("a",{class:P(["nav-link",{active:o.tab===0}]),onClick:e[0]||(e[0]=u=>o.tab=0),"aria-current":"page",href:"#product-form-info"},"Информация о товаре",2)]),t("li",_y,[t("a",{class:P(["nav-link",{active:o.tab===1}]),onClick:e[1]||(e[1]=u=>o.tab=1),href:"#product-reviews"},"Комментарии",2)]),t("li",fy,[t("a",{class:P(["nav-link",{active:o.tab===2}]),onClick:e[2]||(e[2]=u=>o.tab=2),href:"#product-reviews"},"Заказы",2)])]),o.tab===0?(i(),d("div",vy,[t("form",{onSubmit:e[19]||(e[19]=Fe((...u)=>l.submit&&l.submit(...u),["prevent"])),class:"row"},[t("div",by,[t("div",gy,[b(t("input",{class:"form-check-input","onUpdate:modelValue":e[3]||(e[3]=u=>o.productForm.in_stop_list_at=u),type:"checkbox",value:"false",id:"in-stop-list"},null,512),[[ke,o.productForm.in_stop_list_at]]),yy])]),t("div",$y,[t("a",{href:"#",class:"btn btn-link",onClick:e[4]||(e[4]=(...u)=>l.clearForm&&l.clearForm(...u))},"Новый товар")]),t("div",ky,[(i(!0),d(R,null,J(o.productCategories,(u,p)=>(i(),d("span",{class:"badge bg-info mr-1 mb-1 cursor-pointer",onClick:h=>l.removeProductCategory(p)},v(l.prepareCategoryName(u)),9,wy))),256)),t("div",Cy,[Fy,t("ul",Ty,[t("div",Dy,[Sy,b(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=u=>o.categoryForm.label=u),id:"exampleDropdownFormEmail1",placeholder:"Название категории"},null,512),[[G,o.categoryForm.label]])]),t("div",Py,[t("button",{class:"btn btn-primary w-100",type:"button",onClick:e[6]||(e[6]=(...u)=>l.addCategory&&l.addCategory(...u))},"Добавить категорию ")]),Oy,(i(!0),d(R,null,J(l.filteredCategories,u=>(i(),d("li",null,[t("button",{class:"dropdown-item",type:"button",onClick:p=>l.selectCategory(u)},v(u.label),9,My)]))),256))])])]),t("div",Ay,[t("div",jy,[b(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=u=>o.productForm.article=u),class:"form-control",id:"article",placeholder:"name@example.com"},null,512),[[G,o.productForm.article]]),qy])]),t("div",zy,[t("div",Iy,[b(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=u=>o.productForm.vk_product_id=u),disabled:!0,class:"form-control",id:"vk-product-id",placeholder:"name@example.com"},null,512),[[G,o.productForm.vk_product_id]]),Ry])]),t("div",Uy,[t("div",Vy,[b(t("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=u=>o.productForm.title=u),class:"form-control",id:"title",placeholder:"name@example.com"},null,512),[[G,o.productForm.title]]),Yy])]),t("div",By,[t("div",Ny,[b(t("select",{class:"form-select","onUpdate:modelValue":e[10]||(e[10]=u=>o.productForm.type=u),id:"type","aria-label":"Floating label select example"},[(i(!0),d(R,null,J(o.types,(u,p)=>(i(),d("option",{value:u.value},v(u.title),9,Qy))),256))],512),[[es,o.productForm.type]]),Ey])]),t("div",xy,[t("div",Ly,[b(t("textarea",{class:"form-control","onUpdate:modelValue":e[11]||(e[11]=u=>o.productForm.description=u),placeholder:"Leave a comment here",id:"description"},null,512),[[G,o.productForm.description]]),Hy])]),t("div",Wy,[t("div",Ky,[b(t("input",{type:"number","onUpdate:modelValue":e[12]||(e[12]=u=>o.productForm.current_price=u),class:"form-control",id:"current-price",placeholder:"name@example.com"},null,512),[[G,o.productForm.current_price]]),Xy])]),t("div",Gy,[t("div",Zy,[b(t("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=u=>o.productForm.old_price=u),class:"form-control",id:"old-price",placeholder:"name@example.com"},null,512),[[G,o.productForm.old_price]]),Jy])]),t("div",e0,[t("div",t0,[t("div",s0,[t("h6",null,[w("Варианты товара "),o.productForm.variants?(i(),d("span",n0,"("+v(o.productForm.variants.length)+")",1)):c("",!0)])]),t("div",o0,[t("div",a0,[t("div",l0,[t("button",{type:"button",class:"btn btn-outline-info w-100",onClick:e[14]||(e[14]=(...u)=>l.addVariant&&l.addVariant(...u))},"Добавить вариант ")]),(i(!0),d(R,null,J(o.productForm.variants,(u,p)=>(i(),d("div",i0,[t("div",r0,[t("div",d0,[t("div",u0,[b(t("input",{type:"text","onUpdate:modelValue":h=>o.productForm.variants[p].key=h,class:"form-control",id:"variant-key-"+p,placeholder:"name@example.com",required:""},null,8,c0),[[G,o.productForm.variants[p].key]]),t("label",{for:"variant-key-"+p},"Ключ",8,m0)]),t("div",p0,[b(t("input",{type:"text","onUpdate:modelValue":h=>o.productForm.variants[p].value=h,class:"form-control",id:"variant-value-"+p,placeholder:"name@example.com",required:""},null,8,h0),[[G,o.productForm.variants[p].value]]),t("label",{for:"variant-value-"+p},"Значение",8,_0)])]),t("div",f0,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:h=>l.removeVariant(p)},g0,8,v0)])])]))),256))])])])]),t("div",y0,[t("div",$0,[k0,t("div",w0,[t("div",C0,[t("div",F0,[t("form",{onSubmit:e[16]||(e[16]=Fe((...u)=>l.addSection&&l.addSection(...u),["prevent"])),class:"input-group mb-3"},[b(t("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=u=>o.sectionForm.section=u),class:"form-control border-info",placeholder:"Название секции","aria-label":"Recipient's username","aria-describedby":"button-addon2",required:""},null,512),[[G,o.sectionForm.section]]),T0],32),(i(!0),d(R,null,J(o.sections,(u,p)=>(i(),d("span",D0,[w(v(u)+" ",1),t("strong",{onClick:h=>l.removeSection(p)},O0,8,S0)]))),256))])]),t("div",M0,[(i(!0),d(R,null,J(o.productForm.options,(u,p)=>(i(),d("div",A0,[t("div",j0,[t("div",q0,[t("div",z0,[b(t("input",{type:"text","onUpdate:modelValue":h=>o.productForm.options[p].title=h,class:"form-control",id:"option-title-"+p,placeholder:"name@example.com"},null,8,I0),[[G,o.productForm.options[p].title]]),t("label",{for:"option-title-"+p},"Название характеристики",8,R0)]),t("div",U0,[b(t("input",{type:"text","onUpdate:modelValue":h=>o.productForm.options[p].value=h,class:"form-control",id:"option-value-"+p,placeholder:"name@example.com"},null,8,V0),[[G,o.productForm.options[p].value]]),t("label",{for:"option-value-"+p},"Значение характеристики",8,Y0)]),t("div",B0,[b(t("select",{class:"form-select","onUpdate:modelValue":h=>o.productForm.options[p].section=h,id:"option-section-"+p,"aria-label":"Floating label select example"},[Q0,(i(!0),d(R,null,J(o.sections,h=>(i(),d("option",{value:h},v(h),9,E0))),256))],8,N0),[[es,o.productForm.options[p].section]]),t("label",{for:"option-section-"+p},"Секция товара",8,x0)])]),t("div",L0,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:h=>l.removeOption(p)},K0,8,H0)])])]))),256))]),t("div",X0,[t("div",G0,[t("button",{type:"button",class:"btn btn-outline-info w-100",onClick:e[17]||(e[17]=(...u)=>l.addOption&&l.addOption(...u))},"Добавить характеристику ")])])])])]),t("div",Z0,[J0,t("div",e$,[t("label",t$,[s$,t("input",{type:"file",id:"location-photos",multiple:"",accept:"image/*",onChange:e[18]||(e[18]=(...u)=>l.onChangePhotos&&l.onChangePhotos(...u)),style:{display:"none"}},null,32)]),o.productForm.images?(i(!0),d(R,{key:0},J(o.productForm.images,(u,p)=>(i(),d("div",n$,[b(t("img",null,null,512),[[r,u]]),t("div",o$,[t("a",{onClick:h=>l.removeImage(p)},"Удалить",8,a$)])]))),256)):c("",!0),o.photos.length>0?(i(!0),d(R,{key:1},J(o.photos,(u,p)=>(i(),d("div",l$,[b(t("img",null,null,512),[[r,l.getPhoto(u).imageUrl]]),t("div",i$,[t("a",{onClick:h=>l.removePhoto(p)},"Удалить",8,r$)])]))),256)):c("",!0)])]),d$],32)])):c("",!0),o.tab===1?(i(),d("div",u$," Отзывы ")):c("",!0)],64)}const m$=Rt(my,[["render",c$]]),p$={props:["item"],data(){return{bot:null}},methods:{preparedImgUrl(s){return s.toLocaleLowerCase().startsWith("https://")||s.toLocaleLowerCase().startsWith("http://")?s:"/images-by-bot-id/"+this.bot.id+"/"+s},removeProduct(){this.$store.dispatch("removeProduct",this.item.id).then(s=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно удален!",type:"success"})}).catch(s=>{})},duplicateProduct(){this.$store.dispatch("duplicateProduct",this.item.id).then(s=>{this.$notify({title:"Конструктор ботов",text:"Продукт успешно продублирован!",type:"success"})}).catch(s=>{})}},mounted(){this.bot=this.getCurrentBot},computed:{...Ne(["getCurrentBot"])}},h$={key:0,class:"card"},_$={class:"card-header"},f$={class:"card-body"},v$=["id"],b$={class:"carousel-inner"},g$=["src"],y$=["data-bs-target"],$$=t("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),k$=t("span",{class:"visually-hidden"},"Previous",-1),w$=[$$,k$],C$=["data-bs-target"],F$=t("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),T$=t("span",{class:"visually-hidden"},"Next",-1),D$=[F$,T$],S$={class:"card-footer d-flex justify-content-between"},P$=t("i",{class:"fa-regular fa-copy"},null,-1),O$=[P$],M$=t("i",{class:"fa-solid fa-trash-can"},null,-1),A$=[M$];function j$(s,e,n,a,o,l){return o.bot?(i(),d("div",h$,[t("div",_$,[t("p",null,"#"+v(n.item.id),1)]),t("div",f$,[t("p",null,v(n.item.title),1),t("div",{id:"image-slider-"+n.item.id,class:"carousel slide","data-bs-ride":"carousel"},[t("div",b$,[(i(!0),d(R,null,J(n.item.images,(r,u)=>(i(),d("div",{class:P(["carousel-item",{active:u===0}]),style:{height:"300px"}},[t("img",{src:l.preparedImgUrl(r),class:"d-block w-100 object-fit-cover",alt:"..."},null,8,g$)],2))),256))]),t("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#image-slider-"+n.item.id,"data-bs-slide":"prev"},w$,8,y$),t("button",{class:"carousel-control-next",type:"button","data-bs-target":"#image-slider-"+n.item.id,"data-bs-slide":"next"},D$,8,C$)],8,v$)]),t("div",S$,[t("button",{title:"Дублировать товар",onClick:e[0]||(e[0]=(...r)=>l.duplicateProduct&&l.duplicateProduct(...r)),class:"btn btn-outline-info mr-1"},O$),t("button",{title:"Удалить товар",onClick:e[1]||(e[1]=(...r)=>l.removeProduct&&l.removeProduct(...r)),class:"btn btn-outline-danger"},A$)])])):c("",!0)}const q$=Rt(p$,[["render",j$]]),z$=t("button",{class:"btn btn-outline-info",type:"submit",id:"button-addon2"}," Найти ",-1),I$={key:0},R$={class:"row"},U$={class:"col-4 mb-2"},V$={props:["bot"],data(){return{search:null,products:[],paginate:null}},computed:{...Ne(["getProducts","getProductsPaginateObject"]),filteredProducts(){return this.search?this.products.filter(s=>s.title.toLowerCase().trim().indexOf(this.search.toLowerCase().trim())>=0):this.products}},mounted(){this.loadProducts()},methods:{selectProduct(s){this.$emit("select",s)},nextProducts(s){this.loadProducts(s)},loadProducts(s=0){return this.$store.dispatch("loadProducts",{dataObject:{bot_id:this.bot.id,search:this.search},page:s}).then(()=>{this.products=this.getProducts,this.paginate=this.getProductsPaginateObject})}}},Y$=Object.assign(V$,{__name:"ProductList",setup(s){return(e,n)=>(i(),d(R,null,[t("form",{class:"input-group mb-3",onSubmit:n[1]||(n[1]=Fe(a=>e.loadProducts(0),["prevent"]))},[b(t("input",{type:"text",class:"form-control border-info",placeholder:"Поиск товара","aria-label":"Поиск товара","onUpdate:modelValue":n[0]||(n[0]=a=>e.search=a),"aria-describedby":"button-addon2",required:""},null,512),[[G,e.search]]),z$],32),t("p",null,[w("Всего товаров: "),e.paginate?(i(),d("span",I$,v(e.paginate.meta.total||0),1)):c("",!0)]),t("div",R$,[(i(!0),d(R,null,J(e.filteredProducts,(a,o)=>(i(),d("div",U$,[E(q$,{onClick:l=>e.selectProduct(a),item:a},null,8,["onClick","item"])]))),256))]),e.paginate?(i(),Q(Ze,{key:0,onPagination_page:e.nextProducts,pagination:e.paginate},null,8,["onPagination_page","pagination"])):c("",!0)],64))}}),B$={class:"card mb-2"},N$=t("div",{class:"card-header"},[t("h6",null,"Управление магазином")],-1),Q$={class:"card-body"},E$={class:"row"},x$={class:"col-12"},L$={class:"form-label d-flex justify-content-between mt-2",id:"bot-level-3"},H$=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),W$=t("div",null,"Ссылка на страницу ВК с товарами для вашего магазина в боте ",-1),K$=t("a",{href:"https://vk.com/groups?w=groups_create",target:"_blank"},"Создать",-1),X$=["disabled"],G$=t("i",{class:"fa-regular fa-floppy-disk mr-2"},null,-1),Z$={class:"row mb-3"},J$={class:"col-md-3"},ek=["href"],tk=Ia('<div class="col-md-3"><button class="btn btn-outline-info w-100">Экспорт в XLS</button></div><div class="col-md-3"><button class="btn btn-outline-info w-100">Импорт из XLS</button></div><div class="col-md-3"><button class="btn btn-outline-danger w-100">Удалить товары</button></div>',3),sk=t("div",{class:"row"},[t("div",{class:"col-md-3"},[t("button",{class:"btn btn-outline-info w-100"},"Экспортировать заказы")])],-1),nk={class:"card"},ok=t("div",{class:"card-header"},[t("h6",null,"Работа с товаром")],-1),ak={class:"card-body"},lk={class:"card mt-2"},ik={class:"card-body"},rk={data(){return{load:!1,tab:0,url:null,link:null,bot:null,selectedProduct:null,botForm:{vk_shop_link:null}}},computed:{...Ne(["getCurrentBot"])},mounted(){this.bot=this.getCurrentBot,this.botForm.vk_shop_link=this.bot.vk_shop_link||null,this.updateProducts()},methods:{updateShopLink(){this.load=!0,this.botForm.bot_id=this.bot.id,this.$store.dispatch("updateShopLink",{botForm:this.botForm}).then(s=>{this.load=!1,this.updateProducts(),this.$notify({title:"Менеджер магазина",text:"Ссылка на источник в ВК обновлена"})}).catch(()=>{this.load=!1})},refresh(){this.load=!0,this.selectedProduct=null,this.$nextTick(()=>{this.load=!1})},selectProduct(s){this.load=!0,this.$nextTick(()=>{this.selectedProduct=s,this.load=!1})},updateProducts(){this.load=!0,this.$store.dispatch("updateProductsFromVk",{dataObject:{bot_domain:this.getCurrentBot.bot_domain}}).then(s=>{this.link=s.data.url,this.load=!1,this.url=null}).catch(()=>{this.load=!1})}}},dk=Object.assign(rk,{__name:"Shop",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d(R,null,[t("div",B$,[N$,t("div",Q$,[t("div",E$,[t("div",x$,[t("form",{onSubmit:n[1]||(n[1]=Fe((...o)=>e.updateShopLink&&e.updateShopLink(...o),["prevent"])),class:"mb-2"},[t("label",L$,[t("div",null,[E(a,null,{content:O(()=>[W$]),default:O(()=>[H$]),_:1}),w(" ВК-группа ")]),K$]),b(t("input",{type:"url",class:"form-control",placeholder:"Ссылка на группу ВК","aria-label":"ссылка на группу ВК","onUpdate:modelValue":n[0]||(n[0]=o=>e.botForm.vk_shop_link=o),"aria-describedby":"vk_shop_link"},null,512),[[G,e.botForm.vk_shop_link]]),t("button",{disabled:e.load,class:"btn btn-outline-primary mt-2 mb-2 w-100"},[G$,w(" Сохранить ")],8,X$)],32)])]),t("div",Z$,[t("div",J$,[t("a",{target:"_blank",href:e.link,class:"btn btn-primary w-100"}," Обновить товар ",8,ek)]),tk]),sk])]),t("div",nk,[ok,t("div",ak,[e.bot&&!e.load?(i(),Q(m$,{key:0,bot:e.bot,item:e.selectedProduct,onRefresh:e.refresh},null,8,["bot","item","onRefresh"])):c("",!0)])]),t("div",lk,[t("div",ik,[e.bot&&!e.load?(i(),Q(Y$,{key:0,bot:e.bot,onSelect:e.selectProduct},null,8,["bot","onSelect"])):c("",!0)])])],64)}}}),uk={props:["data"],data(){return{hasConnect:!1,bot:null,amoForm:{client_id:null,client_secret:null,auth_code:null,redirect_uri:null,subdomain:null,bot_id:null}}},computed:{...Ne(["getCurrentBot"])},mounted(){this.bot=this.getCurrentBot,this.data?this.$nextTick(()=>{this.amoForm.client_id=this.data.client_id||null,this.amoForm.client_secret=this.data.client_secret||null,this.amoForm.auth_code=this.data.auth_code||null,this.amoForm.redirect_uri=this.data.redirect_uri||null,this.amoForm.subdomain=this.data.subdomain||null,this.amoForm.bot_id=this.data.bot_id||this.bot.id||null}):this.amoForm.bot_id=this.bot.id||null},methods:{submitAmo(){let s=new FormData;Object.keys(this.amoForm).forEach(e=>{const n=this.amoForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),this.$store.dispatch("saveAmoCRM",{amoForm:s}).then(e=>{this.$notify("Данные CRM успешно сохранены")}).catch(e=>{})}}},ck=t("div",{class:"col-12"},[t("p",null,[t("a",{target:"_blank",href:"https://www.amocrm.ru/developers/content/oauth/step-by-step"},"Документация для разработчика "),w(" по шагам")])],-1),mk={class:"col-md-6 col-12 mb-2"},pk={class:"form-label",id:"client_id"},hk=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_k=t("div",null,"ID интеграции",-1),fk=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),vk={class:"col-md-6 col-12 mb-2"},bk={class:"form-label",id:"client_secret"},gk=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),yk=t("div",null,"Секрет интеграции",-1),$k=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),kk={class:"col-md-6 mb-2"},wk={class:"form-label",id:"auth_code"},Ck=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),Fk=t("div",null,"Полученный код авторизации",-1),Tk=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Dk={class:"col-md-6 col-12 mb-2"},Sk={class:"form-label",id:"subdomain2"},Pk=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),Ok=t("div",null,"Ваш поддомен в системе AMO CRM",-1),Mk=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Ak=t("div",{class:"col-md-12 col-12"},[t("button",{type:"submit",class:"btn btn-outline-primary p-3 w-100"},[t("i",{class:"fa-solid fa-cloud-arrow-down mr-1"}),w(" Сохранить настройку AMO ")])],-1);function jk(s,e,n,a,o,l){const r=pt("Popper");return i(),d("form",{onSubmit:e[4]||(e[4]=Fe((...u)=>l.submitAmo&&l.submitAmo(...u),["prevent"])),class:"row"},[ck,t("div",mk,[t("label",pk,[E(r,null,{content:O(()=>[_k]),default:O(()=>[hk]),_:1}),w(" client_id "),fk]),b(t("input",{type:"text",class:"form-control",placeholder:"client_id","aria-label":"client_id","onUpdate:modelValue":e[0]||(e[0]=u=>o.amoForm.client_id=u),"aria-describedby":"client_id"},null,512),[[G,o.amoForm.client_id]])]),t("div",vk,[t("label",bk,[E(r,null,{content:O(()=>[yk]),default:O(()=>[gk]),_:1}),w(" client_secret "),$k]),b(t("input",{type:"text",class:"form-control",placeholder:"client_secret","aria-label":"client_secret","onUpdate:modelValue":e[1]||(e[1]=u=>o.amoForm.client_secret=u),"aria-describedby":"client_secret"},null,512),[[G,o.amoForm.client_secret]])]),t("div",kk,[t("label",wk,[E(r,null,{content:O(()=>[Fk]),default:O(()=>[Ck]),_:1}),w(" auth_code "),Tk]),b(t("textarea",{class:"form-control",placeholder:"auth_code","aria-label":"auth_code","onUpdate:modelValue":e[2]||(e[2]=u=>o.amoForm.auth_code=u),"aria-describedby":"auth_code"},`
                                    `,512),[[G,o.amoForm.auth_code]])]),t("div",Dk,[t("label",Sk,[E(r,null,{content:O(()=>[Ok]),default:O(()=>[Pk]),_:1}),w(" subdomain "),Mk]),b(t("input",{type:"text",class:"form-control",placeholder:"subdomain","aria-label":"subdomain","onUpdate:modelValue":e[3]||(e[3]=u=>o.amoForm.subdomain=u),"aria-describedby":"subdomain"},null,512),[[G,o.amoForm.subdomain]])]),Ak],32)}const qk=Rt(uk,[["render",jk]]),zk={props:["data"],data(){return{load:!1,bot:null,yClientsForm:{login:null,password:null,partner_token:null,company:null}}},computed:{...Ne(["getCurrentBot"])},mounted(){this.bot=this.getCurrentBot,this.data&&this.$nextTick(()=>{this.yClientsForm.login=this.data.login||null,this.yClientsForm.password=this.data.password||null,this.yClientsForm.partner_token=this.data.partner_token||null,this.yClientsForm.company=this.data.company||null})},methods:{submitYClients(){let s=new FormData;Object.keys(this.yClientsForm).forEach(e=>{const n=this.yClientsForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch("saveYClients",{yClientsForm:s}).then(e=>{this.$notify({title:"Работа с YClients",text:"Данные YClients успешно сохранены",type:"success"})}).catch(e=>{this.$notify({title:"Работа с YClients",text:"Ошибка сохранения данных",type:"error"})})}}},Ik=t("h6",null,"Настройка YClients",-1),Rk={class:"row"},Uk={class:"col-md-12"},Vk={class:"mb-2"},Yk=t("label",{class:"form-label d-flex justify-content-between mt-2",for:"login"},[w(" Логин "),t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно")],-1),Bk={class:"mb-2"},Nk=t("label",{class:"form-label d-flex justify-content-between mt-2",for:"password"},[w(" Пароль "),t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно")],-1),Qk={class:"mb-2"},Ek=t("label",{class:"form-label d-flex justify-content-between mt-2",for:"partner_token"},[w(" Партнерский тоукен "),t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно")],-1),xk={class:"mb-2"},Lk=t("label",{class:"form-label d-flex justify-content-between mt-2",for:"partner_token"},[w(" ID компании, в которую записывать клиентов "),t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно")],-1),Hk=t("button",{class:"btn btn-success w-100 r mb-3 text-uppercase font-900"}," Сохранить ",-1);function Wk(s,e,n,a,o,l){return i(),d(R,null,[Ik,t("form",{onSubmit:e[4]||(e[4]=Fe((...r)=>l.submitYClients&&l.submitYClients(...r),["prevent"]))},[t("div",Rk,[t("div",Uk,[t("div",Vk,[Yk,b(t("input",{type:"text",id:"login",class:"form-control",placeholder:"Ваш логин","aria-label":"Ваш логин","onUpdate:modelValue":e[0]||(e[0]=r=>o.yClientsForm.login=r),"aria-describedby":"Ваш логин",required:""},null,512),[[G,o.yClientsForm.login]])]),t("div",Bk,[Nk,b(t("input",{type:"text",id:"password",class:"form-control",placeholder:"Ваш пароль","aria-label":"Ваш пароль","onUpdate:modelValue":e[1]||(e[1]=r=>o.yClientsForm.password=r),"aria-describedby":"Ваш пароль",required:""},null,512),[[G,o.yClientsForm.password]])]),t("div",Qk,[Ek,b(t("input",{type:"text",id:"partner_token",class:"form-control",placeholder:"Ваш партнерский тоукен","aria-label":"Ваш партнерский тоукен","onUpdate:modelValue":e[2]||(e[2]=r=>o.yClientsForm.partner_token=r),"aria-describedby":"Ваш партнерский тоукен",required:""},null,512),[[G,o.yClientsForm.partner_token]])]),t("div",xk,[Lk,b(t("input",{type:"number",id:"throttle",class:"form-control",placeholder:"ID компании","aria-label":"ID компании","onUpdate:modelValue":e[3]||(e[3]=r=>o.yClientsForm.company=r),"aria-describedby":"ID компании",required:""},null,512),[[G,o.yClientsForm.company]])])])]),Hk],32)],64)}const Kk=Rt(zk,[["render",Wk]]),Xk={class:"py-2"},Gk={class:"nav nav-tabs"},Zk={class:"nav-item"},Jk={class:"nav-item"},e2={key:0,class:"row"},t2={class:"col-12 py-2"},s2={key:1,class:"row"},n2={class:"col-12 py-2"},o2={class:"col-12"},a2={props:["bot"],data(){return{tab:1,load:!1,loadMailingTable:!1}},mounted(){},methods:{callbackPersonalMail(){this.loadMailingTable=!0,this.$nextTick(()=>{this.loadMailingTable=!1})}}},l2=Object.assign(a2,{__name:"Mail",setup(s){return(e,n)=>(i(),d("div",Xk,[t("ul",Gk,[t("li",Zk,[t("a",{class:P(["nav-link",{active:e.tab===0}]),onClick:n[0]||(n[0]=a=>e.tab=0),"aria-current":"page",href:"#"},"Рассылка в канал",2)]),t("li",Jk,[t("a",{class:P(["nav-link",{active:e.tab===1}]),onClick:n[1]||(n[1]=a=>e.tab=1),href:"#"},"Рассылка в бота",2)])]),e.tab===0?(i(),d("div",e2,[t("div",t2,[E(ja)])])):c("",!0),e.tab===1?(i(),d("div",s2,[t("div",n2,[E(qa,{onCallback:e.callbackPersonalMail},null,8,["onCallback"])]),t("div",o2,[e.loadMailingTable?c("",!0):(i(),Q(za,{key:0,bot:s.bot},null,8,["bot"]))])])):c("",!0)]))}}),i2={data(){return{load:!1,bot:null,fieldTypes:[{title:"Текст",value:0},{title:"Число",value:1},{title:"Логический",value:2},{title:"Дата и время",value:3}],fieldForm:{fields:[]}}},computed:{...Ne(["getCurrentBot"])},mounted(){this.loadCurrentBot().then(()=>{this.bot=this.getCurrentBot,this.$nextTick(()=>{this.fieldForm.fields=this.bot.field_settings||[]}),this.loadCurrentBotFields()})},methods:{loadCurrentBotFields(){return this.$store.dispatch("loadCurrentBotFields",{bot_id:this.bot.id}).then(s=>{this.fieldForm.fields=s.data||[]})},loadCurrentBot(s=null){return this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{this.bot=this.getCurrentBot})},removeField(s){this.fieldForm.fields.splice(s,1)},submit(){let s=new FormData;Object.keys(this.fieldForm).forEach(e=>{const n=this.fieldForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch("storeBotFields",{dataObject:s}).then(e=>{this.$notify({title:"Конструктор ботов",text:"Поля успешно обновлены",type:"success"}),this.fieldForm.fields=[],this.fieldForm.fields=e.data}).catch(e=>{this.$notify({title:"Конструктор ботов",text:"Ошибка обновления полей",type:"error"})})},addField(){if(this.fieldForm.fields||(this.fieldForm.fields=[]),this.fieldForm.fields.length>0&&this.fieldForm.fields.findIndex(e=>e.key==null)!==-1){this.$notify({title:"Настраиваемые поля",text:"У вас есть пустые ключевые поля!",type:"error"});return}this.fieldForm.fields.push({key:null,type:0,label:null,description:null,required:!1,validate_pattern:null})}}},r2={class:"mb-2"},d2={class:"d-flex justify-content-between"},u2=t("h6",null,"Настройка полей пользователя бота",-1),c2=t("i",{class:"fa-solid fa-plus mr-2"},null,-1),m2=t("p",null,[t("em",null,"Данные поля будут добавлены пользователю бота и будут автоматически учитываться в условиях страниц, скриптах (в формах заполнения данных), диалогах. Ключи должны быть уникальные для каждого бота. Если ключ дублируется, то будет использовано более позднее его значение. Если поле добавлено и сохранено, то удалить его уже нельзя, только скрыть. "),w(". "),t("br"),t("span",{class:"text-danger"},"*"),w(" - обязательное поле ")],-1),p2={class:"table"},h2=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},[w("Ключ"),t("span",{class:"text-danger"},"*")]),t("th",{scope:"col"},[w("Подпись поля"),t("span",{class:"text-danger"},"*")]),t("th",{scope:"col"},[w("Тип поля"),t("span",{class:"text-danger"},"*")]),t("th",{scope:"col"},"Паттерн"),t("th",{scope:"col"},"Обязательный"),t("th",{scope:"col"},[w("Вопрос для анкеты"),t("span",{class:"text-danger"},"*")]),t("th",{scope:"col"})])],-1),_2={scope:"row"},f2={scope:"col"},v2=["onUpdate:modelValue"],b2={scope:"col"},g2=["onUpdate:modelValue"],y2={scope:"col"},$2=["onUpdate:modelValue"],k2=["value"],w2={scope:"col"},C2=["disabled","onUpdate:modelValue"],F2={scope:"col"},T2={class:"form-check"},D2=["onUpdate:modelValue","id"],S2=["for"],P2={key:0},O2={key:1},M2={scope:"col"},A2=["onUpdate:modelValue"],j2={scope:"col"},q2=["onClick"],z2=t("i",{class:"fa-regular fa-trash-can"},null,-1),I2=[z2],R2={key:1,class:"form-check mt-2"},U2=["onUpdate:modelValue","id"],V2=["for"],Y2={key:0},B2=t("i",{class:"fa-solid fa-eye text-success"},null,-1),N2=[B2],Q2={key:1},E2=t("i",{class:"fa-solid fa-eye-slash text-danger"},null,-1),x2=[E2],L2=t("button",{type:"submit",class:"btn btn-success w-100 p-3"}," Сохранить поля ",-1);function H2(s,e,n,a,o,l){return i(),d("div",r2,[t("div",d2,[u2,t("button",{type:"button",onClick:e[0]||(e[0]=r=>l.addField()),class:"btn mb-2 rounded-sm btn-outline-info"},[c2,w(" Добавить параметр ")])]),m2,t("form",{onSubmit:e[1]||(e[1]=Fe((...r)=>l.submit&&l.submit(...r),["prevent"]))},[t("table",p2,[h2,t("tbody",null,[(i(!0),d(R,null,J(o.fieldForm.fields,(r,u)=>(i(),d("tr",null,[t("th",_2,v(u+1),1),t("th",f2,[b(t("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Ключ","aria-label":"Ключ",maxlength:"255","onUpdate:modelValue":p=>o.fieldForm.fields[u].key=p,required:""},null,8,v2),[[G,o.fieldForm.fields[u].key]])]),t("th",b2,[b(t("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Подпись поля","aria-label":"Название поля",maxlength:"255","onUpdate:modelValue":p=>o.fieldForm.fields[u].label=p,required:""},null,8,g2),[[G,o.fieldForm.fields[u].label]])]),t("th",y2,[b(t("select",{class:"form-select","onUpdate:modelValue":p=>o.fieldForm.fields[u].type=p},[(i(!0),d(R,null,J(o.fieldTypes,p=>(i(),d("option",{value:p.value},v(p.title||"Не указан"),9,k2))),256))],8,$2),[[es,o.fieldForm.fields[u].type]])]),t("th",w2,[b(t("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Паттерн","aria-label":"Паттерн",maxlength:"255",disabled:o.fieldForm.fields[u].type===2,"onUpdate:modelValue":p=>o.fieldForm.fields[u].validate_pattern=p},null,8,C2),[[G,o.fieldForm.fields[u].validate_pattern]])]),t("th",F2,[t("div",T2,[b(t("input",{class:"form-check-input","onUpdate:modelValue":p=>o.fieldForm.fields[u].required=p,type:"checkbox",value:"",id:"field-required"+u},null,8,D2),[[ke,o.fieldForm.fields[u].required]]),t("label",{class:"form-check-label",for:"field-required"+u},[o.fieldForm.fields[u].required?(i(),d("span",P2,"Да")):c("",!0),o.fieldForm.fields[u].required?c("",!0):(i(),d("span",O2,"Нет"))],8,S2)])]),t("th",M2,[b(t("input",{type:"text",class:"form-control mb-2 w-100",placeholder:"Описание вопроса","aria-label":"Описание вопроса",maxlength:"255","onUpdate:modelValue":p=>o.fieldForm.fields[u].description=p,required:""},null,8,A2),[[G,o.fieldForm.fields[u].description]])]),t("th",j2,[o.fieldForm.fields[u].id?(i(),d("div",R2,[b(t("input",{class:"form-check-input d-none","onUpdate:modelValue":p=>o.fieldForm.fields[u].is_active=p,type:"checkbox",value:"",id:"field-is_active-"+u},null,8,U2),[[ke,o.fieldForm.fields[u].is_active]]),t("label",{class:"form-check-label",for:"field-is_active-"+u},[o.fieldForm.fields[u].is_active?(i(),d("span",Y2,N2)):c("",!0),o.fieldForm.fields[u].is_active?c("",!0):(i(),d("span",Q2,x2))],8,V2)])):(i(),d("button",{key:0,type:"button",onClick:p=>l.removeField(u),class:"btn btn-link text-danger"},I2,8,q2))])]))),256))])]),L2],32)])}const W2=Rt(i2,[["render",H2]]),K2={class:"row"},X2={class:"input-group mb-3"},G2={key:0,class:"row"},Z2={class:"col-12 col-md-12 mb-3"},J2={class:"table"},ew=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Тип"),t("th",{scope:"col"},"Подпись"),t("th",{scope:"col"},"File Id"),t("th",{scope:"col"},"Действия")])],-1),tw={scope:"row"},sw={class:"badge bg-info rounded-pill"},nw={style:{"word-break":"break-all"}},ow={style:{"word-break":"break-all"}},aw={style:{"min-width":"200px"}},lw=["onClick"],iw=t("i",{class:"fa-solid fa-eye"},null,-1),rw=[iw],dw=["onClick"],uw=t("i",{class:"fa-brands fa-telegram"},null,-1),cw=[uw],mw=["onClick"],pw=t("i",{class:"fa-solid fa-trash"},null,-1),hw=[pw],_w={class:"col-12"},fw={key:1,class:"row"},vw=t("div",{class:"col-12"},[t("div",{class:"alert alert-warning",role:"alert"}," У выбранного бота нет медиа-файлов ")],-1),bw=[vw],gw={class:"modal fade",id:"preview-modal",tabindex:"-1","aria-labelledby":"preview-modal-label","aria-hidden":"true"},yw={class:"modal-dialog"},$w={class:"modal-content"},kw={class:"modal-body"},ww={key:0,class:"d-flex justify-content-center align-items-center"},Cw=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Fw={data(){return{bot:null,previewContent:null,loading:!0,media:[],search:null,media_paginate_object:null}},computed:{...Ne(["getMedia","getMediaPaginateObject","getCurrentBot"])},mounted(){this.loadCurrentBot().then(()=>{this.loadMedia()})},methods:{selectMedia(s){this.$emit("select",s)},loadCurrentBot(s=null){return this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{this.bot=this.getCurrentBot})},nextMedia(s){this.loadMedia(s)},remove(s){this.$store.dispatch("removeMedia",{dataObject:{mediaId:s}}).then(e=>{this.loadMedia(),this.$notify({title:"Удаление медиа-контента",text:"Медиа контент удален"})}).catch(()=>{})},showPreview(s){this.previewContent=null,this.$nextTick(()=>{this.previewContent=s,new bootstrap.Modal("#preview-modal",{}).show()})},showPreviewInTg(s){this.$store.dispatch("showMediaPreview",{dataObject:{mediaId:s}}).then(e=>{this.$notify({title:"Превью медиа-контента",text:"Отправлено в бота"})}).catch(()=>{})},loadMedia(s=0){this.loading=!0,this.$store.dispatch("loadMedia",{dataObject:{bot_id:this.bot.id||null,search:this.search,needVideo:!0,needVideoNote:!0,needPhoto:!0,needAudio:!0,needDocument:!0,needSticker:!0},page:s}).then(e=>{this.loading=!1,this.media=this.getMedia,this.media_paginate_object=this.getMediaPaginateObject}).catch(()=>{this.loading=!1})}}},Tw=Object.assign(Fw,{__name:"BotMediaTable",setup(s){return(e,n)=>(i(),d(R,null,[t("div",K2,[t("div",X2,[b(t("input",{type:"search",class:"form-control",placeholder:"Поиск файла","aria-label":"Поиск файла","onUpdate:modelValue":n[0]||(n[0]=a=>e.search=a)},null,512),[[G,e.search]]),t("button",{class:"btn btn-outline-secondary",onClick:n[1]||(n[1]=a=>e.loadMedia(0)),type:"button",id:"button-addon2"},"Найти ")])]),e.media.length>0?(i(),d("div",G2,[t("div",Z2,[t("table",J2,[ew,t("tbody",null,[(i(!0),d(R,null,J(e.media,(a,o)=>(i(),d("tr",null,[t("th",tw,v(a.id),1),t("td",null,[t("span",sw,v(a.type),1)]),t("td",null,[t("p",nw,v(a.caption??"Без подписи"),1)]),t("td",null,[t("p",ow,v(a.file_id),1)]),t("td",null,[t("div",aw,[t("a",{href:"javascript:void(0)",class:"btn btn-info mr-2",onClick:l=>e.showPreview(a)},rw,8,lw),t("a",{href:"javascript:void(0)",class:"btn btn-info mr-2",onClick:l=>e.showPreviewInTg(a.id)},cw,8,dw),t("a",{href:"javascript:void(0)",class:"btn btn-outline-danger text-danger",onClick:l=>e.remove(a.id)},hw,8,mw)])])]))),256))])])]),t("div",_w,[e.media_paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextMedia,pagination:e.media_paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])])):(i(),d("div",fw,bw)),t("div",gw,[t("div",yw,[t("div",$w,[t("div",kw,[e.previewContent!=null?(i(),d("div",ww,[E(Tn,{type:e.previewContent.type,content:e.previewContent.file_id},null,8,["type","content"])])):c("",!0)]),Cw])])])],64))}});function gt(s){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(s)}function we(s){if(s===null||s===!0||s===!1)return NaN;var e=Number(s);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function fe(s,e){if(e.length<s)throw new TypeError(s+" argument"+(s>1?"s":"")+" required, but only "+e.length+" present")}function $e(s){fe(1,arguments);var e=Object.prototype.toString.call(s);return s instanceof Date||gt(s)==="object"&&e==="[object Date]"?new Date(s.getTime()):typeof s=="number"||e==="[object Number]"?new Date(s):((typeof s=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function zt(s,e){fe(2,arguments);var n=$e(s),a=we(e);return isNaN(a)?new Date(NaN):(a&&n.setDate(n.getDate()+a),n)}function wt(s,e){fe(2,arguments);var n=$e(s),a=we(e);if(isNaN(a))return new Date(NaN);if(!a)return n;var o=n.getDate(),l=new Date(n.getTime());l.setMonth(n.getMonth()+a+1,0);var r=l.getDate();return o>=r?l:(n.setFullYear(l.getFullYear(),l.getMonth(),o),n)}function Qo(s,e){if(fe(2,arguments),!e||gt(e)!=="object")return new Date(NaN);var n=e.years?we(e.years):0,a=e.months?we(e.months):0,o=e.weeks?we(e.weeks):0,l=e.days?we(e.days):0,r=e.hours?we(e.hours):0,u=e.minutes?we(e.minutes):0,p=e.seconds?we(e.seconds):0,h=$e(s),k=a||n?wt(h,a+n*12):h,_=l||o?zt(k,l+o*7):k,F=u+r*60,D=p+F*60,M=D*1e3,N=new Date(_.getTime()+M);return N}function Dw(s,e){fe(2,arguments);var n=$e(s).getTime(),a=we(e);return new Date(n+a)}var Sw={};function jt(){return Sw}function ts(s,e){var n,a,o,l,r,u,p,h;fe(1,arguments);var k=jt(),_=we((n=(a=(o=(l=e==null?void 0:e.weekStartsOn)!==null&&l!==void 0?l:e==null||(r=e.locale)===null||r===void 0||(u=r.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:k.weekStartsOn)!==null&&a!==void 0?a:(p=k.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var F=$e(s),D=F.getDay(),M=(D<_?7:0)+D-_;return F.setDate(F.getDate()-M),F.setHours(0,0,0,0),F}function Es(s){return fe(1,arguments),ts(s,{weekStartsOn:1})}function Pw(s){fe(1,arguments);var e=$e(s),n=e.getFullYear(),a=new Date(0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);var o=Es(a),l=new Date(0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);var r=Es(l);return e.getTime()>=o.getTime()?n+1:e.getTime()>=r.getTime()?n:n-1}function Ow(s){fe(1,arguments);var e=Pw(s),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var a=Es(n);return a}function xs(s){var e=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return e.setUTCFullYear(s.getFullYear()),s.getTime()-e.getTime()}function ro(s){fe(1,arguments);var e=$e(s);return e.setHours(0,0,0,0),e}var Mw=864e5;function Aw(s,e){fe(2,arguments);var n=ro(s),a=ro(e),o=n.getTime()-xs(n),l=a.getTime()-xs(a);return Math.round((o-l)/Mw)}function jw(s,e){fe(2,arguments);var n=we(e),a=n*3;return wt(s,a)}function Vn(s,e){fe(2,arguments);var n=we(e);return wt(s,n*12)}var Yn=6e4,Bn=36e5,qw=1e3;function Eo(s){return fe(1,arguments),s instanceof Date||gt(s)==="object"&&Object.prototype.toString.call(s)==="[object Date]"}function Fs(s){if(fe(1,arguments),!Eo(s)&&typeof s!="number")return!1;var e=$e(s);return!isNaN(Number(e))}function uo(s){fe(1,arguments);var e=$e(s),n=Math.floor(e.getMonth()/3)+1;return n}function xo(s,e){var n;fe(1,arguments);var a=s||{},o=$e(a.start),l=$e(a.end),r=l.getTime();if(!(o.getTime()<=r))throw new RangeError("Invalid interval");var u=[],p=o;p.setHours(0,0,0,0);var h=Number((n=e==null?void 0:e.step)!==null&&n!==void 0?n:1);if(h<1||isNaN(h))throw new RangeError("`options.step` must be a number greater than 1");for(;p.getTime()<=r;)u.push($e(p)),p.setDate(p.getDate()+h),p.setHours(0,0,0,0);return u}function Ss(s){fe(1,arguments);var e=$e(s),n=e.getMonth(),a=n-n%3;return e.setMonth(a,1),e.setHours(0,0,0,0),e}function zw(s){fe(1,arguments);var e=s||{},n=$e(e.start),a=$e(e.end),o=a.getTime();if(!(n.getTime()<=o))throw new RangeError("Invalid interval");var l=Ss(n),r=Ss(a);o=r.getTime();for(var u=[],p=l;p.getTime()<=o;)u.push($e(p)),p=jw(p,1);return u}function Iw(s){fe(1,arguments);var e=$e(s),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Rw(s){fe(1,arguments);var e=$e(s),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Uw(s,e){var n,a,o,l,r,u,p,h;fe(1,arguments);var k=jt(),_=we((n=(a=(o=(l=e==null?void 0:e.weekStartsOn)!==null&&l!==void 0?l:e==null||(r=e.locale)===null||r===void 0||(u=r.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:k.weekStartsOn)!==null&&a!==void 0?a:(p=k.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var F=$e(s),D=F.getDay(),M=(D<_?-7:0)+6-(D-_);return F.setDate(F.getDate()+M),F.setHours(23,59,59,999),F}function co(s){fe(1,arguments);var e=$e(s),n=e.getMonth(),a=n-n%3+3;return e.setMonth(a,0),e.setHours(23,59,59,999),e}function Lo(s,e){fe(2,arguments);var n=we(e);return Dw(s,-n)}var Vw=864e5;function Yw(s){fe(1,arguments);var e=$e(s),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var a=e.getTime(),o=n-a;return Math.floor(o/Vw)+1}function ms(s){fe(1,arguments);var e=1,n=$e(s),a=n.getUTCDay(),o=(a<e?7:0)+a-e;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function Ho(s){fe(1,arguments);var e=$e(s),n=e.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var o=ms(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var r=ms(l);return e.getTime()>=o.getTime()?n+1:e.getTime()>=r.getTime()?n:n-1}function Bw(s){fe(1,arguments);var e=Ho(s),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var a=ms(n);return a}var Nw=6048e5;function Wo(s){fe(1,arguments);var e=$e(s),n=ms(e).getTime()-Bw(e).getTime();return Math.round(n/Nw)+1}function ss(s,e){var n,a,o,l,r,u,p,h;fe(1,arguments);var k=jt(),_=we((n=(a=(o=(l=e==null?void 0:e.weekStartsOn)!==null&&l!==void 0?l:e==null||(r=e.locale)===null||r===void 0||(u=r.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:k.weekStartsOn)!==null&&a!==void 0?a:(p=k.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var F=$e(s),D=F.getUTCDay(),M=(D<_?7:0)+D-_;return F.setUTCDate(F.getUTCDate()-M),F.setUTCHours(0,0,0,0),F}function Nn(s,e){var n,a,o,l,r,u,p,h;fe(1,arguments);var k=$e(s),_=k.getUTCFullYear(),F=jt(),D=we((n=(a=(o=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(r=e.locale)===null||r===void 0||(u=r.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:F.firstWeekContainsDate)!==null&&a!==void 0?a:(p=F.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=new Date(0);M.setUTCFullYear(_+1,0,D),M.setUTCHours(0,0,0,0);var N=ss(M,e),te=new Date(0);te.setUTCFullYear(_,0,D),te.setUTCHours(0,0,0,0);var U=ss(te,e);return k.getTime()>=N.getTime()?_+1:k.getTime()>=U.getTime()?_:_-1}function Qw(s,e){var n,a,o,l,r,u,p,h;fe(1,arguments);var k=jt(),_=we((n=(a=(o=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(r=e.locale)===null||r===void 0||(u=r.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:k.firstWeekContainsDate)!==null&&a!==void 0?a:(p=k.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1),F=Nn(s,e),D=new Date(0);D.setUTCFullYear(F,0,_),D.setUTCHours(0,0,0,0);var M=ss(D,e);return M}var Ew=6048e5;function Ko(s,e){fe(1,arguments);var n=$e(s),a=ss(n,e).getTime()-Qw(n,e).getTime();return Math.round(a/Ew)+1}function Ye(s,e){for(var n=s<0?"-":"",a=Math.abs(s).toString();a.length<e;)a="0"+a;return n+a}var xw={y:function(e,n){var a=e.getUTCFullYear(),o=a>0?a:1-a;return Ye(n==="yy"?o%100:o,n.length)},M:function(e,n){var a=e.getUTCMonth();return n==="M"?String(a+1):Ye(a+1,2)},d:function(e,n){return Ye(e.getUTCDate(),n.length)},a:function(e,n){var a=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(e,n){return Ye(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ye(e.getUTCHours(),n.length)},m:function(e,n){return Ye(e.getUTCMinutes(),n.length)},s:function(e,n){return Ye(e.getUTCSeconds(),n.length)},S:function(e,n){var a=n.length,o=e.getUTCMilliseconds(),l=Math.floor(o*Math.pow(10,a-3));return Ye(l,n.length)}};const Yt=xw;var is={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Lw={G:function(e,n,a){var o=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(o,{width:"abbreviated"});case"GGGGG":return a.era(o,{width:"narrow"});case"GGGG":default:return a.era(o,{width:"wide"})}},y:function(e,n,a){if(n==="yo"){var o=e.getUTCFullYear(),l=o>0?o:1-o;return a.ordinalNumber(l,{unit:"year"})}return Yt.y(e,n)},Y:function(e,n,a,o){var l=Nn(e,o),r=l>0?l:1-l;if(n==="YY"){var u=r%100;return Ye(u,2)}return n==="Yo"?a.ordinalNumber(r,{unit:"year"}):Ye(r,n.length)},R:function(e,n){var a=Ho(e);return Ye(a,n.length)},u:function(e,n){var a=e.getUTCFullYear();return Ye(a,n.length)},Q:function(e,n,a){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Ye(o,2);case"Qo":return a.ordinalNumber(o,{unit:"quarter"});case"QQQ":return a.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,n,a){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Ye(o,2);case"qo":return a.ordinalNumber(o,{unit:"quarter"});case"qqq":return a.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,n,a){var o=e.getUTCMonth();switch(n){case"M":case"MM":return Yt.M(e,n);case"Mo":return a.ordinalNumber(o+1,{unit:"month"});case"MMM":return a.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(o,{width:"wide",context:"formatting"})}},L:function(e,n,a){var o=e.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return Ye(o+1,2);case"Lo":return a.ordinalNumber(o+1,{unit:"month"});case"LLL":return a.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(o,{width:"wide",context:"standalone"})}},w:function(e,n,a,o){var l=Ko(e,o);return n==="wo"?a.ordinalNumber(l,{unit:"week"}):Ye(l,n.length)},I:function(e,n,a){var o=Wo(e);return n==="Io"?a.ordinalNumber(o,{unit:"week"}):Ye(o,n.length)},d:function(e,n,a){return n==="do"?a.ordinalNumber(e.getUTCDate(),{unit:"date"}):Yt.d(e,n)},D:function(e,n,a){var o=Yw(e);return n==="Do"?a.ordinalNumber(o,{unit:"dayOfYear"}):Ye(o,n.length)},E:function(e,n,a){var o=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return a.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(o,{width:"short",context:"formatting"});case"EEEE":default:return a.day(o,{width:"wide",context:"formatting"})}},e:function(e,n,a,o){var l=e.getUTCDay(),r=(l-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(r);case"ee":return Ye(r,2);case"eo":return a.ordinalNumber(r,{unit:"day"});case"eee":return a.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(l,{width:"short",context:"formatting"});case"eeee":default:return a.day(l,{width:"wide",context:"formatting"})}},c:function(e,n,a,o){var l=e.getUTCDay(),r=(l-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(r);case"cc":return Ye(r,n.length);case"co":return a.ordinalNumber(r,{unit:"day"});case"ccc":return a.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(l,{width:"narrow",context:"standalone"});case"cccccc":return a.day(l,{width:"short",context:"standalone"});case"cccc":default:return a.day(l,{width:"wide",context:"standalone"})}},i:function(e,n,a){var o=e.getUTCDay(),l=o===0?7:o;switch(n){case"i":return String(l);case"ii":return Ye(l,n.length);case"io":return a.ordinalNumber(l,{unit:"day"});case"iii":return a.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(o,{width:"short",context:"formatting"});case"iiii":default:return a.day(o,{width:"wide",context:"formatting"})}},a:function(e,n,a){var o=e.getUTCHours(),l=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(e,n,a){var o=e.getUTCHours(),l;switch(o===12?l=is.noon:o===0?l=is.midnight:l=o/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,n,a){var o=e.getUTCHours(),l;switch(o>=17?l=is.evening:o>=12?l=is.afternoon:o>=4?l=is.morning:l=is.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,n,a){if(n==="ho"){var o=e.getUTCHours()%12;return o===0&&(o=12),a.ordinalNumber(o,{unit:"hour"})}return Yt.h(e,n)},H:function(e,n,a){return n==="Ho"?a.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Yt.H(e,n)},K:function(e,n,a){var o=e.getUTCHours()%12;return n==="Ko"?a.ordinalNumber(o,{unit:"hour"}):Ye(o,n.length)},k:function(e,n,a){var o=e.getUTCHours();return o===0&&(o=24),n==="ko"?a.ordinalNumber(o,{unit:"hour"}):Ye(o,n.length)},m:function(e,n,a){return n==="mo"?a.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Yt.m(e,n)},s:function(e,n,a){return n==="so"?a.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Yt.s(e,n)},S:function(e,n){return Yt.S(e,n)},X:function(e,n,a,o){var l=o._originalDate||e,r=l.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return po(r);case"XXXX":case"XX":return Kt(r);case"XXXXX":case"XXX":default:return Kt(r,":")}},x:function(e,n,a,o){var l=o._originalDate||e,r=l.getTimezoneOffset();switch(n){case"x":return po(r);case"xxxx":case"xx":return Kt(r);case"xxxxx":case"xxx":default:return Kt(r,":")}},O:function(e,n,a,o){var l=o._originalDate||e,r=l.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+mo(r,":");case"OOOO":default:return"GMT"+Kt(r,":")}},z:function(e,n,a,o){var l=o._originalDate||e,r=l.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+mo(r,":");case"zzzz":default:return"GMT"+Kt(r,":")}},t:function(e,n,a,o){var l=o._originalDate||e,r=Math.floor(l.getTime()/1e3);return Ye(r,n.length)},T:function(e,n,a,o){var l=o._originalDate||e,r=l.getTime();return Ye(r,n.length)}};function mo(s,e){var n=s>0?"-":"+",a=Math.abs(s),o=Math.floor(a/60),l=a%60;if(l===0)return n+String(o);var r=e||"";return n+String(o)+r+Ye(l,2)}function po(s,e){if(s%60===0){var n=s>0?"-":"+";return n+Ye(Math.abs(s)/60,2)}return Kt(s,e)}function Kt(s,e){var n=e||"",a=s>0?"-":"+",o=Math.abs(s),l=Ye(Math.floor(o/60),2),r=Ye(o%60,2);return a+l+n+r}const Hw=Lw;var ho=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Xo=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Ww=function(e,n){var a=e.match(/(P+)(p+)?/)||[],o=a[1],l=a[2];if(!l)return ho(e,n);var r;switch(o){case"P":r=n.dateTime({width:"short"});break;case"PP":r=n.dateTime({width:"medium"});break;case"PPP":r=n.dateTime({width:"long"});break;case"PPPP":default:r=n.dateTime({width:"full"});break}return r.replace("{{date}}",ho(o,n)).replace("{{time}}",Xo(l,n))},Kw={p:Xo,P:Ww};const Dn=Kw;var Xw=["D","DD"],Gw=["YY","YYYY"];function Go(s){return Xw.indexOf(s)!==-1}function Zo(s){return Gw.indexOf(s)!==-1}function Ls(s,e,n){if(s==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jw=function(e,n,a){var o,l=Zw[e];return typeof l=="string"?o=l:n===1?o=l.one:o=l.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+o:o+" ago":o};const e3=Jw;function dn(s){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):s.defaultWidth,a=s.formats[n]||s.formats[s.defaultWidth];return a}}var t3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o3={date:dn({formats:t3,defaultWidth:"full"}),time:dn({formats:s3,defaultWidth:"full"}),dateTime:dn({formats:n3,defaultWidth:"full"})};const a3=o3;var l3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i3=function(e,n,a,o){return l3[e]};const r3=i3;function $s(s){return function(e,n){var a=n!=null&&n.context?String(n.context):"standalone",o;if(a==="formatting"&&s.formattingValues){var l=s.defaultFormattingWidth||s.defaultWidth,r=n!=null&&n.width?String(n.width):l;o=s.formattingValues[r]||s.formattingValues[l]}else{var u=s.defaultWidth,p=n!=null&&n.width?String(n.width):s.defaultWidth;o=s.values[p]||s.values[u]}var h=s.argumentCallback?s.argumentCallback(e):e;return o[h]}}var d3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},p3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},h3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_3=function(e,n){var a=Number(e),o=a%100;if(o>20||o<10)switch(o%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},f3={ordinalNumber:_3,era:$s({values:d3,defaultWidth:"wide"}),quarter:$s({values:u3,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:$s({values:c3,defaultWidth:"wide"}),day:$s({values:m3,defaultWidth:"wide"}),dayPeriod:$s({values:p3,defaultWidth:"wide",formattingValues:h3,defaultFormattingWidth:"wide"})};const v3=f3;function ks(s){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.width,o=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],l=e.match(o);if(!l)return null;var r=l[0],u=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],p=Array.isArray(u)?g3(u,function(_){return _.test(r)}):b3(u,function(_){return _.test(r)}),h;h=s.valueCallback?s.valueCallback(p):p,h=n.valueCallback?n.valueCallback(h):h;var k=e.slice(r.length);return{value:h,rest:k}}}function b3(s,e){for(var n in s)if(s.hasOwnProperty(n)&&e(s[n]))return n}function g3(s,e){for(var n=0;n<s.length;n++)if(e(s[n]))return n}function y3(s){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.match(s.matchPattern);if(!a)return null;var o=a[0],l=e.match(s.parsePattern);if(!l)return null;var r=s.valueCallback?s.valueCallback(l[0]):l[0];r=n.valueCallback?n.valueCallback(r):r;var u=e.slice(o.length);return{value:r,rest:u}}}var $3=/^(\d+)(th|st|nd|rd)?/i,k3=/\d+/i,w3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C3={any:[/^b/i,/^(a|c)/i]},F3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},T3={any:[/1/i,/2/i,/3/i,/4/i]},D3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},S3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},j3={ordinalNumber:y3({matchPattern:$3,parsePattern:k3,valueCallback:function(e){return parseInt(e,10)}}),era:ks({matchPatterns:w3,defaultMatchWidth:"wide",parsePatterns:C3,defaultParseWidth:"any"}),quarter:ks({matchPatterns:F3,defaultMatchWidth:"wide",parsePatterns:T3,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ks({matchPatterns:D3,defaultMatchWidth:"wide",parsePatterns:S3,defaultParseWidth:"any"}),day:ks({matchPatterns:P3,defaultMatchWidth:"wide",parsePatterns:O3,defaultParseWidth:"any"}),dayPeriod:ks({matchPatterns:M3,defaultMatchWidth:"any",parsePatterns:A3,defaultParseWidth:"any"})};const q3=j3;var z3={code:"en-US",formatDistance:e3,formatLong:a3,formatRelative:r3,localize:v3,match:q3,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Jo=z3;var I3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U3=/^'([^]*?)'?$/,V3=/''/g,Y3=/[a-zA-Z]/;function Qt(s,e,n){var a,o,l,r,u,p,h,k,_,F,D,M,N,te,U,V,ne,S;fe(2,arguments);var H=String(e),W=jt(),L=(a=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:W.locale)!==null&&a!==void 0?a:Jo,he=we((l=(r=(u=(p=n==null?void 0:n.firstWeekContainsDate)!==null&&p!==void 0?p:n==null||(h=n.locale)===null||h===void 0||(k=h.options)===null||k===void 0?void 0:k.firstWeekContainsDate)!==null&&u!==void 0?u:W.firstWeekContainsDate)!==null&&r!==void 0?r:(_=W.locale)===null||_===void 0||(F=_.options)===null||F===void 0?void 0:F.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(he>=1&&he<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var oe=we((D=(M=(N=(te=n==null?void 0:n.weekStartsOn)!==null&&te!==void 0?te:n==null||(U=n.locale)===null||U===void 0||(V=U.options)===null||V===void 0?void 0:V.weekStartsOn)!==null&&N!==void 0?N:W.weekStartsOn)!==null&&M!==void 0?M:(ne=W.locale)===null||ne===void 0||(S=ne.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&D!==void 0?D:0);if(!(oe>=0&&oe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var $=$e(s);if(!Fs($))throw new RangeError("Invalid time value");var j=xs($),X=Lo($,j),re={firstWeekContainsDate:he,weekStartsOn:oe,locale:L,_originalDate:$},Y=H.match(R3).map(function(y){var q=y[0];if(q==="p"||q==="P"){var z=Dn[q];return z(y,L.formatLong)}return y}).join("").match(I3).map(function(y){if(y==="''")return"'";var q=y[0];if(q==="'")return B3(y);var z=Hw[q];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Zo(y)&&Ls(y,e,String(s)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Go(y)&&Ls(y,e,String(s)),z(X,y,L.localize,re);if(q.match(Y3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return y}).join("");return Y}function B3(s){var e=s.match(U3);return e?e[1].replace(V3,"'"):s}function N3(s,e){if(s==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}function Q3(s){fe(1,arguments);var e=$e(s),n=e.getDay();return n}function E3(s){fe(1,arguments);var e=$e(s),n=e.getFullYear(),a=e.getMonth(),o=new Date(0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function Ct(s){fe(1,arguments);var e=$e(s),n=e.getHours();return n}var x3=6048e5;function L3(s){fe(1,arguments);var e=$e(s),n=Es(e).getTime()-Ow(e).getTime();return Math.round(n/x3)+1}function At(s){fe(1,arguments);var e=$e(s),n=e.getMinutes();return n}function ze(s){fe(1,arguments);var e=$e(s),n=e.getMonth();return n}function ps(s){fe(1,arguments);var e=$e(s),n=e.getSeconds();return n}function H3(s,e){var n,a,o,l,r,u,p,h;fe(1,arguments);var k=$e(s),_=k.getFullYear(),F=jt(),D=we((n=(a=(o=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(r=e.locale)===null||r===void 0||(u=r.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:F.firstWeekContainsDate)!==null&&a!==void 0?a:(p=F.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=new Date(0);M.setFullYear(_+1,0,D),M.setHours(0,0,0,0);var N=ts(M,e),te=new Date(0);te.setFullYear(_,0,D),te.setHours(0,0,0,0);var U=ts(te,e);return k.getTime()>=N.getTime()?_+1:k.getTime()>=U.getTime()?_:_-1}function W3(s,e){var n,a,o,l,r,u,p,h;fe(1,arguments);var k=jt(),_=we((n=(a=(o=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(r=e.locale)===null||r===void 0||(u=r.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:k.firstWeekContainsDate)!==null&&a!==void 0?a:(p=k.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1),F=H3(s,e),D=new Date(0);D.setFullYear(F,0,_),D.setHours(0,0,0,0);var M=ts(D,e);return M}var K3=6048e5;function X3(s,e){fe(1,arguments);var n=$e(s),a=ts(n,e).getTime()-W3(n,e).getTime();return Math.round(a/K3)+1}function Me(s){return fe(1,arguments),$e(s).getFullYear()}function Ps(s,e){fe(2,arguments);var n=$e(s),a=$e(e);return n.getTime()>a.getTime()}function Os(s,e){fe(2,arguments);var n=$e(s),a=$e(e);return n.getTime()<a.getTime()}function us(s,e){fe(2,arguments);var n=$e(s),a=$e(e);return n.getTime()===a.getTime()}function _o(s,e){(e==null||e>s.length)&&(e=s.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=s[n];return a}function G3(s,e){if(s){if(typeof s=="string")return _o(s,e);var n=Object.prototype.toString.call(s).slice(8,-1);if(n==="Object"&&s.constructor&&(n=s.constructor.name),n==="Map"||n==="Set")return Array.from(s);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(s,e)}}function fo(s,e){var n=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!n){if(Array.isArray(s)||(n=G3(s))||e&&s&&typeof s.length=="number"){n&&(s=n);var a=0,o=function(){};return{s:o,n:function(){return a>=s.length?{done:!0}:{done:!1,value:s[a++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,r=!1,u;return{s:function(){n=n.call(s)},n:function(){var h=n.next();return l=h.done,h},e:function(h){r=!0,u=h},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(r)throw u}}}}function _e(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Sn(s,e){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},Sn(s,e)}function Ie(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&Sn(s,e)}function Hs(s){return Hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hs(s)}function ea(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ea=function(){return!!s})()}function Z3(s,e){if(e&&(gt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(s)}function Re(s){var e=ea();return function(){var a=Hs(s),o;if(e){var l=Hs(this).constructor;o=Reflect.construct(a,arguments,l)}else o=a.apply(this,arguments);return Z3(this,o)}}function je(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function J3(s,e){if(gt(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,e||"default");if(gt(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function ta(s){var e=J3(s,"string");return gt(e)=="symbol"?e:String(e)}function vo(s,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,ta(a.key),a)}}function qe(s,e,n){return e&&vo(s.prototype,e),n&&vo(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}function pe(s,e,n){return e=ta(e),e in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}var eC=10,sa=function(){function s(){je(this,s),pe(this,"priority",void 0),pe(this,"subPriority",0)}return qe(s,[{key:"validate",value:function(n,a){return!0}}]),s}(),tC=function(s){Ie(n,s);var e=Re(n);function n(a,o,l,r,u){var p;return je(this,n),p=e.call(this),p.value=a,p.validateValue=o,p.setValue=l,p.priority=r,u&&(p.subPriority=u),p}return qe(n,[{key:"validate",value:function(o,l){return this.validateValue(o,this.value,l)}},{key:"set",value:function(o,l,r){return this.setValue(o,l,this.value,r)}}]),n}(sa),sC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",eC),pe(_e(a),"subPriority",-1),a}return qe(n,[{key:"set",value:function(o,l){if(l.timestampIsSet)return o;var r=new Date(0);return r.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),r.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),r}}]),n}(sa),Ve=function(){function s(){je(this,s),pe(this,"incompatibleTokens",void 0),pe(this,"priority",void 0),pe(this,"subPriority",void 0)}return qe(s,[{key:"run",value:function(n,a,o,l){var r=this.parse(n,a,o,l);return r?{setter:new tC(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}},{key:"validate",value:function(n,a,o){return!0}}]),s}(),nC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",140),pe(_e(a),"incompatibleTokens",["R","u","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"})||r.era(o,{width:"narrow"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})||r.era(o,{width:"abbreviated"})||r.era(o,{width:"narrow"})}}},{key:"set",value:function(o,l,r){return l.era=r,o.setUTCFullYear(r,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),We={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Pt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ke(s,e){return s&&{value:e(s.value),rest:s.rest}}function Le(s,e){var n=e.match(s);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ot(s,e){var n=e.match(s);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var a=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,r=n[5]?parseInt(n[5],10):0;return{value:a*(o*Bn+l*Yn+r*qw),rest:e.slice(n[0].length)}}function na(s){return Le(We.anyDigitsSigned,s)}function He(s,e){switch(s){case 1:return Le(We.singleDigit,e);case 2:return Le(We.twoDigits,e);case 3:return Le(We.threeDigits,e);case 4:return Le(We.fourDigits,e);default:return Le(new RegExp("^\\d{1,"+s+"}"),e)}}function Ws(s,e){switch(s){case 1:return Le(We.singleDigitSigned,e);case 2:return Le(We.twoDigitsSigned,e);case 3:return Le(We.threeDigitsSigned,e);case 4:return Le(We.fourDigitsSigned,e);default:return Le(new RegExp("^-?\\d{1,"+s+"}"),e)}}function Qn(s){switch(s){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function oa(s,e){var n=e>0,a=n?e:1-e,o;if(a<=50)o=s||100;else{var l=a+50,r=Math.floor(l/100)*100,u=s>=l%100;o=s+r-(u?100:0)}return n?o:1-o}function aa(s){return s%400===0||s%4===0&&s%100!==0}var oC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",130),pe(_e(a),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){var u=function(h){return{year:h,isTwoDigitYear:l==="yy"}};switch(l){case"y":return Ke(He(4,o),u);case"yo":return Ke(r.ordinalNumber(o,{unit:"year"}),u);default:return Ke(He(l.length,o),u)}}},{key:"validate",value:function(o,l){return l.isTwoDigitYear||l.year>0}},{key:"set",value:function(o,l,r){var u=o.getUTCFullYear();if(r.isTwoDigitYear){var p=oa(r.year,u);return o.setUTCFullYear(p,0,1),o.setUTCHours(0,0,0,0),o}var h=!("era"in l)||l.era===1?r.year:1-r.year;return o.setUTCFullYear(h,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),aC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",130),pe(_e(a),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){var u=function(h){return{year:h,isTwoDigitYear:l==="YY"}};switch(l){case"Y":return Ke(He(4,o),u);case"Yo":return Ke(r.ordinalNumber(o,{unit:"year"}),u);default:return Ke(He(l.length,o),u)}}},{key:"validate",value:function(o,l){return l.isTwoDigitYear||l.year>0}},{key:"set",value:function(o,l,r,u){var p=Nn(o,u);if(r.isTwoDigitYear){var h=oa(r.year,p);return o.setUTCFullYear(h,0,u.firstWeekContainsDate),o.setUTCHours(0,0,0,0),ss(o,u)}var k=!("era"in l)||l.era===1?r.year:1-r.year;return o.setUTCFullYear(k,0,u.firstWeekContainsDate),o.setUTCHours(0,0,0,0),ss(o,u)}}]),n}(Ve),lC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",130),pe(_e(a),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l){return Ws(l==="R"?4:l.length,o)}},{key:"set",value:function(o,l,r){var u=new Date(0);return u.setUTCFullYear(r,0,4),u.setUTCHours(0,0,0,0),ms(u)}}]),n}(Ve),iC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",130),pe(_e(a),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l){return Ws(l==="u"?4:l.length,o)}},{key:"set",value:function(o,l,r){return o.setUTCFullYear(r,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),rC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",120),pe(_e(a),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"Q":case"QQ":return He(l.length,o);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"})||r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})||r.quarter(o,{width:"abbreviated",context:"formatting"})||r.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,l){return l>=1&&l<=4}},{key:"set",value:function(o,l,r){return o.setUTCMonth((r-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),dC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",120),pe(_e(a),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"q":case"qq":return He(l.length,o);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"})||r.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})||r.quarter(o,{width:"abbreviated",context:"standalone"})||r.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,l){return l>=1&&l<=4}},{key:"set",value:function(o,l,r){return o.setUTCMonth((r-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),uC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),pe(_e(a),"priority",110),a}return qe(n,[{key:"parse",value:function(o,l,r){var u=function(h){return h-1};switch(l){case"M":return Ke(Le(We.month,o),u);case"MM":return Ke(He(2,o),u);case"Mo":return Ke(r.ordinalNumber(o,{unit:"month"}),u);case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"})||r.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})||r.month(o,{width:"abbreviated",context:"formatting"})||r.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,l){return l>=0&&l<=11}},{key:"set",value:function(o,l,r){return o.setUTCMonth(r,1),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),cC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",110),pe(_e(a),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){var u=function(h){return h-1};switch(l){case"L":return Ke(Le(We.month,o),u);case"LL":return Ke(He(2,o),u);case"Lo":return Ke(r.ordinalNumber(o,{unit:"month"}),u);case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"})||r.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})||r.month(o,{width:"abbreviated",context:"standalone"})||r.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,l){return l>=0&&l<=11}},{key:"set",value:function(o,l,r){return o.setUTCMonth(r,1),o.setUTCHours(0,0,0,0),o}}]),n}(Ve);function mC(s,e,n){fe(2,arguments);var a=$e(s),o=we(e),l=Ko(a,n)-o;return a.setUTCDate(a.getUTCDate()-l*7),a}var pC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",100),pe(_e(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"w":return Le(We.week,o);case"wo":return r.ordinalNumber(o,{unit:"week"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=1&&l<=53}},{key:"set",value:function(o,l,r,u){return ss(mC(o,r,u),u)}}]),n}(Ve);function hC(s,e){fe(2,arguments);var n=$e(s),a=we(e),o=Wo(n)-a;return n.setUTCDate(n.getUTCDate()-o*7),n}var _C=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",100),pe(_e(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"I":return Le(We.week,o);case"Io":return r.ordinalNumber(o,{unit:"week"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=1&&l<=53}},{key:"set",value:function(o,l,r){return ms(hC(o,r))}}]),n}(Ve),fC=[31,28,31,30,31,30,31,31,30,31,30,31],vC=[31,29,31,30,31,30,31,31,30,31,30,31],bC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",90),pe(_e(a),"subPriority",1),pe(_e(a),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"d":return Le(We.date,o);case"do":return r.ordinalNumber(o,{unit:"date"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){var r=o.getUTCFullYear(),u=aa(r),p=o.getUTCMonth();return u?l>=1&&l<=vC[p]:l>=1&&l<=fC[p]}},{key:"set",value:function(o,l,r){return o.setUTCDate(r),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),gC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",90),pe(_e(a),"subpriority",1),pe(_e(a),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"D":case"DD":return Le(We.dayOfYear,o);case"Do":return r.ordinalNumber(o,{unit:"date"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){var r=o.getUTCFullYear(),u=aa(r);return u?l>=1&&l<=366:l>=1&&l<=365}},{key:"set",value:function(o,l,r){return o.setUTCMonth(0,r),o.setUTCHours(0,0,0,0),o}}]),n}(Ve);function En(s,e,n){var a,o,l,r,u,p,h,k;fe(2,arguments);var _=jt(),F=we((a=(o=(l=(r=n==null?void 0:n.weekStartsOn)!==null&&r!==void 0?r:n==null||(u=n.locale)===null||u===void 0||(p=u.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&l!==void 0?l:_.weekStartsOn)!==null&&o!==void 0?o:(h=_.locale)===null||h===void 0||(k=h.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&a!==void 0?a:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var D=$e(s),M=we(e),N=D.getUTCDay(),te=M%7,U=(te+7)%7,V=(U<F?7:0)+M-N;return D.setUTCDate(D.getUTCDate()+V),D}var yC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",90),pe(_e(a),"incompatibleTokens",["D","i","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,l){return l>=0&&l<=6}},{key:"set",value:function(o,l,r,u){return o=En(o,r,u),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),$C=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",90),pe(_e(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r,u){var p=function(k){var _=Math.floor((k-1)/7)*7;return(k+u.weekStartsOn+6)%7+_};switch(l){case"e":case"ee":return Ke(He(l.length,o),p);case"eo":return Ke(r.ordinalNumber(o,{unit:"day"}),p);case"eee":return r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,l){return l>=0&&l<=6}},{key:"set",value:function(o,l,r,u){return o=En(o,r,u),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),kC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",90),pe(_e(a),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r,u){var p=function(k){var _=Math.floor((k-1)/7)*7;return(k+u.weekStartsOn+6)%7+_};switch(l){case"c":case"cc":return Ke(He(l.length,o),p);case"co":return Ke(r.ordinalNumber(o,{unit:"day"}),p);case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"})||r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})||r.day(o,{width:"abbreviated",context:"standalone"})||r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,l){return l>=0&&l<=6}},{key:"set",value:function(o,l,r,u){return o=En(o,r,u),o.setUTCHours(0,0,0,0),o}}]),n}(Ve);function wC(s,e){fe(2,arguments);var n=we(e);n%7===0&&(n=n-7);var a=1,o=$e(s),l=o.getUTCDay(),r=n%7,u=(r+7)%7,p=(u<a?7:0)+n-l;return o.setUTCDate(o.getUTCDate()+p),o}var CC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",90),pe(_e(a),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){var u=function(h){return h===0?7:h};switch(l){case"i":case"ii":return He(l.length,o);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return Ke(r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u);case"iiiii":return Ke(r.day(o,{width:"narrow",context:"formatting"}),u);case"iiiiii":return Ke(r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u);case"iiii":default:return Ke(r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(o,l){return l>=1&&l<=7}},{key:"set",value:function(o,l,r){return o=wC(o,r),o.setUTCHours(0,0,0,0),o}}]),n}(Ve),FC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",80),pe(_e(a),"incompatibleTokens",["b","B","H","k","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"a":case"aa":case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,l,r){return o.setUTCHours(Qn(r),0,0,0),o}}]),n}(Ve),TC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",80),pe(_e(a),"incompatibleTokens",["a","B","H","k","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"b":case"bb":case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,l,r){return o.setUTCHours(Qn(r),0,0,0),o}}]),n}(Ve),DC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",80),pe(_e(a),"incompatibleTokens",["a","b","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,l,r){return o.setUTCHours(Qn(r),0,0,0),o}}]),n}(Ve),SC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",70),pe(_e(a),"incompatibleTokens",["H","K","k","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"h":return Le(We.hour12h,o);case"ho":return r.ordinalNumber(o,{unit:"hour"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=1&&l<=12}},{key:"set",value:function(o,l,r){var u=o.getUTCHours()>=12;return u&&r<12?o.setUTCHours(r+12,0,0,0):!u&&r===12?o.setUTCHours(0,0,0,0):o.setUTCHours(r,0,0,0),o}}]),n}(Ve),PC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",70),pe(_e(a),"incompatibleTokens",["a","b","h","K","k","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"H":return Le(We.hour23h,o);case"Ho":return r.ordinalNumber(o,{unit:"hour"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=0&&l<=23}},{key:"set",value:function(o,l,r){return o.setUTCHours(r,0,0,0),o}}]),n}(Ve),OC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",70),pe(_e(a),"incompatibleTokens",["h","H","k","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"K":return Le(We.hour11h,o);case"Ko":return r.ordinalNumber(o,{unit:"hour"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=0&&l<=11}},{key:"set",value:function(o,l,r){var u=o.getUTCHours()>=12;return u&&r<12?o.setUTCHours(r+12,0,0,0):o.setUTCHours(r,0,0,0),o}}]),n}(Ve),MC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",70),pe(_e(a),"incompatibleTokens",["a","b","h","H","K","t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"k":return Le(We.hour24h,o);case"ko":return r.ordinalNumber(o,{unit:"hour"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=1&&l<=24}},{key:"set",value:function(o,l,r){var u=r<=24?r%24:r;return o.setUTCHours(u,0,0,0),o}}]),n}(Ve),AC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",60),pe(_e(a),"incompatibleTokens",["t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"m":return Le(We.minute,o);case"mo":return r.ordinalNumber(o,{unit:"minute"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=0&&l<=59}},{key:"set",value:function(o,l,r){return o.setUTCMinutes(r,0,0),o}}]),n}(Ve),jC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",50),pe(_e(a),"incompatibleTokens",["t","T"]),a}return qe(n,[{key:"parse",value:function(o,l,r){switch(l){case"s":return Le(We.second,o);case"so":return r.ordinalNumber(o,{unit:"second"});default:return He(l.length,o)}}},{key:"validate",value:function(o,l){return l>=0&&l<=59}},{key:"set",value:function(o,l,r){return o.setUTCSeconds(r,0),o}}]),n}(Ve),qC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",30),pe(_e(a),"incompatibleTokens",["t","T"]),a}return qe(n,[{key:"parse",value:function(o,l){var r=function(p){return Math.floor(p*Math.pow(10,-l.length+3))};return Ke(He(l.length,o),r)}},{key:"set",value:function(o,l,r){return o.setUTCMilliseconds(r),o}}]),n}(Ve),zC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",10),pe(_e(a),"incompatibleTokens",["t","T","x"]),a}return qe(n,[{key:"parse",value:function(o,l){switch(l){case"X":return Ot(Pt.basicOptionalMinutes,o);case"XX":return Ot(Pt.basic,o);case"XXXX":return Ot(Pt.basicOptionalSeconds,o);case"XXXXX":return Ot(Pt.extendedOptionalSeconds,o);case"XXX":default:return Ot(Pt.extended,o)}}},{key:"set",value:function(o,l,r){return l.timestampIsSet?o:new Date(o.getTime()-r)}}]),n}(Ve),IC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",10),pe(_e(a),"incompatibleTokens",["t","T","X"]),a}return qe(n,[{key:"parse",value:function(o,l){switch(l){case"x":return Ot(Pt.basicOptionalMinutes,o);case"xx":return Ot(Pt.basic,o);case"xxxx":return Ot(Pt.basicOptionalSeconds,o);case"xxxxx":return Ot(Pt.extendedOptionalSeconds,o);case"xxx":default:return Ot(Pt.extended,o)}}},{key:"set",value:function(o,l,r){return l.timestampIsSet?o:new Date(o.getTime()-r)}}]),n}(Ve),RC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",40),pe(_e(a),"incompatibleTokens","*"),a}return qe(n,[{key:"parse",value:function(o){return na(o)}},{key:"set",value:function(o,l,r){return[new Date(r*1e3),{timestampIsSet:!0}]}}]),n}(Ve),UC=function(s){Ie(n,s);var e=Re(n);function n(){var a;je(this,n);for(var o=arguments.length,l=new Array(o),r=0;r<o;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l)),pe(_e(a),"priority",20),pe(_e(a),"incompatibleTokens","*"),a}return qe(n,[{key:"parse",value:function(o){return na(o)}},{key:"set",value:function(o,l,r){return[new Date(r),{timestampIsSet:!0}]}}]),n}(Ve),VC={G:new nC,y:new oC,Y:new aC,R:new lC,u:new iC,Q:new rC,q:new dC,M:new uC,L:new cC,w:new pC,I:new _C,d:new bC,D:new gC,E:new yC,e:new $C,c:new kC,i:new CC,a:new FC,b:new TC,B:new DC,h:new SC,H:new PC,K:new OC,k:new MC,m:new AC,s:new jC,S:new qC,X:new zC,x:new IC,t:new RC,T:new UC},YC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NC=/^'([^]*?)'?$/,QC=/''/g,EC=/\S/,xC=/[a-zA-Z]/;function Pn(s,e,n,a){var o,l,r,u,p,h,k,_,F,D,M,N,te,U,V,ne,S,H;fe(3,arguments);var W=String(s),L=String(e),he=jt(),oe=(o=(l=a==null?void 0:a.locale)!==null&&l!==void 0?l:he.locale)!==null&&o!==void 0?o:Jo;if(!oe.match)throw new RangeError("locale must contain match property");var $=we((r=(u=(p=(h=a==null?void 0:a.firstWeekContainsDate)!==null&&h!==void 0?h:a==null||(k=a.locale)===null||k===void 0||(_=k.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&p!==void 0?p:he.firstWeekContainsDate)!==null&&u!==void 0?u:(F=he.locale)===null||F===void 0||(D=F.options)===null||D===void 0?void 0:D.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!($>=1&&$<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=we((M=(N=(te=(U=a==null?void 0:a.weekStartsOn)!==null&&U!==void 0?U:a==null||(V=a.locale)===null||V===void 0||(ne=V.options)===null||ne===void 0?void 0:ne.weekStartsOn)!==null&&te!==void 0?te:he.weekStartsOn)!==null&&N!==void 0?N:(S=he.locale)===null||S===void 0||(H=S.options)===null||H===void 0?void 0:H.weekStartsOn)!==null&&M!==void 0?M:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(L==="")return W===""?$e(n):new Date(NaN);var X={firstWeekContainsDate:$,weekStartsOn:j,locale:oe},re=[new sC],Y=L.match(BC).map(function(be){var ee=be[0];if(ee in Dn){var Te=Dn[ee];return Te(be,oe.formatLong)}return be}).join("").match(YC),y=[],q=fo(Y),z;try{var K=function(){var ee=z.value;!(a!=null&&a.useAdditionalWeekYearTokens)&&Zo(ee)&&Ls(ee,L,s),!(a!=null&&a.useAdditionalDayOfYearTokens)&&Go(ee)&&Ls(ee,L,s);var Te=ee[0],ge=VC[Te];if(ge){var x=ge.incompatibleTokens;if(Array.isArray(x)){var ie=y.find(function(ue){return x.includes(ue.token)||ue.token===Te});if(ie)throw new RangeError("The format string mustn't contain `".concat(ie.fullToken,"` and `").concat(ee,"` at the same time"))}else if(ge.incompatibleTokens==="*"&&y.length>0)throw new RangeError("The format string mustn't contain `".concat(ee,"` and any other token at the same time"));y.push({token:Te,fullToken:ee});var Se=ge.run(W,ee,oe.match,X);if(!Se)return{v:new Date(NaN)};re.push(Se.setter),W=Se.rest}else{if(Te.match(xC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Te+"`");if(ee==="''"?ee="'":Te==="'"&&(ee=LC(ee)),W.indexOf(ee)===0)W=W.slice(ee.length);else return{v:new Date(NaN)}}};for(q.s();!(z=q.n()).done;){var f=K();if(gt(f)==="object")return f.v}}catch(be){q.e(be)}finally{q.f()}if(W.length>0&&EC.test(W))return new Date(NaN);var m=re.map(function(be){return be.priority}).sort(function(be,ee){return ee-be}).filter(function(be,ee,Te){return Te.indexOf(be)===ee}).map(function(be){return re.filter(function(ee){return ee.priority===be}).sort(function(ee,Te){return Te.subPriority-ee.subPriority})}).map(function(be){return be[0]}),A=$e(n);if(isNaN(A.getTime()))return new Date(NaN);var B=Lo(A,xs(A)),le={},de=fo(m),I;try{for(de.s();!(I=de.n()).done;){var g=I.value;if(!g.validate(B,X))return new Date(NaN);var ve=g.set(B,le,X);Array.isArray(ve)?(B=ve[0],N3(le,ve[1])):B=ve}}catch(be){de.e(be)}finally{de.f()}return B}function LC(s){return s.match(NC)[1].replace(QC,"'")}function bo(s,e){fe(2,arguments);var n=Ss(s),a=Ss(e);return n.getTime()===a.getTime()}function HC(s,e){fe(2,arguments);var n=we(e);return zt(s,-n)}function WC(s,e){var n;fe(1,arguments);var a=we((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof s=="string"||Object.prototype.toString.call(s)==="[object String]"))return new Date(NaN);var o=ZC(s),l;if(o.date){var r=JC(o.date,a);l=e5(r.restDateString,r.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);var u=l.getTime(),p=0,h;if(o.time&&(p=t5(o.time),isNaN(p)))return new Date(NaN);if(o.timezone){if(h=s5(o.timezone),isNaN(h))return new Date(NaN)}else{var k=new Date(u+p),_=new Date(0);return _.setFullYear(k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate()),_.setHours(k.getUTCHours(),k.getUTCMinutes(),k.getUTCSeconds(),k.getUTCMilliseconds()),_}return new Date(u+p+h)}var Vs={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,XC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,GC=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ZC(s){var e={},n=s.split(Vs.dateTimeDelimiter),a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],Vs.timeZoneDelimiter.test(e.date)&&(e.date=s.split(Vs.timeZoneDelimiter)[0],a=s.substr(e.date.length,s.length))),a){var o=Vs.timezone.exec(a);o?(e.time=a.replace(o[1],""),e.timezone=o[1]):e.time=a}return e}function JC(s,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=s.match(n);if(!a)return{year:NaN,restDateString:""};var o=a[1]?parseInt(a[1]):null,l=a[2]?parseInt(a[2]):null;return{year:l===null?o:l*100,restDateString:s.slice((a[1]||a[2]).length)}}function e5(s,e){if(e===null)return new Date(NaN);var n=s.match(KC);if(!n)return new Date(NaN);var a=!!n[4],o=ws(n[1]),l=ws(n[2])-1,r=ws(n[3]),u=ws(n[4]),p=ws(n[5])-1;if(a)return i5(e,u,p)?n5(e,u,p):new Date(NaN);var h=new Date(0);return!a5(e,l,r)||!l5(e,o)?new Date(NaN):(h.setUTCFullYear(e,l,Math.max(o,r)),h)}function ws(s){return s?parseInt(s):1}function t5(s){var e=s.match(XC);if(!e)return NaN;var n=un(e[1]),a=un(e[2]),o=un(e[3]);return r5(n,a,o)?n*Bn+a*Yn+o*1e3:NaN}function un(s){return s&&parseFloat(s.replace(",","."))||0}function s5(s){if(s==="Z")return 0;var e=s.match(GC);if(!e)return 0;var n=e[1]==="+"?-1:1,a=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return d5(a,o)?n*(a*Bn+o*Yn):NaN}function n5(s,e,n){var a=new Date(0);a.setUTCFullYear(s,0,4);var o=a.getUTCDay()||7,l=(e-1)*7+n+1-o;return a.setUTCDate(a.getUTCDate()+l),a}var o5=[31,null,31,30,31,30,31,31,30,31,30,31];function la(s){return s%400===0||s%4===0&&s%100!==0}function a5(s,e,n){return e>=0&&e<=11&&n>=1&&n<=(o5[e]||(la(s)?29:28))}function l5(s,e){return e>=1&&e<=(la(s)?366:365)}function i5(s,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function r5(s,e,n){return s===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&s>=0&&s<25}function d5(s,e){return e>=0&&e<=59}function ia(s,e){fe(2,arguments);var n=$e(s),a=we(e),o=n.getFullYear(),l=n.getDate(),r=new Date(0);r.setFullYear(o,a,15),r.setHours(0,0,0,0);var u=E3(r);return n.setMonth(a,Math.min(l,u)),n}function Ee(s,e){if(fe(2,arguments),gt(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var n=$e(s);return isNaN(n.getTime())?new Date(NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=ia(n,e.month)),e.date!=null&&n.setDate(we(e.date)),e.hours!=null&&n.setHours(we(e.hours)),e.minutes!=null&&n.setMinutes(we(e.minutes)),e.seconds!=null&&n.setSeconds(we(e.seconds)),e.milliseconds!=null&&n.setMilliseconds(we(e.milliseconds)),n)}function ra(s,e){fe(2,arguments);var n=$e(s),a=we(e);return n.setHours(a),n}function xn(s,e){fe(2,arguments);var n=$e(s),a=we(e);return n.setMilliseconds(a),n}function da(s,e){fe(2,arguments);var n=$e(s),a=we(e);return n.setMinutes(a),n}function Ln(s,e){fe(2,arguments);var n=$e(s),a=we(e);return n.setSeconds(a),n}function Mt(s,e){fe(2,arguments);var n=$e(s),a=we(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}function hs(s,e){fe(2,arguments);var n=we(e);return wt(s,-n)}function u5(s,e){if(fe(2,arguments),!e||gt(e)!=="object")return new Date(NaN);var n=e.years?we(e.years):0,a=e.months?we(e.months):0,o=e.weeks?we(e.weeks):0,l=e.days?we(e.days):0,r=e.hours?we(e.hours):0,u=e.minutes?we(e.minutes):0,p=e.seconds?we(e.seconds):0,h=hs(s,a+n*12),k=HC(h,l+o*7),_=u+r*60,F=p+_*60,D=F*1e3,M=new Date(k.getTime()-D);return M}function ua(s,e){fe(2,arguments);var n=we(e);return Vn(s,-n)}function bs(){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[t("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),t("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),t("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),t("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}bs.compatConfig={MODE:3};function ca(){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[t("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),t("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ca.compatConfig={MODE:3};function Hn(){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[t("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Hn.compatConfig={MODE:3};function Wn(){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[t("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Wn.compatConfig={MODE:3};function Kn(){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[t("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),t("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Kn.compatConfig={MODE:3};function Xn(){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[t("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Xn.compatConfig={MODE:3};function Gn(){return i(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[t("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Gn.compatConfig={MODE:3};function Zn(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ma={exports:{}};(function(s){function e(n){return n&&n.__esModule?n:{default:n}}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports})(ma);var c5=ma.exports,On={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(a){if(a===null||a===!0||a===!1)return NaN;var o=Number(a);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}s.exports=e.default})(On,On.exports);var m5=On.exports;const p5=Zn(m5);var Mn={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(a){var o=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return o.setUTCFullYear(a.getFullYear()),a.getTime()-o.getTime()}s.exports=e.default})(Mn,Mn.exports);var h5=Mn.exports;const go=Zn(h5);function _5(s,e){var n=g5(e);return n.formatToParts?v5(n,s):b5(n,s)}var f5={year:0,month:1,day:2,hour:3,minute:4,second:5};function v5(s,e){try{for(var n=s.formatToParts(e),a=[],o=0;o<n.length;o++){var l=f5[n[o].type];l>=0&&(a[l]=parseInt(n[o].value,10))}return a}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function b5(s,e){var n=s.format(e).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[a[3],a[1],a[2],a[4],a[5],a[6]]}var cn={};function g5(s){if(!cn[s]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";cn[s]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:s,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return cn[s]}function Jn(s,e,n,a,o,l,r){var u=new Date(0);return u.setUTCFullYear(s,e,n),u.setUTCHours(a,o,l,r),u}var yo=36e5,y5=6e4,mn={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function eo(s,e,n){var a,o;if(s===""||(a=mn.timezoneZ.exec(s),a))return 0;var l;if(a=mn.timezoneHH.exec(s),a)return l=parseInt(a[1],10),$o(l)?-(l*yo):NaN;if(a=mn.timezoneHHMM.exec(s),a){l=parseInt(a[1],10);var r=parseInt(a[2],10);return $o(l,r)?(o=Math.abs(l)*yo+r*y5,l>0?-o:o):NaN}if(w5(s)){e=new Date(e||Date.now());var u=n?e:$5(e),p=An(u,s),h=n?p:k5(e,p,s);return-h}return NaN}function $5(s){return Jn(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}function An(s,e){var n=_5(s,e),a=Jn(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),o=s.getTime(),l=o%1e3;return o-=l>=0?l:1e3+l,a-o}function k5(s,e,n){var a=s.getTime(),o=a-e,l=An(new Date(o),n);if(e===l)return e;o-=l-e;var r=An(new Date(o),n);return l===r?l:Math.max(l,r)}function $o(s,e){return-23<=s&&s<=23&&(e==null||0<=e&&e<=59)}var ko={};function w5(s){if(ko[s])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:s}),ko[s]=!0,!0}catch{return!1}}var pa=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,pn=36e5,wo=6e4,C5=2,ut={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:pa};function jn(s,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(s===null)return new Date(NaN);var n=e||{},a=n.additionalDigits==null?C5:p5(n.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]")return new Date(s.getTime());if(typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]")return new Date(s);if(!(typeof s=="string"||Object.prototype.toString.call(s)==="[object String]"))return new Date(NaN);var o=F5(s),l=T5(o.date,a),r=l.year,u=l.restDateString,p=D5(u,r);if(isNaN(p))return new Date(NaN);if(p){var h=p.getTime(),k=0,_;if(o.time&&(k=S5(o.time),isNaN(k)))return new Date(NaN);if(o.timeZone||n.timeZone){if(_=eo(o.timeZone||n.timeZone,new Date(h+k)),isNaN(_))return new Date(NaN)}else _=go(new Date(h+k)),_=go(new Date(h+k+_));return new Date(h+k+_)}else return new Date(NaN)}function F5(s){var e={},n=ut.dateTimePattern.exec(s),a;if(n?(e.date=n[1],a=n[3]):(n=ut.datePattern.exec(s),n?(e.date=n[1],a=n[2]):(e.date=null,a=s)),a){var o=ut.timeZone.exec(a);o?(e.time=a.replace(o[1],""),e.timeZone=o[1].trim()):e.time=a}return e}function T5(s,e){var n=ut.YYY[e],a=ut.YYYYY[e],o;if(o=ut.YYYY.exec(s)||a.exec(s),o){var l=o[1];return{year:parseInt(l,10),restDateString:s.slice(l.length)}}if(o=ut.YY.exec(s)||n.exec(s),o){var r=o[1];return{year:parseInt(r,10)*100,restDateString:s.slice(r.length)}}return{year:null}}function D5(s,e){if(e===null)return null;var n,a,o,l;if(s.length===0)return a=new Date(0),a.setUTCFullYear(e),a;if(n=ut.MM.exec(s),n)return a=new Date(0),o=parseInt(n[1],10)-1,Fo(e,o)?(a.setUTCFullYear(e,o),a):new Date(NaN);if(n=ut.DDD.exec(s),n){a=new Date(0);var r=parseInt(n[1],10);return M5(e,r)?(a.setUTCFullYear(e,0,r),a):new Date(NaN)}if(n=ut.MMDD.exec(s),n){a=new Date(0),o=parseInt(n[1],10)-1;var u=parseInt(n[2],10);return Fo(e,o,u)?(a.setUTCFullYear(e,o,u),a):new Date(NaN)}if(n=ut.Www.exec(s),n)return l=parseInt(n[1],10)-1,To(e,l)?Co(e,l):new Date(NaN);if(n=ut.WwwD.exec(s),n){l=parseInt(n[1],10)-1;var p=parseInt(n[2],10)-1;return To(e,l,p)?Co(e,l,p):new Date(NaN)}return null}function S5(s){var e,n,a;if(e=ut.HH.exec(s),e)return n=parseFloat(e[1].replace(",",".")),hn(n)?n%24*pn:NaN;if(e=ut.HHMM.exec(s),e)return n=parseInt(e[1],10),a=parseFloat(e[2].replace(",",".")),hn(n,a)?n%24*pn+a*wo:NaN;if(e=ut.HHMMSS.exec(s),e){n=parseInt(e[1],10),a=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return hn(n,a,o)?n%24*pn+a*wo+o*1e3:NaN}return null}function Co(s,e,n){e=e||0,n=n||0;var a=new Date(0);a.setUTCFullYear(s,0,4);var o=a.getUTCDay()||7,l=e*7+n+1-o;return a.setUTCDate(a.getUTCDate()+l),a}var P5=[31,28,31,30,31,30,31,31,30,31,30,31],O5=[31,29,31,30,31,30,31,31,30,31,30,31];function ha(s){return s%400===0||s%4===0&&s%100!==0}function Fo(s,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var a=ha(s);if(a&&n>O5[e]||!a&&n>P5[e])return!1}return!0}function M5(s,e){if(e<1)return!1;var n=ha(s);return!(n&&e>366||!n&&e>365)}function To(s,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function hn(s,e,n){return!(s!=null&&(s<0||s>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}var qn={exports:{}},zn={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(a,o){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l]);return a}s.exports=e.default})(zn,zn.exports);var A5=zn.exports;(function(s,e){var n=c5.default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var a=n(A5);function o(l){return(0,a.default)({},l)}s.exports=e.default})(qn,qn.exports);var j5=qn.exports;const q5=Zn(j5);function z5(s,e,n){var a=jn(s,n),o=eo(e,a,!0),l=new Date(a.getTime()-o),r=new Date(0);return r.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),r.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),r}function I5(s,e,n){if(typeof s=="string"&&!s.match(pa)){var a=q5(n);return a.timeZone=e,jn(s,a)}var o=jn(s,n),l=Jn(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),r=eo(e,new Date(l));return new Date(l+r)}function Do(s){return e=>new Intl.DateTimeFormat(s,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function R5(s){return e=>Qt(new Date(`2017-01-0${e}T00:00:00+00:00`),"EEEEEE",{locale:s})}const U5=(s,e,n)=>{const a=[1,2,3,4,5,6,7];let o;if(s!==null)try{o=a.map(R5(s))}catch{o=a.map(Do(e))}else o=a.map(Do(e));const l=o.slice(0,n),r=o.slice(n+1,o.length);return[o[n]].concat(...r).concat(...l)},to=(s,e)=>{const n=[];for(let a=+s[0];a<=+s[1];a++)n.push({value:+a,text:`${a}`});return e?n.reverse():n},_a=(s,e,n)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const r=l<10?`0${l}`:l;return new Date(`2017-${r}-01T00:00:00+00:00`)});if(s!==null)try{const l=n==="long"?"MMMM":"MMM";return a.map((r,u)=>{const p=Qt(r,l,{locale:s});return{text:p.charAt(0).toUpperCase()+p.substring(1),value:u}})}catch{}const o=new Intl.DateTimeFormat(e,{month:n,timeZone:"UTC"});return a.map((l,r)=>{const u=o.format(l);return{text:u.charAt(0).toUpperCase()+u.substring(1),value:r}})},V5=s=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][s],Je=s=>{const e=C(s);return e!=null&&e.$el?e==null?void 0:e.$el:e},Y5=s=>Object.assign({type:"dot"},s),fa=s=>Array.isArray(s)?!!s[0]&&!!s[1]:!1,Ks={prop:s=>`"${s}" prop must be enabled!`,dateArr:s=>`You need to use array as "model-value" binding in order to support "${s}"`},et=s=>s,So=s=>s===0?s:!s||isNaN(+s)?null:+s,Po=s=>s===null,B5=s=>{if(s)return[...s.querySelectorAll("input, button, select, textarea, a[href]")][0]},N5=s=>{const e=[],n=a=>a.filter(o=>o);for(let a=0;a<s.length;a+=3){const o=[s[a],s[a+1],s[a+2]];e.push(n(o))}return e},Ms=(s,e,n)=>{const a=n!=null,o=e!=null;if(!a&&!o)return!1;const l=+n,r=+e;return a&&o?+s>l||+s<r:a?+s>l:o?+s<r:!1},_s=(s,e)=>N5(s).map(n=>n.map(a=>{const{active:o,disabled:l,isBetween:r,highlighted:u}=e(a);return{...a,active:o,disabled:l,className:{dp__overlay_cell_active:o,dp__overlay_cell:!o,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&o,dp__cell_in_between:r,"dp--highlighted":u}}})),Et=(s,e,n=!1)=>{s&&e.allowStopPropagation&&(n&&s.stopImmediatePropagation(),s.stopPropagation())},Q5=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function E5(s,e){let n=[...document.querySelectorAll(Q5())];n=n.filter(o=>!s.contains(o)||o.hasAttribute("data-datepicker-instance"));const a=n.indexOf(s);if(a>=0&&(e?a-1>=0:a+1<=n.length))return n[a+(e?-1:1)]}const x5=(s,e)=>{let n;return function(...a){clearTimeout(n),n=setTimeout(()=>{s(...a)},e)}},Oo=(s,e,n,a,o)=>{const l=Pn(s,e.slice(0,s.length),new Date);return Fs(l)&&Eo(l)?a||o?l:Ee(l,{hours:+n.hours,minutes:+(n==null?void 0:n.minutes),seconds:+(n==null?void 0:n.seconds),milliseconds:0}):null},L5=(s,e,n,a,o)=>{const l=Array.isArray(n)?n[0]:n;if(typeof e=="string")return Oo(s,e,l,a,o);if(Array.isArray(e)){let r=null;for(const u of e)if(r=Oo(s,u,l,a,o),r)break;return r}return typeof e=="function"?e(s):null},Z=s=>s?new Date(s):new Date,H5=(s,e,n)=>{if(e){const o=(s.getMonth()+1).toString().padStart(2,"0"),l=s.getDate().toString().padStart(2,"0"),r=s.getHours().toString().padStart(2,"0"),u=s.getMinutes().toString().padStart(2,"0"),p=n?s.getSeconds().toString().padStart(2,"0"):"00";return`${s.getFullYear()}-${o}-${l}T${r}:${u}:${p}.000Z`}const a=Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds());return new Date(a).toISOString()},it=s=>{let e=Z(JSON.parse(JSON.stringify(s)));return e=ra(e,0),e=da(e,0),e=Ln(e,0),e=xn(e,0),e},xt=(s,e,n,a)=>{let o=s?Z(s):Z();return(e||e===0)&&(o=ra(o,+e)),(n||n===0)&&(o=da(o,+n)),(a||a===0)&&(o=Ln(o,+a)),xn(o,0)},nt=(s,e)=>!s||!e?!1:Os(it(s),it(e)),Ue=(s,e)=>!s||!e?!1:us(it(s),it(e)),lt=(s,e)=>!s||!e?!1:Ps(it(s),it(e)),Zs=(s,e,n)=>s!=null&&s[0]&&s!=null&&s[1]?lt(n,s[0])&&nt(n,s[1]):s!=null&&s[0]&&e?lt(n,s[0])&&nt(n,e)||nt(n,s[0])&&lt(n,e):!1,$t=s=>{const e=Ee(new Date(s),{date:1});return it(e)},_n=(s,e,n)=>e&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===e?[a,n]:[a,isNaN(+s[a])?void 0:+s[a]])):{hours:isNaN(+s.hours)?void 0:+s.hours,minutes:isNaN(+s.minutes)?void 0:+s.minutes,seconds:isNaN(+s.seconds)?void 0:+s.seconds},Gt=s=>({hours:Ct(s),minutes:At(s),seconds:ps(s)}),va=(s,e)=>{if(e){const n=Me(Z(e));if(n>s)return 12;if(n===s)return ze(Z(e))}},ba=(s,e)=>{if(e){const n=Me(Z(e));return n<s?-1:n===s?ze(Z(e)):void 0}},fs=s=>{if(s)return Me(Z(s))},Ft=(s,e)=>e?z5(s,e):s,ga=(s,e)=>e?I5(s,e):s,W5=s=>s instanceof Date?s:WC(s),ya=(s,e)=>{const n=lt(s,e)?e:s,a=lt(e,s)?e:s;return xo({start:n,end:a})},K5=s=>{const e=wt(s,1);return{month:ze(e),year:Me(e)}},Ns=(s,e,n)=>{const a=ts(Ft(s,e),{weekStartsOn:+n}),o=Uw(Ft(s,e),{weekStartsOn:+n});return[a,o]},$a=(s,e)=>{const n={hours:Ct(Z()),minutes:At(Z()),seconds:e?ps(Z()):0};return Object.assign(n,s)},Nt=(s,e,n)=>[Ee(Z(s),{date:1}),Ee(Z(),{month:e,year:n,date:1})],It=(s,e,n)=>{let a=s?Z(s):Z();return(e||e===0)&&(a=ia(a,e)),n&&(a=Mt(a,n)),a},ka=(s,e,n,a,o)=>{if(!a||o&&!e||!o&&!n)return!1;const l=o?wt(s,1):hs(s,1),r=[ze(l),Me(l)];return o?!G5(...r,e):!X5(...r,n)},X5=(s,e,n)=>nt(...Nt(n,s,e))||Ue(...Nt(n,s,e)),G5=(s,e,n)=>lt(...Nt(n,s,e))||Ue(...Nt(n,s,e)),wa=(s,e,n,a,o,l,r)=>{if(typeof e=="function"&&!r)return e(s);const u=n?{locale:n}:void 0;return Array.isArray(s)?`${Qt(s[0],l,u)}${o&&!s[1]?"":a}${s[1]?Qt(s[1],l,u):""}`:Qt(s,l,u)},rs=s=>{if(s)return null;throw new Error(Ks.prop("partial-range"))},Ys=(s,e)=>{if(e)return s();throw new Error(Ks.prop("range"))},In=s=>Array.isArray(s)?Fs(s[0])&&(s[1]?Fs(s[1]):!0):s?Fs(s):!1,Z5=(s,e)=>Ee(e??Z(),{hours:+s.hours||0,minutes:+s.minutes||0,seconds:+s.seconds||0}),fn=(s,e,n,a)=>{if(!s)return!0;if(a){const o=n==="max"?Os(s,e):Ps(s,e),l={seconds:0,milliseconds:0};return o||us(Ee(s,l),Ee(e,l))}return n==="max"?s.getTime()<=e.getTime():s.getTime()>=e.getTime()},vn=(s,e,n)=>s?Z5(s,e):Z(n??e),Mo=(s,e,n,a,o)=>{if(Array.isArray(a)){const r=vn(s,a[0],e),u=vn(s,a[1],e);return fn(a[0],r,n,!!e)&&fn(a[1],u,n,!!e)&&o}const l=vn(s,a,e);return fn(a,l,n,!!e)&&o},bn=s=>Ee(Z(),Gt(s)),J5=(s,e)=>Array.isArray(s)?s.map(n=>Z(n)).filter(n=>Me(Z(n))===e).map(n=>ze(n)):[],Ca=(s,e,n)=>typeof s=="function"?s({month:e,year:n}):!!s.months.find(a=>a.month===e&&a.year===n),so=(s,e)=>typeof s=="function"?s(e):s.years.includes(e),Cs=As({menuFocused:!1,shiftKeyInMenu:!1}),Fa=()=>{const s=n=>{Cs.menuFocused=n},e=n=>{Cs.shiftKeyInMenu!==n&&(Cs.shiftKeyInMenu=n)};return{control:se(()=>({shiftKeyInMenu:Cs.shiftKeyInMenu,menuFocused:Cs.menuFocused})),setMenuFocused:s,setShiftKey:e}},Qe=As({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),gn=ce(null),Bs=ce(!1),yn=ce(!1),$n=ce(!1),kn=ce(!1),dt=ce(0),st=ce(0),Wt=()=>{const s=se(()=>Bs.value?[...Qe.selectionGrid,Qe.actionRow].filter(_=>_.length):yn.value?[...Qe.timePicker[0],...Qe.timePicker[1],kn.value?[]:[gn.value],Qe.actionRow].filter(_=>_.length):$n.value?[...Qe.monthPicker,Qe.actionRow]:[Qe.monthYear,...Qe.calendar,Qe.time,Qe.actionRow].filter(_=>_.length)),e=_=>{dt.value=_?dt.value+1:dt.value-1;let F=null;s.value[st.value]&&(F=s.value[st.value][dt.value]),F||(dt.value=_?dt.value-1:dt.value+1)},n=_=>{st.value===0&&!_||st.value===s.value.length&&_||(st.value=_?st.value+1:st.value-1,s.value[st.value]?s.value[st.value]&&!s.value[st.value][dt.value]&&dt.value!==0&&(dt.value=s.value[st.value].length-1):st.value=_?st.value-1:st.value+1)},a=_=>{let F=null;s.value[st.value]&&(F=s.value[st.value][dt.value]),F?F.focus({preventScroll:!Bs.value}):dt.value=_?dt.value-1:dt.value+1},o=()=>{e(!0),a(!0)},l=()=>{e(!1),a(!1)},r=()=>{n(!1),a(!0)},u=()=>{n(!0),a(!0)},p=(_,F)=>{Qe[F]=_},h=(_,F)=>{Qe[F]=_},k=()=>{dt.value=0,st.value=0};return{buildMatrix:p,buildMultiLevelMatrix:h,setTimePickerBackRef:_=>{gn.value=_},setSelectionGrid:_=>{Bs.value=_,k(),_||(Qe.selectionGrid=[])},setTimePicker:(_,F=!1)=>{yn.value=_,kn.value=F,k(),_||(Qe.timePicker[0]=[],Qe.timePicker[1]=[])},setTimePickerElements:(_,F=0)=>{Qe.timePicker[F]=_},arrowRight:o,arrowLeft:l,arrowUp:r,arrowDown:u,clearArrowNav:()=>{Qe.monthYear=[],Qe.calendar=[],Qe.time=[],Qe.actionRow=[],Qe.selectionGrid=[],Qe.timePicker[0]=[],Qe.timePicker[1]=[],Bs.value=!1,yn.value=!1,kn.value=!1,$n.value=!1,k(),gn.value=null},setMonthPicker:_=>{$n.value=_,k()},refSets:Qe}},Ao=s=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...s??{}}),eF=s=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...s??{}}),jo=s=>s?typeof s=="boolean"?s?2:0:+s>=2?+s:2:0,tF=s=>{const e=typeof s=="object"&&s,n={static:!0,solo:!1};if(!s)return{...n,count:jo(!1)};const a=e?s:{},o=e?a.count??!0:s,l=jo(o);return Object.assign(n,a,{count:l})},sF=(s,e,n)=>s||(typeof n=="string"?n:e),nF=s=>typeof s=="boolean"?s?Ao({}):!1:Ao(s),oF=s=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof s=="object"?{...e,...s??{},enabled:!0}:{...e,enabled:s}},aF=s=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...s??{}}),lF=s=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...s??{}}),iF=s=>{const e={input:!1};return typeof s=="object"?{...e,...s??{},enabled:!0}:{enabled:s,...e}},rF=s=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...s??{}}),dF=(s,e,n)=>{const a={dates:Array.isArray(s)?s.map(o=>Z(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:e,options:{highlightDisabled:n}};return typeof s=="function"?s:{...a,...s??{}}},uF=s=>typeof s=="object"?{type:s.type,hideOnOffsetDates:s.hideOnOffsetDates??!1}:{type:s,hideOnOffsetDates:!1},Xe=s=>{const e=()=>{const U=s.enableSeconds?":ss":"";return s.is24?`HH:mm${U}`:`hh:mm${U} aa`},n=()=>s.format?s.format:s.monthPicker?"MM/yyyy":s.timePicker?e():s.weekPicker?"MM/dd/yyyy":s.yearPicker?"yyyy":s.quarterPicker?"QQQ/yyyy":s.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy",a=U=>$a(U,s.enableSeconds),o=()=>s.range?s.startTime&&Array.isArray(s.startTime)?[a(s.startTime[0]),a(s.startTime[1])]:null:s.startTime&&!Array.isArray(s.startTime)?a(s.startTime):null,l=se(()=>tF(s.multiCalendars)),r=se(()=>o()),u=se(()=>eF(s.ariaLabels)),p=se(()=>aF(s.filters)),h=se(()=>nF(s.transitions)),k=se(()=>lF(s.actionRow)),_=se(()=>sF(s.previewFormat,s.format,n())),F=se(()=>oF(s.textInput)),D=se(()=>iF(s.inline)),M=se(()=>rF(s.config)),N=se(()=>dF(s.highlight,s.highlightWeekDays,s.highlightDisabledDays)),te=se(()=>uF(s.weekNumbers));return{defaultedTransitions:h,defaultedMultiCalendars:l,defaultedStartTime:r,defaultedAriaLabels:u,defaultedFilters:p,defaultedActionRow:k,defaultedPreviewFormat:_,defaultedTextInput:F,defaultedInline:D,defaultedConfig:M,defaultedHighlight:N,defaultedWeekNumbers:te,getDefaultPattern:n,getDefaultStartTime:o}},cF=(s,e,n)=>{const a=ce(),{defaultedTextInput:o,getDefaultPattern:l}=Xe(e),r=ce(""),u=Qs(e,"format");Ht(a,()=>{s("internal-model-change",a.value)}),Ht(u,()=>{Y()});const p=m=>ga(m,e.timezone),h=m=>Ft(m,e.timezone),k=(m,A,B=!1)=>wa(m,e.format,e.formatLocale,o.value.rangeSeparator,e.modelAuto,A??l(),B),_=m=>m?e.modelType?q(m):{hours:Ct(m),minutes:At(m),seconds:e.enableSeconds?ps(m):0}:null,F=m=>e.modelType?q(m):{month:ze(m),year:Me(m)},D=m=>Array.isArray(m)?e.multiDates?m.map(A=>M(A,Mt(Z(),A))):Ys(()=>[Mt(Z(),m[0]),m[1]?Mt(Z(),m[1]):rs(e.partialRange)],e.range):Mt(Z(),+m),M=(m,A)=>(typeof m=="string"||typeof m=="number")&&e.modelType?y(m):A,N=m=>Array.isArray(m)?[M(m[0],xt(null,+m[0].hours,+m[0].minutes,m[0].seconds)),M(m[1],xt(null,+m[1].hours,+m[1].minutes,m[1].seconds))]:M(m,xt(null,m.hours,m.minutes,m.seconds)),te=m=>Array.isArray(m)?e.multiDates?m.map(A=>M(A,It(null,+A.month,+A.year))):Ys(()=>[M(m[0],It(null,+m[0].month,+m[0].year)),M(m[1],m[1]?It(null,+m[1].month,+m[1].year):rs(e.partialRange))],e.range):M(m,It(null,+m.month,+m.year)),U=m=>{if(Array.isArray(m))return m.map(A=>y(A));throw new Error(Ks.dateArr("multi-dates"))},V=m=>{if(Array.isArray(m))return[Z(m[0]),Z(m[1])];throw new Error(Ks.dateArr("week-picker"))},ne=m=>e.modelAuto?Array.isArray(m)?[y(m[0]),y(m[1])]:e.autoApply?[y(m)]:[y(m),null]:Array.isArray(m)?Ys(()=>[y(m[0]),m[1]?y(m[1]):rs(e.partialRange)],e.range):y(m),S=()=>{Array.isArray(a.value)&&e.range&&a.value.length===1&&a.value.push(rs(e.partialRange))},H=()=>{const m=a.value;return[q(m[0]),m[1]?q(m[1]):rs(e.partialRange)]},W=()=>a.value[1]?H():q(et(a.value[0])),L=()=>(a.value||[]).map(m=>q(m)),he=()=>(S(),e.modelAuto?W():e.multiDates?L():Array.isArray(a.value)?Ys(()=>H(),e.range):q(et(a.value))),oe=m=>!m||Array.isArray(m)&&!m.length?null:e.timePicker?N(et(m)):e.monthPicker?te(et(m)):e.yearPicker?D(et(m)):e.multiDates?U(et(m)):e.weekPicker?V(et(m)):ne(et(m)),$=m=>{const A=oe(m);In(et(A))?(a.value=et(A),Y()):(a.value=null,r.value="")},j=()=>{const m=A=>Qt(A,o.value.format);return`${m(a.value[0])} ${o.value.rangeSeparator} ${a.value[1]?m(a.value[1]):""}`},X=()=>n.value&&a.value?Array.isArray(a.value)?j():Qt(a.value,o.value.format):k(a.value),re=()=>a.value?e.multiDates?a.value.map(m=>k(m)).join("; "):o.value.enabled&&typeof o.value.format=="string"?X():k(a.value):"",Y=()=>{!e.format||typeof e.format=="string"||o.value.enabled&&typeof o.value.format=="string"?r.value=re():r.value=e.format(a.value)},y=m=>{if(e.utc){const A=new Date(m);return e.utc==="preserve"?new Date(A.getTime()+A.getTimezoneOffset()*6e4):A}return e.modelType?e.modelType==="date"||e.modelType==="timestamp"?h(new Date(m)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?Pn(m,l(),new Date):h(Pn(m,e.modelType,new Date)):h(new Date(m))},q=m=>m?e.utc?H5(m,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+p(m):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?k(p(m)):k(p(m),e.modelType,!0):p(m):"",z=(m,A=!1)=>{if(s("update:model-value",m),e.emitTimezone&&A){const B=Array.isArray(m)?m.map(le=>Ft(et(le)),e.emitTimezone):Ft(et(m),e.emitTimezone);s("update:model-timezone-value",B)}},K=m=>Array.isArray(a.value)?e.multiDates?a.value.map(A=>m(A)):[m(a.value[0]),a.value[1]?m(a.value[1]):rs(e.partialRange)]:m(et(a.value)),f=m=>z(et(K(m)));return{inputValue:r,internalModelValue:a,checkBeforeEmit:()=>a.value?e.range?e.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:$,formatInputValue:Y,emitModelValue:()=>(Y(),e.monthPicker?f(F):e.timePicker?f(_):e.yearPicker?f(Me):e.weekPicker?z(a.value.map(m=>q(m)),!0):z(he(),!0))}},mF=(s,e)=>{const{defaultedFilters:n}=Xe(s),{validateMonthYearInRange:a}=as(s),o=(h,k)=>{let _=h;return n.value.months.includes(ze(_))?(_=k?wt(h,1):hs(h,1),o(_,k)):_},l=(h,k)=>{let _=h;return n.value.years.includes(Me(_))?(_=k?Vn(h,1):ua(h,1),l(_,k)):_},r=(h,k=!1)=>{const _=Ee(new Date,{month:s.month,year:s.year});let F=h?wt(_,1):hs(_,1);s.disableYearSelect&&(F=Mt(F,s.year));let D=ze(F),M=Me(F);n.value.months.includes(D)&&(F=o(F,h),D=ze(F),M=Me(F)),n.value.years.includes(M)&&(F=l(F,h),M=Me(F)),a(D,M,h,s.preventMinMaxNavigation)&&u(D,M,k)},u=(h,k,_)=>{e("update-month-year",{month:h,year:k,fromNav:_})},p=se(()=>h=>ka(Ee(new Date,{month:s.month,year:s.year}),s.maxDate,s.minDate,s.preventMinMaxNavigation,h));return{handleMonthYearChange:r,isDisabled:p,updateMonthYear:u}};var ds=(s=>(s.center="center",s.left="left",s.right="right",s))(ds||{}),yt=(s=>(s.month="month",s.year="year",s))(yt||{}),Xt=(s=>(s.top="top",s.bottom="bottom",s))(Xt||{}),Zt=(s=>(s.header="header",s.calendar="calendar",s.timePicker="timePicker",s))(Zt||{}),St=(s=>(s.month="month",s.year="year",s.calendar="calendar",s.time="time",s.minutes="minutes",s.hours="hours",s.seconds="seconds",s))(St||{});const pF=({menuRef:s,menuRefInner:e,inputRef:n,pickerWrapperRef:a,inline:o,emit:l,props:r,slots:u})=>{const p=ce({}),h=ce(!1),k=ce({top:"0",left:"0"}),_=ce(!1),F=Qs(r,"teleportCenter");Ht(F,()=>{k.value=JSON.parse(JSON.stringify({})),S()});const D=y=>{if(r.teleport){const q=y.getBoundingClientRect();return{left:q.left+window.scrollX,top:q.top+window.scrollY}}return{top:0,left:0}},M=(y,q)=>{k.value.left=`${y+q-p.value.width}px`},N=y=>{k.value.left=`${y}px`},te=(y,q)=>{r.position===ds.left&&N(y),r.position===ds.right&&M(y,q),r.position===ds.center&&(k.value.left=`${y+q/2-p.value.width/2}px`)},U=y=>{const{width:q,height:z}=y.getBoundingClientRect(),{top:K,left:f}=r.altPosition?r.altPosition(y):D(y);return{top:+K,left:+f,width:q,height:z}},V=()=>{k.value.left="50%",k.value.top="50%",k.value.transform="translate(-50%, -50%)",k.value.position="fixed",delete k.value.opacity},ne=()=>{const y=Je(n),{top:q,left:z,transform:K}=r.altPosition(y);k.value={top:`${q}px`,left:`${z}px`,transform:K??""}},S=(y=!0)=>{var q;if(!o.value.enabled){if(F.value)return V();if(r.altPosition!==null)return ne();if(y){const z=r.teleport?(q=e.value)==null?void 0:q.$el:s.value;z&&(p.value=z.getBoundingClientRect()),l("recalculate-position")}return j()}},H=({inputEl:y,left:q,width:z})=>{window.screen.width>768&&!h.value&&te(q,z),he(y)},W=y=>{const{top:q,left:z,height:K,width:f}=U(y);k.value.top=`${K+q+ +r.offset}px`,_.value=!1,h.value||(k.value.left=`${z+f/2-p.value.width/2}px`),H({inputEl:y,left:z,width:f})},L=y=>{const{top:q,left:z,width:K}=U(y);k.value.top=`${q-+r.offset-p.value.height}px`,_.value=!0,H({inputEl:y,left:z,width:K})},he=y=>{if(r.autoPosition){const{left:q,width:z}=U(y),{left:K,right:f}=p.value;if(!h.value){if(Math.abs(K)!==Math.abs(f)){if(K<=0)return h.value=!0,N(q);if(f>=document.documentElement.clientWidth)return h.value=!0,M(q,z)}return te(q,z)}}},oe=()=>{const y=Je(n);if(y){const{height:q}=p.value,{top:z,height:K}=y.getBoundingClientRect(),f=window.innerHeight-z-K,m=z;return q<=f?Xt.bottom:q>f&&q<=m?Xt.top:f>=m?Xt.bottom:Xt.top}return Xt.bottom},$=y=>oe()===Xt.bottom?W(y):L(y),j=()=>{const y=Je(n);if(y)return r.autoPosition?$(y):W(y)},X=function(y){if(y){const q=y.scrollHeight>y.clientHeight,z=window.getComputedStyle(y).overflowY.indexOf("hidden")!==-1;return q&&!z}return!0},re=function(y){return!y||y===document.body||y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:X(y)?y:re(y.parentNode)},Y=y=>{if(y)switch(r.position){case ds.left:return{left:0,transform:"translateX(0)"};case ds.right:return{left:`${y.width}px`,transform:"translateX(-100%)"};default:return{left:`${y.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:_,menuStyle:k,xCorrect:h,setMenuPosition:S,getScrollableParent:re,shadowRender:(y,q)=>{var z,K,f;const m=document.createElement("div"),A=(z=Je(n))==null?void 0:z.getBoundingClientRect();m.setAttribute("id","dp--temp-container");const B=(K=a.value)!=null&&K.clientWidth?a.value:document.body;B.append(m);const le=Y(A),de=Ua(y,{...q,shadow:!0,style:{opacity:0,position:"absolute",...le}},Object.fromEntries(Object.keys(u).filter(I=>["right-sidebar","left-sidebar"].includes(I)).map(I=>[I,u[I]])));io(de,m),p.value=(f=de.el)==null?void 0:f.getBoundingClientRect(),io(null,m),B.removeChild(m)}}},Bt=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],hF=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],_F={all:()=>Bt,monthYear:()=>Bt.filter(s=>s.use.includes("month-year")),input:()=>hF,timePicker:()=>Bt.filter(s=>s.use.includes("time")),action:()=>Bt.filter(s=>s.use.includes("action")),calendar:()=>Bt.filter(s=>s.use.includes("calendar")),menu:()=>Bt.filter(s=>s.use.includes("menu")),shared:()=>Bt.filter(s=>s.use.includes("shared")),yearMode:()=>Bt.filter(s=>s.use.includes("year-mode"))},_t=(s,e,n)=>{const a=[];return _F[e]().forEach(o=>{s[o.name]&&a.push(o.name)}),n!=null&&n.length&&n.forEach(o=>{o.slot&&a.push(o.slot)}),a},js=s=>{const e=se(()=>a=>s.value?a?s.value.open:s.value.close:""),n=se(()=>a=>s.value?a?s.value.menuAppearTop:s.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!s.value,menuTransition:n}},qs=(s,e)=>{const n=Z(Ft(new Date,s.timezone)),a=ce([{month:ze(n),year:Me(n)}]),o=As({hours:s.range?[Ct(n),Ct(n)]:Ct(n),minutes:s.range?[At(n),At(n)]:At(n),seconds:s.range?[0,0]:0}),l=se({get:()=>s.internalModelValue,set:p=>{!s.readonly&&!s.disabled&&e("update:internal-model-value",p)}}),r=se(()=>p=>a.value[p]?a.value[p].month:0),u=se(()=>p=>a.value[p]?a.value[p].year:0);return{calendars:a,time:o,modelValue:l,month:r,year:u}},fF=(s,e)=>{const{defaultedMultiCalendars:n,defaultedHighlight:a}=Xe(e),{isDisabled:o,matchDate:l}=as(e),r=ce(null),u=ce(Z(Ft(new Date,e.timezone))),p=f=>{!f.current&&e.hideOffsetDates||(r.value=f.value)},h=()=>{r.value=null},k=f=>Array.isArray(s.value)&&e.range&&s.value[0]&&r.value?f?lt(r.value,s.value[0]):nt(r.value,s.value[0]):!0,_=(f,m)=>{const A=()=>s.value?m?s.value[0]||null:s.value[1]:null,B=s.value&&Array.isArray(s.value)?A():null;return Ue(Z(f.value),B)},F=f=>{const m=Array.isArray(s.value)?s.value[0]:null;return f?!nt(r.value??null,m):!0},D=(f,m=!0)=>(e.range||e.weekPicker)&&Array.isArray(s.value)&&s.value.length===2?e.hideOffsetDates&&!f.current?!1:Ue(Z(f.value),s.value[m?0:1]):e.range?_(f,m)&&F(m)||Ue(f.value,Array.isArray(s.value)?s.value[0]:null)&&k(m):!1,M=(f,m,A)=>Array.isArray(s.value)&&s.value[0]&&s.value.length===1?f?!1:A?lt(s.value[0],m.value):nt(s.value[0],m.value):!1,N=f=>!s.value||e.hideOffsetDates&&!f.current?!1:e.range?e.modelAuto&&Array.isArray(s.value)?Ue(f.value,s.value[0]?s.value[0]:u.value):!1:e.multiDates&&Array.isArray(s.value)?s.value.some(m=>Ue(m,f.value)):Ue(f.value,s.value?s.value:u.value),te=f=>{if(e.autoRange||e.weekPicker){if(r.value){if(e.hideOffsetDates&&!f.current)return!1;const m=zt(r.value,+e.autoRange),A=Ns(Z(r.value),e.timezone,e.weekStart);return e.weekPicker?Ue(A[1],Z(f.value)):Ue(m,Z(f.value))}return!1}return!1},U=f=>{if(e.autoRange||e.weekPicker){if(r.value){const m=zt(r.value,+e.autoRange);if(e.hideOffsetDates&&!f.current)return!1;const A=Ns(Z(r.value),e.timezone,e.weekStart);return e.weekPicker?lt(f.value,A[0])&&nt(f.value,A[1]):lt(f.value,r.value)&&nt(f.value,m)}return!1}return!1},V=f=>{if(e.autoRange||e.weekPicker){if(r.value){if(e.hideOffsetDates&&!f.current)return!1;const m=Ns(Z(r.value),e.timezone,e.weekStart);return e.weekPicker?Ue(m[0],f.value):Ue(r.value,f.value)}return!1}return!1},ne=f=>Zs(s.value,r.value,f.value),S=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,H=()=>e.modelAuto?fa(e.internalModelValue):!0,W=f=>{if(Array.isArray(s.value)&&s.value.length||e.weekPicker)return!1;const m=e.range?!D(f)&&!D(f,!1):!0;return!o(f.value)&&!N(f)&&!(!f.current&&e.hideOffsetDates)&&m},L=f=>e.range?e.modelAuto?S()&&N(f):!1:N(f),he=f=>{var m;return a.value?typeof a.value=="function"?a.value(f.value):l(f.value,(m=e.arrMapValues)!=null&&m.highlightedDates?e.arrMapValues.highlightedDates:a.value.dates):!1},oe=f=>{const m=o(f.value);return m&&(typeof a.value=="function"?!a.value(f.value,m):!a.value.options.highlightDisabled)},$=f=>{var m;return typeof a.value=="function"?a.value(f.value):(m=a.value.weekdays)==null?void 0:m.includes(f.value.getDay())},j=f=>(e.range||e.weekPicker)&&(!(n.value.count>0)||f.current)&&H()&&!(!f.current&&e.hideOffsetDates)&&!N(f)?ne(f):!1,X=f=>{const{isRangeStart:m,isRangeEnd:A}=y(f),B=e.range?m||A:!1;return{dp__cell_offset:!f.current,dp__pointer:!e.disabled&&!(!f.current&&e.hideOffsetDates)&&!o(f.value),dp__cell_disabled:o(f.value),dp__cell_highlight:!oe(f)&&(he(f)||$(f))&&!L(f)&&!B&&!V(f)&&!(j(f)&&e.weekPicker)&&!A,dp__cell_highlight_active:!oe(f)&&(he(f)||$(f))&&L(f),dp__today:!e.noToday&&Ue(f.value,u.value)&&f.current}},re=f=>({dp__active_date:L(f),dp__date_hover:W(f)}),Y=f=>({...q(f),...z(f),dp__range_between_week:j(f)&&e.weekPicker}),y=f=>{const m=n.value.count>0?f.current&&D(f)&&H():D(f)&&H(),A=n.value.count>0?f.current&&D(f,!1)&&H():D(f,!1)&&H();return{isRangeStart:m,isRangeEnd:A}},q=f=>{const{isRangeStart:m,isRangeEnd:A}=y(f);return{dp__range_start:m,dp__range_end:A,dp__range_between:j(f)&&!e.weekPicker,dp__date_hover_start:M(W(f),f,!0),dp__date_hover_end:M(W(f),f,!1)}},z=f=>({...q(f),dp__cell_auto_range:U(f),dp__cell_auto_range_start:V(f),dp__cell_auto_range_end:te(f)}),K=f=>e.range?e.autoRange?z(f):e.modelAuto?{...re(f),...q(f)}:q(f):e.weekPicker?Y(f):re(f);return{setHoverDate:p,clearHoverDate:h,getDayClassData:f=>e.hideOffsetDates&&!f.current?{}:{...X(f),...K(f),[e.dayClass?e.dayClass(f.value):""]:!0,[e.calendarCellClassName]:!!e.calendarCellClassName}}},as=s=>{const{defaultedFilters:e,defaultedHighlight:n}=Xe(s),a=()=>{if(s.timezone)return s.timezone;if(s.utc)return"UTC"},o=$=>{const j=it(l(Z($))).toISOString(),[X]=j.split("T");return X},l=$=>s.utc==="preserve"?ga($,a()):Ft($,a()),r=$=>{var j;const X=s.maxDate?lt($,l(Z(s.maxDate))):!1,re=s.minDate?nt($,l(Z(s.minDate))):!1,Y=k(l($),(j=s.arrMapValues)!=null&&j.disabledDates?s.arrMapValues.disabledDates:s.disabledDates),y=e.value.months.map(m=>+m).includes(ze($)),q=s.disabledWeekDays.length?s.disabledWeekDays.some(m=>+m===Q3($)):!1,z=F($),K=Me($),f=K<+s.yearRange[0]||K>+s.yearRange[1];return!(X||re||Y||y||f||q||z)},u=($,j)=>nt(...Nt(s.minDate,$,j))||Ue(...Nt(s.minDate,$,j)),p=($,j)=>lt(...Nt(s.maxDate,$,j))||Ue(...Nt(s.maxDate,$,j)),h=($,j,X)=>{let re=!1;return s.maxDate&&X&&p($,j)&&(re=!0),s.minDate&&!X&&u($,j)&&(re=!0),re},k=($,j)=>$?j instanceof Map?!!j.get(o($)):Array.isArray(j)?j.some(X=>Ue(l(Z(X)),$)):j?j(Z(JSON.parse(JSON.stringify($)))):!1:!0,_=($,j,X,re)=>{let Y=!1;return re?s.minDate&&s.maxDate?Y=h($,j,X):(s.minDate&&u($,j)||s.maxDate&&p($,j))&&(Y=!0):Y=!0,Y},F=$=>{var j,X,re,Y,y;return Array.isArray(s.allowedDates)&&!((j=s.allowedDates)!=null&&j.length)?!0:(X=s.arrMapValues)!=null&&X.allowedDates?!k($,(re=s.arrMapValues)==null?void 0:re.allowedDates):(Y=s.allowedDates)!=null&&Y.length?!((y=s.allowedDates)!=null&&y.some(q=>Ue(it(q),l(it($))))):!1},D=$=>!r($),M=$=>s.noDisabledRange?!xo({start:$[0],end:$[1]}).some(j=>D(j)):!0,N=($,j,X=0)=>{if(Array.isArray(j)&&j[X]){const re=Aw($,j[X]),Y=ya(j[X],$),y=Y.length===1?0:Y.filter(z=>D(z)).length,q=Math.abs(re)-y;if(s.minRange&&s.maxRange)return q>=+s.minRange&&q<=+s.maxRange;if(s.minRange)return q>=+s.minRange;if(s.maxRange)return q<=+s.maxRange}return!0},te=$=>new Map($.map(j=>[o(j),!0])),U=$=>Array.isArray($)&&$.length>0,V=()=>{const $={disabledDates:null,allowedDates:null,highlightedDates:null};return U(s.allowedDates)&&($.allowedDates=te(s.allowedDates)),typeof n.value!="function"&&U(n.value.dates)&&($.highlightedDates=te(n.value.dates)),U(s.disabledDates)&&($.disabledDates=te(s.disabledDates)),$},ne=()=>!s.enableTimePicker||s.monthPicker||s.yearPicker||s.ignoreTimeValidation,S=$=>Array.isArray($)?[$[0]?bn($[0]):null,$[1]?bn($[1]):null]:bn($),H=($,j,X)=>$.find(re=>+re.hours===Ct(j)&&re.minutes==="*"?!0:+re.minutes===At(j)&&+re.hours===Ct(j))&&X,W=($,j,X)=>{const[re,Y]=$,[y,q]=j;return!H(re,y,X)&&!H(Y,q,X)&&X},L=($,j)=>{const X=Array.isArray(j)?j:[j];return Array.isArray(s.disabledTimes)?Array.isArray(s.disabledTimes[0])?W(s.disabledTimes,X,$):!X.some(re=>H(s.disabledTimes,re,$)):$},he=($,j)=>{const X=Array.isArray(j)?[Gt(j[0]),j[1]?Gt(j[1]):void 0]:Gt(j),re=!s.disabledTimes(X);return $&&re},oe=($,j)=>s.disabledTimes?Array.isArray(s.disabledTimes)?L(j,$):he(j,$):j;return{isDisabled:D,validateDate:r,validateMonthYearInRange:_,isDateRangeAllowed:M,checkMinMaxRange:N,matchDate:k,mapDatesArrToMap:V,isValidTime:$=>{let j=!0;if(!$||ne())return!0;const X=!s.minDate&&!s.maxDate?S($):$;return(s.maxTime||s.maxDate)&&(j=Mo(s.maxTime,s.maxDate,"max",et(X),j)),(s.minTime||s.minDate)&&(j=Mo(s.minTime,s.minDate,"min",et(X),j)),oe($,j)}}},Js=()=>{const s=se(()=>(a,o)=>a==null?void 0:a.includes(o)),e=se(()=>(a,o)=>a.count?a.solo?!0:o===0:!0),n=se(()=>(a,o)=>a.count?a.solo?!0:o===a.count-1:!0);return{hideNavigationButtons:s,showLeftIcon:e,showRightIcon:n}},vF=(s,e,n)=>{const a=ce(0),o=As({[Zt.timePicker]:!s.enableTimePicker||s.timePicker||s.monthPicker,[Zt.calendar]:!1,[Zt.header]:!1}),l=se(()=>s.monthPicker),r=_=>{var F;if((F=s.flow)!=null&&F.length){if(!_&&l.value)return k();o[_]=!0,Object.keys(o).filter(D=>!o[D]).length||k()}},u=()=>{var _;(_=s.flow)!=null&&_.length&&a.value!==-1&&(a.value+=1,e("flow-step",a.value),k())},p=()=>{a.value=-1},h=(_,F,...D)=>{s.flow[a.value]===_&&n.value&&n.value[F](...D)},k=()=>{h(St.month,"toggleMonthPicker",!0),h(St.year,"toggleYearPicker",!0),h(St.calendar,"toggleTimePicker",!1,!0),h(St.time,"toggleTimePicker",!0,!0);const _=s.flow[a.value];(_===St.hours||_===St.minutes||_===St.seconds)&&h(_,"toggleTimePicker",!0,!0,_)};return{childMount:r,updateFlowStep:u,resetFlow:p,flowStep:a}},en={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function,Object],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1}},Tt={...en,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},bF={key:1,class:"dp__input_wrap"},gF=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],yF={key:2,class:"dp__clear_icon"},$F=tt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...en},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(s,{expose:e,emit:n}){const a=n,o=s,{defaultedTextInput:l,defaultedAriaLabels:r,defaultedInline:u,defaultedConfig:p,getDefaultPattern:h,getDefaultStartTime:k}=Xe(o),{checkMinMaxRange:_}=as(o),F=ce(),D=ce(null),M=ce(!1),N=ce(!1),te=se(()=>({dp__pointer:!o.disabled&&!o.readonly&&!l.value.enabled,dp__disabled:o.disabled,dp__input_readonly:!l.value.enabled,dp__input:!0,dp__input_icon_pad:!o.hideInputIcon,dp__input_valid:!!o.state,dp__input_invalid:o.state===!1,dp__input_focus:M.value||o.isMenuOpen,dp__input_reg:!l.value.enabled,[o.inputClassName]:!!o.inputClassName})),U=()=>{a("set-input-date",null),o.autoApply&&(a("set-empty-date"),F.value=null)},V=Y=>{const y=k();return L5(Y,l.value.format??h(),y??$a({},o.enableSeconds),o.inputValue,N.value)},ne=Y=>{const{rangeSeparator:y}=l.value,[q,z]=Y.split(`${y}`);if(q){const K=V(q.trim()),f=z?V(z.trim()):null,m=K&&f?[K,f]:[K];_(f,m,0)&&(F.value=K?m:null)}},S=()=>{N.value=!0},H=Y=>{if(o.range)ne(Y);else if(o.multiDates){const y=Y.split(";");F.value=y.map(q=>V(q.trim())).filter(q=>q)}else F.value=V(Y)},W=Y=>{var y;const q=typeof Y=="string"?Y:(y=Y.target)==null?void 0:y.value;q!==""?(l.value.openMenu&&!o.isMenuOpen&&a("open"),H(q),a("set-input-date",F.value)):U(),N.value=!1,a("update:input-value",q)},L=Y=>{l.value.enabled?(H(Y.target.value),l.value.enterSubmit&&In(F.value)&&o.inputValue!==""?(a("set-input-date",F.value,!0),F.value=null):l.value.enterSubmit&&o.inputValue===""&&(F.value=null,a("clear"))):$(Y)},he=Y=>{l.value.enabled&&l.value.tabSubmit&&H(Y.target.value),l.value.tabSubmit&&In(F.value)&&o.inputValue!==""?(a("set-input-date",F.value,!0,!0),F.value=null):l.value.tabSubmit&&o.inputValue===""&&(F.value=null,a("clear",!0))},oe=()=>{var Y;M.value=!0,a("focus"),l.value.enabled&&l.value.selectOnFocus&&((Y=D.value)==null||Y.select())},$=Y=>{Y.preventDefault(),Et(Y,p.value,!0),l.value.enabled&&l.value.openMenu&&!u.value.input&&!o.isMenuOpen?a("open"):l.value.enabled||a("toggle")},j=()=>{a("real-blur"),M.value=!1,(!o.isMenuOpen||u.value.enabled&&u.value.input)&&a("blur"),o.autoApply&&l.value.enabled&&F.value&&!o.isMenuOpen&&(a("set-input-date",F.value),a("select-date"),F.value=null)},X=Y=>{Et(Y,p.value,!0),a("clear")},re=Y=>{if(!l.value.enabled){if(Y.code==="Tab")return;Y.preventDefault()}};return e({focusInput:()=>{var Y;(Y=D.value)==null||Y.focus({preventScroll:!0})},setParsedDate:Y=>{F.value=Y}}),(Y,y)=>{var q;return i(),d("div",{onClick:$},[Y.$slots.trigger&&!Y.$slots["dp-input"]&&!C(u).enabled?ye(Y.$slots,"trigger",{key:0}):c("",!0),!Y.$slots.trigger&&(!C(u).enabled||C(u).input)?(i(),d("div",bF,[Y.$slots["dp-input"]&&!Y.$slots.trigger&&!C(u).enabled?ye(Y.$slots,"dp-input",{key:0,value:s.inputValue,isMenuOpen:s.isMenuOpen,onInput:W,onEnter:L,onTab:he,onClear:X,onBlur:j,onKeypress:re,onPaste:S,openMenu:()=>Y.$emit("open"),closeMenu:()=>Y.$emit("close"),toggleMenu:()=>Y.$emit("toggle")}):c("",!0),Y.$slots["dp-input"]?c("",!0):(i(),d("input",{key:1,id:Y.uid?`dp-input-${Y.uid}`:void 0,ref_key:"inputRef",ref:D,name:Y.name,class:P(te.value),inputmode:C(l).enabled?"text":"none",placeholder:Y.placeholder,disabled:Y.disabled,readonly:Y.readonly,required:Y.required,value:s.inputValue,autocomplete:Y.autocomplete,"aria-label":(q=C(r))==null?void 0:q.input,"aria-disabled":Y.disabled||void 0,"aria-invalid":Y.state===!1?!0:void 0,onInput:W,onKeydown:[Pe(L,["enter"]),Pe(he,["tab"]),re],onBlur:j,onFocus:oe,onKeypress:re,onPaste:S},null,42,gF)),t("div",{onClick:y[2]||(y[2]=z=>a("toggle"))},[Y.$slots["input-icon"]&&!Y.hideInputIcon?(i(),d("span",{key:0,class:"dp__input_icon",onClick:y[0]||(y[0]=z=>a("toggle"))},[ye(Y.$slots,"input-icon")])):c("",!0),!Y.$slots["input-icon"]&&!Y.hideInputIcon&&!Y.$slots["dp-input"]?(i(),Q(C(bs),{key:1,class:"dp__input_icon dp__input_icons",onClick:y[1]||(y[1]=z=>a("toggle"))})):c("",!0)]),Y.$slots["clear-icon"]&&s.inputValue&&Y.clearable&&!Y.disabled&&!Y.readonly?(i(),d("span",yF,[ye(Y.$slots,"clear-icon",{clear:X})])):c("",!0),Y.clearable&&!Y.$slots["clear-icon"]&&s.inputValue&&!Y.disabled&&!Y.readonly?(i(),Q(C(ca),{key:3,class:"dp__clear_icon dp__input_icons",onClick:y[3]||(y[3]=Fe(z=>X(z),["prevent"]))})):c("",!0)])):c("",!0)])}}}),kF=["title"],wF={class:"dp__action_buttons"},CF=["disabled"],FF=tt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Tt},emits:["close-picker","select-date","select-now","invalid-select"],setup(s,{emit:e}){const n=e,a=s,{defaultedActionRow:o,defaultedPreviewFormat:l,defaultedMultiCalendars:r,defaultedTextInput:u,defaultedInline:p,getDefaultPattern:h}=Xe(a),{isValidTime:k}=as(a),{buildMatrix:_}=Wt(),F=ce(null),D=ce(null);rt(()=>{a.arrowNavigation&&_([Je(F),Je(D)],"actionRow")});const M=se(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),N=se(()=>!te.value||!U.value||!M.value),te=se(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:k(a.internalModelValue)),U=se(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter($=>!he($)).length:he(a.internalModelValue):!0),V=()=>{const $=l.value;return a.timePicker||a.monthPicker,$(et(a.internalModelValue))},ne=()=>{const $=a.internalModelValue;return r.value.count>0?`${S($[0])} - ${S($[1])}`:[S($[0]),S($[1])]},S=$=>wa($,l.value,a.formatLocale,u.value.rangeSeparator,a.modelAuto,h()),H=se(()=>!a.internalModelValue||!a.menuMount?"":typeof l.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?ne():a.multiDates?a.internalModelValue.map($=>`${S($)}`):a.modelAuto?`${S(a.internalModelValue[0])}`:`${S(a.internalModelValue[0])} -`:S(a.internalModelValue):V()),W=()=>a.multiDates?"; ":" - ",L=se(()=>Array.isArray(H.value)?H.value.join(W()):H.value),he=$=>{if(!a.monthPicker)return!0;let j=!0;const X=Z($t($));if(a.minDate&&a.maxDate){const re=Z($t(a.minDate)),Y=Z($t(a.maxDate));return lt(X,re)&&nt(X,Y)||Ue(X,re)||Ue(X,Y)}if(a.minDate){const re=Z($t(a.minDate));j=lt(X,re)||Ue(X,re)}if(a.maxDate){const re=Z($t(a.maxDate));j=nt(X,re)||Ue(X,re)}return j},oe=()=>{te.value&&U.value&&M.value?n("select-date"):n("invalid-select")};return($,j)=>(i(),d("div",{class:"dp__action_row",style:bt(s.calendarWidth?{width:`${s.calendarWidth}px`}:{})},[$.$slots["action-row"]?ye($.$slots,"action-row",Ge(ot({key:0},{internalModelValue:$.internalModelValue,disabled:N.value,selectDate:()=>$.$emit("select-date"),closePicker:()=>$.$emit("close-picker")}))):(i(),d(R,{key:1},[C(o).showPreview?(i(),d("div",{key:0,class:"dp__selection_preview",title:L.value},[$.$slots["action-preview"]?ye($.$slots,"action-preview",{key:0,value:$.internalModelValue}):c("",!0),$.$slots["action-preview"]?c("",!0):(i(),d(R,{key:1},[w(v(L.value),1)],64))],8,kF)):c("",!0),t("div",wF,[$.$slots["action-buttons"]?ye($.$slots,"action-buttons",{key:0,value:$.internalModelValue}):c("",!0),$.$slots["action-buttons"]?c("",!0):(i(),d(R,{key:1},[!C(p).enabled&&C(o).showCancel?(i(),d("button",{key:0,ref_key:"cancelButtonRef",ref:F,type:"button",class:"dp__action_button dp__action_cancel",onClick:j[0]||(j[0]=X=>$.$emit("close-picker")),onKeydown:[j[1]||(j[1]=Pe(X=>$.$emit("close-picker"),["enter"])),j[2]||(j[2]=Pe(X=>$.$emit("close-picker"),["space"]))]},v($.cancelText),545)):c("",!0),C(o).showNow?(i(),d("button",{key:1,ref_key:"cancelButtonRef",ref:F,type:"button",class:"dp__action_button dp__action_cancel",onClick:j[3]||(j[3]=X=>$.$emit("select-now")),onKeydown:[j[4]||(j[4]=Pe(X=>$.$emit("select-now"),["enter"])),j[5]||(j[5]=Pe(X=>$.$emit("select-now"),["space"]))]},v($.nowButtonLabel),545)):c("",!0),C(o).showSelect?(i(),d("button",{key:2,ref_key:"selectButtonRef",ref:D,type:"button",class:"dp__action_button dp__action_select",disabled:N.value,onKeydown:[Pe(oe,["enter"]),Pe(oe,["space"])],onClick:oe},v($.selectText),41,CF)):c("",!0)],64))])],64))],4))}}),TF=["onKeydown"],DF={class:"dp__selection_grid_header"},SF=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],PF=["aria-label"],zs=tt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(s,{expose:e,emit:n}){const{setSelectionGrid:a,buildMultiLevelMatrix:o,setMonthPicker:l}=Wt(),r=n,u=s,{defaultedAriaLabels:p,defaultedTextInput:h,defaultedConfig:k}=Xe(u),{hideNavigationButtons:_}=Js(),F=ce(!1),D=ce(null),M=ce(null),N=ce([]),te=ce(),U=ce(null),V=ce(0),ne=ce(null);Va(()=>{D.value=null}),rt(()=>{Lt().then(()=>j()),u.noOverlayFocus||H(),S(!0)}),Rn(()=>S(!1));const S=f=>{var m;u.arrowNavigation&&((m=u.headerRefs)!=null&&m.length?l(f):a(f))},H=()=>{var f;const m=Je(M);m&&(h.value.enabled||(D.value?(f=D.value)==null||f.focus({preventScroll:!0}):m.focus({preventScroll:!0})),F.value=m.clientHeight<m.scrollHeight)},W=se(()=>({dp__overlay:!0,"dp--overlay-absolute":!u.useRelative,"dp--overlay-relative":u.useRelative})),L=se(()=>u.useRelative?{height:`${u.height}px`,width:"260px"}:void 0),he=se(()=>({dp__overlay_col:!0})),oe=se(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:F.value,dp__button_bottom:u.isLast})),$=se(()=>{var f,m;return{dp__overlay_container:!0,dp__container_flex:((f=u.items)==null?void 0:f.length)<=6,dp__container_block:((m=u.items)==null?void 0:m.length)>6}});Ht(()=>u.items,()=>j(),{deep:!0});const j=()=>{Lt().then(()=>{const f=Je(D),m=Je(M),A=Je(U),B=Je(ne),le=A?A.getBoundingClientRect().height:0;m&&(m.getBoundingClientRect().height?V.value=m.getBoundingClientRect().height-le:V.value=k.value.modeHeight-le),f&&B&&(B.scrollTop=f.offsetTop-B.offsetTop-(V.value/2-f.getBoundingClientRect().height)-le)})},X=f=>{f.disabled||r("selected",f.value)},re=()=>{r("toggle"),r("reset-flow")},Y=()=>{u.escClose&&re()},y=(f,m,A,B)=>{f&&((m.active||m.value===u.focusValue)&&(D.value=f),u.arrowNavigation&&(Array.isArray(N.value[A])?N.value[A][B]=f:N.value[A]=[f],q()))},q=()=>{var f,m;const A=(f=u.headerRefs)!=null&&f.length?[u.headerRefs].concat(N.value):N.value.concat([u.skipButtonRef?[]:[U.value]]);o(et(A),(m=u.headerRefs)!=null&&m.length?"monthPicker":"selectionGrid")},z=f=>{u.arrowNavigation||Et(f,k.value,!0)},K=f=>{te.value=f,r("hover-value",f)};return e({focusGrid:H}),(f,m)=>{var A;return i(),d("div",{ref_key:"gridWrapRef",ref:M,class:P(W.value),style:bt(L.value),role:"dialog",tabindex:"0",onKeydown:[Pe(Fe(Y,["prevent"]),["esc"]),m[0]||(m[0]=Pe(Fe(B=>z(B),["prevent"]),["left"])),m[1]||(m[1]=Pe(Fe(B=>z(B),["prevent"]),["up"])),m[2]||(m[2]=Pe(Fe(B=>z(B),["prevent"]),["down"])),m[3]||(m[3]=Pe(Fe(B=>z(B),["prevent"]),["right"]))]},[t("div",{ref_key:"containerRef",ref:ne,class:P($.value),role:"grid",style:bt({height:`${V.value}px`})},[t("div",DF,[ye(f.$slots,"header")]),f.$slots.overlay?ye(f.$slots,"overlay",{key:0}):(i(!0),d(R,{key:1},J(f.items,(B,le)=>(i(),d("div",{key:le,class:P(["dp__overlay_row",{dp__flex_row:f.items.length>=3}]),role:"row"},[(i(!0),d(R,null,J(B,(de,I)=>(i(),d("div",{key:de.value,ref_for:!0,ref:g=>y(g,de,le,I),role:"gridcell",class:P(he.value),"aria-selected":de.active,"aria-disabled":de.disabled||void 0,tabindex:"0",onClick:g=>X(de),onKeydown:[Pe(Fe(g=>X(de),["prevent"]),["enter"]),Pe(Fe(g=>X(de),["prevent"]),["space"])],onMouseover:g=>K(de.value)},[t("div",{class:P(de.className)},[f.$slots.item?ye(f.$slots,"item",{key:0,item:de}):c("",!0),f.$slots.item?c("",!0):(i(),d(R,{key:1},[w(v(de.text),1)],64))],2)],42,SF))),128))],2))),128))],6),f.$slots["button-icon"]?b((i(),d("button",{key:0,ref_key:"toggleButton",ref:U,type:"button","aria-label":(A=C(p))==null?void 0:A.toggleOverlay,class:P(oe.value),tabindex:"0",onClick:re,onKeydown:[Pe(re,["enter"]),Pe(re,["tab"])]},[ye(f.$slots,"button-icon")],42,PF)),[[at,!C(_)(f.hideNavigation,f.type)]]):c("",!0)],46,TF)}}}),tn=tt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(s){const e=s,n=se(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),a=se(()=>({dp__instance_calendar:e.multiCalendars>0}));return(o,l)=>(i(),d("div",{class:P({dp__menu_inner:!o.stretch,"dp--menu--inner-stretched":o.stretch,dp__flex_display:o.multiCalendars>0})},[(i(!0),d(R,null,J(n.value,(r,u)=>(i(),d("div",{key:r,class:P(a.value)},[ye(o.$slots,"default",{instance:r,index:u})],2))),128))],2))}}),OF=["aria-label","aria-disabled"],Ts=tt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(s,{emit:e}){const n=e,a=ce(null);return rt(()=>n("set-ref",a)),(o,l)=>(i(),d("button",{ref_key:"elRef",ref:a,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":o.ariaLabel,"aria-disabled":o.disabled||void 0,onClick:l[0]||(l[0]=r=>o.$emit("activate")),onKeydown:[l[1]||(l[1]=Pe(Fe(r=>o.$emit("activate"),["prevent"]),["enter"])),l[2]||(l[2]=Pe(Fe(r=>o.$emit("activate"),["prevent"]),["space"]))]},[t("span",{class:P(["dp__inner_nav",{dp__inner_nav_disabled:o.disabled}])},[ye(o.$slots,"default")],2)],40,OF))}}),MF={class:"dp--year-mode-picker"},AF=["aria-label"],Ta=tt({__name:"YearModePicker",props:{...Tt,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(s,{emit:e}){const n=e,a=s,{showRightIcon:o,showLeftIcon:l}=Js(),{defaultedConfig:r,defaultedMultiCalendars:u,defaultedAriaLabels:p,defaultedTransitions:h}=Xe(a),{showTransition:k,transitionName:_}=js(h),F=(N=!1,te)=>{n("toggle-year-picker",{flow:N,show:te})},D=N=>{n("year-select",N)},M=(N=!1)=>{n("handle-year",N)};return(N,te)=>{var U,V,ne;return i(),d("div",MF,[C(l)(C(u),s.instance)?(i(),Q(Ts,{key:0,ref:"mpPrevIconRef","aria-label":(U=C(p))==null?void 0:U.prevYear,disabled:s.isDisabled(!1),onActivate:te[0]||(te[0]=S=>M(!1))},{default:O(()=>[N.$slots["arrow-left"]?ye(N.$slots,"arrow-left",{key:0}):c("",!0),N.$slots["arrow-left"]?c("",!0):(i(),Q(C(Hn),{key:1}))]),_:3},8,["aria-label","disabled"])):c("",!0),t("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(V=C(p))==null?void 0:V.openYearsOverlay,onClick:te[1]||(te[1]=()=>F(!1)),onKeydown:te[2]||(te[2]=Pe(()=>F(!1),["enter"]))},[N.$slots.year?ye(N.$slots,"year",{key:0,year:s.year}):c("",!0),N.$slots.year?c("",!0):(i(),d(R,{key:1},[w(v(s.year),1)],64))],40,AF),C(o)(C(u),s.instance)?(i(),Q(Ts,{key:1,ref:"mpNextIconRef","aria-label":(ne=C(p))==null?void 0:ne.nextYear,disabled:s.isDisabled(!0),onActivate:te[3]||(te[3]=S=>M(!0))},{default:O(()=>[N.$slots["arrow-right"]?ye(N.$slots,"arrow-right",{key:0}):c("",!0),N.$slots["arrow-right"]?c("",!0):(i(),Q(C(Wn),{key:1}))]),_:3},8,["aria-label","disabled"])):c("",!0),E(vs,{name:C(_)(s.showYearPicker),css:C(k)},{default:O(()=>[s.showYearPicker?(i(),Q(zs,{key:0,items:s.items,"text-input":N.textInput,"esc-close":N.escClose,config:N.config,"is-last":N.autoApply&&!C(r).keepActionRow,"hide-navigation":N.hideNavigation,type:"year",onToggle:F,onSelected:te[4]||(te[4]=S=>D(S))},mt({"button-icon":O(()=>[N.$slots["calendar-icon"]?ye(N.$slots,"calendar-icon",{key:0}):c("",!0),N.$slots["calendar-icon"]?c("",!0):(i(),Q(C(bs),{key:1}))]),_:2},[N.$slots["year-overlay-value"]?{name:"item",fn:O(({item:S})=>[ye(N.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation"])):c("",!0)]),_:3},8,["name","css"])])}}}),no=(s,e,n)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(a=>Ue(s,a))){const a=e.value.filter(o=>!Ue(o,s));e.value=a.length?a:null}else(n&&+n>e.value.length||!n)&&e.value.push(s);else e.value=[s]},oo=(s,e,n)=>{let a=s.value?s.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?nt(e,a[0])?(a.unshift(e),n("range-start",a[0]),n("range-start",a[1])):(a[1]=e,n("range-end",e)):(a=[e],n("range-start",e)),s.value=a,a},sn=(s,e,n,a)=>{s[0]&&s[1]&&n&&e("auto-apply"),s[0]&&!s[1]&&a&&n&&e("auto-apply")},Da=s=>{Array.isArray(s.value)&&s.value.length<=2&&s.range?s.modelValue.value=s.value.map(e=>Ft(Z(e),s.timezone)):Array.isArray(s.value)||(s.modelValue.value=Ft(Z(s.value),s.timezone))},Sa=({multiCalendars:s,highlight:e,calendars:n,modelValue:a,props:o,year:l,month:r,emit:u})=>{const p=se(()=>to(o.yearRange,o.reverseYears)),h=ce([!1]),k=se(()=>(S,H)=>{const W=Ee($t(new Date),{month:r.value(S),year:l.value(S)});return ka(W,o.maxDate,o.minDate,o.preventMinMaxNavigation,H)}),_=()=>{for(let S=0;S<s.value.count;S++)if(S===0)n.value[S]=n.value[0];else{const H=Ee(Z(),n.value[S-1]);n.value[S]={month:ze(H),year:Me(Vn(H,1))}}},F=S=>{if(!S)return _();const H=Ee(Z(),n.value[S]);return n.value[0].year=Me(ua(H,s.value.count-1)),_()},D=S=>o.focusStartDate?S[0]:S[1]?S[1]:S[0],M=()=>{if(a.value){const S=Array.isArray(a.value)?D(a.value):a.value;n.value[0]={month:ze(S),year:Me(S)}}};rt(()=>{M(),s.value.count&&_()});const N=(S,H)=>{n.value[H].year=S,s.value.count&&!s.value.solo&&F(H)},te=se(()=>S=>_s(p.value,H=>{const W=l.value(S)===H.value,L=Ms(H.value,fs(o.minDate),fs(o.maxDate)),he=so(e.value,H.value);return{active:W,disabled:L,highlighted:he}})),U=(S,H)=>{N(S,H),ne(H)},V=(S,H=!1)=>{if(!k.value(S,H)){const W=H?l.value(S)+1:l.value(S)-1;N(W,S)}},ne=(S,H=!1,W)=>{H||u("reset-flow"),W!==void 0?h.value[S]=W:h.value[S]=!h.value[S],h.value||u("overlay-closed")};return{isDisabled:k,groupedYears:te,showYearPicker:h,selectYear:N,toggleYearPicker:ne,handleYearSelect:U,handleYear:V}},jF=(s,e)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:o,defaultedConfig:l,defaultedHighlight:r}=Xe(s),{modelValue:u,year:p,month:h,calendars:k}=qs(s,e),_=se(()=>_a(s.formatLocale,s.locale,s.monthNameFormat)),F=ce(null),{selectYear:D,groupedYears:M,showYearPicker:N,toggleYearPicker:te,handleYearSelect:U,handleYear:V,isDisabled:ne}=Sa({modelValue:u,multiCalendars:n,highlight:r,calendars:k,year:p,month:h,props:s,emit:e});rt(()=>{s.startDate&&(u.value&&s.focusStartDate||!u.value)&&D(Me(Z(s.startDate)),0)});const S=z=>z?{month:ze(z),year:Me(z)}:{month:null,year:null},H=()=>u.value?Array.isArray(u.value)?u.value.map(z=>S(z)):S(u.value):S(),W=(z,K)=>{const f=k.value[z],m=H();return Array.isArray(m)?m.some(A=>A.year===(f==null?void 0:f.year)&&A.month===K):(f==null?void 0:f.year)===m.year&&K===m.month},L=(z,K,f)=>{var m,A;const B=H();return Array.isArray(B)?p.value(K)===((m=B[f])==null?void 0:m.year)&&z===((A=B[f])==null?void 0:A.month):!1},he=(z,K)=>{if(s.range){const f=H();if(Array.isArray(u.value)&&Array.isArray(f)){const m=L(z,K,0)||L(z,K,1),A=It($t(Z()),z,p.value(K));return Zs(u.value,F.value,A)&&!m}return!1}return!1},oe=se(()=>z=>_s(_.value,K=>{const f=W(z,K.value),m=Ms(K.value,va(p.value(z),s.minDate),ba(p.value(z),s.maxDate))||J5(s.disabledDates,p.value(z)).includes(K.value),A=he(K.value,z),B=Ca(r.value,K.value,p.value(z));return{active:f,disabled:m,isBetween:A,highlighted:B}})),$=(z,K)=>It($t(Z()),z,p.value(K)),j=(z,K)=>{const f=u.value?u.value:$t(new Date);u.value=It(f,z,p.value(K)),e("auto-apply")},X=(z,K)=>{const f=oo(u,$(z,K),e);sn(f,e,s.autoApply,s.modelAuto)},re=(z,K)=>{no($(z,K),u,s.multiDatesLimit),e("auto-apply",!0)},Y=(z,K)=>(k.value[K].month=z,q(K,k.value[K].year,z),s.multiDates?re(z,K):s.range?X(z,K):j(z,K)),y=(z,K)=>{D(z,K),q(K,z,null)},q=(z,K,f)=>{let m=f;if(!m&&m!==0){const A=H();m=Array.isArray(A)?A[z].month:A.month}e("update-month-year",{instance:z,year:K,month:m})};return{groupedMonths:oe,groupedYears:M,year:p,isDisabled:ne,defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:o,defaultedConfig:l,showYearPicker:N,modelValue:u,presetDate:(z,K)=>{Da({value:z,modelValue:u,range:s.range,timezone:K?void 0:s.timezone}),e("auto-apply")},setHoverDate:(z,K)=>{F.value=$(z,K)},selectMonth:Y,selectYear:y,toggleYearPicker:te,handleYearSelect:U,handleYear:V,getModelMonthYear:H}},qF=tt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Tt},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","mount"],setup(s,{expose:e,emit:n}){const a=n,o=os(),l=_t(o,"yearMode"),r=s;rt(()=>{r.shadow||a("mount",null)});const{groupedMonths:u,groupedYears:p,year:h,isDisabled:k,defaultedMultiCalendars:_,defaultedConfig:F,showYearPicker:D,modelValue:M,presetDate:N,setHoverDate:te,selectMonth:U,selectYear:V,toggleYearPicker:ne,handleYearSelect:S,handleYear:H,getModelMonthYear:W}=jF(r,a);return e({getSidebarProps:()=>({modelValue:M,year:h,getModelMonthYear:W,selectMonth:U,selectYear:V,handleYear:H}),presetDate:N,toggleYearPicker:L=>ne(0,L)}),(L,he)=>(i(),Q(tn,{"multi-calendars":C(_).count,stretch:""},{default:O(({instance:oe})=>[L.$slots["month-year"]?ye(L.$slots,"month-year",Ge(ot({key:0},{year:C(h),months:C(u)(oe),years:C(p)(oe),selectMonth:C(U),selectYear:C(V),instance:oe}))):(i(),Q(zs,{key:1,items:C(u)(oe),"arrow-navigation":L.arrowNavigation,"is-last":L.autoApply&&!C(F).keepActionRow,"esc-close":L.escClose,height:C(F).modeHeight,config:L.config,"no-overlay-focus":!!(L.noOverlayFocus||L.textInput),"use-relative":"",type:"month",onSelected:$=>C(U)($,oe),onHoverValue:$=>C(te)($,oe)},{header:O(()=>[E(Ta,ot(L.$props,{items:C(p)(oe),instance:oe,"show-year-picker":C(D)[oe],year:C(h)(oe),"is-disabled":$=>C(k)(oe,$),onHandleYear:$=>C(H)(oe,$),onYearSelect:$=>C(S)($,oe),onToggleYearPicker:$=>C(ne)(oe,$==null?void 0:$.flow,$==null?void 0:$.show)}),mt({_:2},[J(C(l),($,j)=>({name:$,fn:O(X=>[ye(L.$slots,$,Ge(ct(X)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),zF=(s,e)=>{const{modelValue:n}=qs(s,e),a=ce(null),{defaultedHighlight:o,defaultedFilters:l}=Xe(s),r=ce();rt(()=>{s.startDate&&(n.value&&s.focusStartDate||!n.value)&&(r.value=Me(Z(s.startDate)))});const u=_=>Array.isArray(n.value)?n.value.some(F=>Me(F)===_):n.value?Me(n.value)===_:!1,p=_=>s.range&&Array.isArray(n.value)?Zs(n.value,a.value,k(_)):!1,h=se(()=>_s(to(s.yearRange,s.reverseYears),_=>{const F=u(_.value),D=Ms(_.value,fs(s.minDate),fs(s.maxDate))||l.value.years.includes(_.value),M=p(_.value)&&!F,N=so(o.value,_.value);return{active:F,disabled:D,isBetween:M,highlighted:N}})),k=_=>Mt($t(new Date),_);return{groupedYears:h,modelValue:n,focusYear:r,setHoverValue:_=>{a.value=Mt($t(new Date),_)},selectYear:_=>{var F;if(s.multiDates)return n.value?Array.isArray(n.value)&&(((F=n.value)==null?void 0:F.map(D=>Me(D))).includes(_)?n.value=n.value.filter(D=>Me(D)!==_):n.value.push(Mt(it(Z()),_))):n.value=[Mt(it(Z()),_)],e("auto-apply",!0);if(s.range){const D=oo(n,k(_),e);return sn(D,e,s.autoApply,s.modelAuto)}n.value=k(_),e("auto-apply")}}},IF=tt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Tt},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(s,{expose:e,emit:n}){const a=n,o=s,{groupedYears:l,modelValue:r,focusYear:u,selectYear:p,setHoverValue:h}=zF(o,a),{defaultedConfig:k}=Xe(o);return e({getSidebarProps:()=>({modelValue:r,selectYear:p})}),(_,F)=>(i(),d("div",null,[_.$slots["month-year"]?ye(_.$slots,"month-year",Ge(ot({key:0},{years:C(l),selectYear:C(p)}))):(i(),Q(zs,{key:1,items:C(l),"is-last":_.autoApply&&!C(k).keepActionRow,height:C(k).modeHeight,config:_.config,"no-overlay-focus":!!(_.noOverlayFocus||_.textInput),"focus-value":C(u),type:"year","use-relative":"",onSelected:C(p),onHoverValue:C(h)},mt({_:2},[_.$slots["year-overlay-value"]?{name:"item",fn:O(({item:D})=>[ye(_.$slots,"year-overlay-value",{text:D.text,value:D.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),RF={key:0,class:"dp__time_input"},UF=["aria-label","onKeydown","onClick"],VF=t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),YF=t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),BF=["aria-label","disabled","onKeydown","onClick"],NF=["aria-label","onKeydown","onClick"],QF=t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),EF=t("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),xF={key:0},LF=["aria-label","onKeydown"],HF=tt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Tt},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(s,{expose:e,emit:n}){const a=n,o=s,{setTimePickerElements:l,setTimePickerBackRef:r}=Wt(),{defaultedAriaLabels:u,defaultedTransitions:p,defaultedFilters:h,defaultedConfig:k}=Xe(o),{transitionName:_,showTransition:F}=js(p),D=As({hours:!1,minutes:!1,seconds:!1}),M=ce("AM"),N=ce(null),te=ce([]);rt(()=>{a("mounted")});const U=g=>Ee(new Date,{hours:g.hours,minutes:g.minutes,seconds:o.enableSeconds?g.seconds:0,milliseconds:0}),V=se(()=>g=>Y(g,o[g])||S(g,o[g])),ne=se(()=>({hours:o.hours,minutes:o.minutes,seconds:o.seconds})),S=(g,ve)=>o.range&&!o.disableTimeRangeValidation?!o.validateTime(g,ve):!1,H=(g,ve)=>{if(o.range&&!o.disableTimeRangeValidation){const be=ve?+o[`${g}Increment`]:-+o[`${g}Increment`],ee=o[g]+be;return!o.validateTime(g,ee)}return!1},W=se(()=>g=>!q(+o[g]+ +o[`${g}Increment`],g)||H(g,!0)),L=se(()=>g=>!q(+o[g]-+o[`${g}Increment`],g)||H(g,!1)),he=(g,ve)=>Qo(Ee(Z(),g),ve),oe=(g,ve)=>u5(Ee(Z(),g),ve),$=se(()=>({dp__time_col:!0,dp__time_col_block:!o.timePickerInline,dp__time_col_reg_block:!o.enableSeconds&&o.is24&&!o.timePickerInline,dp__time_col_reg_inline:!o.enableSeconds&&o.is24&&o.timePickerInline,dp__time_col_reg_with_button:!o.enableSeconds&&!o.is24,dp__time_col_sec:o.enableSeconds&&o.is24,dp__time_col_sec_with_button:o.enableSeconds&&!o.is24})),j=se(()=>{const g=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return o.enableSeconds?g.concat([{type:"",separator:!0},{type:"seconds"}]):g}),X=se(()=>j.value.filter(g=>!g.separator)),re=se(()=>g=>{if(g==="hours"){const ve=A(+o.hours);return{text:ve<10?`0${ve}`:`${ve}`,value:ve}}return{text:o[g]<10?`0${o[g]}`:`${o[g]}`,value:o[g]}}),Y=(g,ve)=>{var be;if(!o.disabledTimesConfig)return!1;const ee=o.disabledTimesConfig(o.order,g==="hours"?ve:void 0);return ee[g]?!!((be=ee[g])!=null&&be.includes(ve)):!0},y=g=>{const ve=o.is24?24:12,be=g==="hours"?ve:60,ee=+o[`${g}GridIncrement`],Te=g==="hours"&&!o.is24?ee:0,ge=[];for(let x=Te;x<be;x+=ee)ge.push({value:x,text:x<10?`0${x}`:`${x}`});return g==="hours"&&!o.is24&&ge.push({value:0,text:"12"}),_s(ge,x=>({active:!1,disabled:h.value.times[g].includes(x.value)||!q(x.value,g)||Y(g,x.value)||S(g,x.value)}))},q=(g,ve)=>{const be=o.minTime?U(_n(o.minTime)):null,ee=o.maxTime?U(_n(o.maxTime)):null,Te=U(_n(ne.value,ve,g));return be&&ee?(Os(Te,ee)||us(Te,ee))&&(Ps(Te,be)||us(Te,be)):be?Ps(Te,be)||us(Te,be):ee?Os(Te,ee)||us(Te,ee):!0},z=g=>o[`no${g[0].toUpperCase()+g.slice(1)}Overlay`],K=g=>{z(g)||(D[g]=!D[g],D[g]||a("overlay-closed"))},f=g=>g==="hours"?Ct:g==="minutes"?At:ps,m=(g,ve=!0)=>{const be=ve?he:oe,ee=ve?+o[`${g}Increment`]:-+o[`${g}Increment`];q(+o[g]+ee,g)&&a(`update:${g}`,f(g)(be({[g]:+o[g]},{[g]:+o[`${g}Increment`]})))},A=g=>o.is24?g:(g>=12?M.value="PM":M.value="AM",V5(g)),B=()=>{M.value==="PM"?(M.value="AM",a("update:hours",o.hours-12)):(M.value="PM",a("update:hours",o.hours+12)),a("am-pm-change",M.value)},le=g=>{D[g]=!0},de=(g,ve,be)=>{if(g&&o.arrowNavigation){Array.isArray(te.value[ve])?te.value[ve][be]=g:te.value[ve]=[g];const ee=te.value.reduce((Te,ge)=>ge.map((x,ie)=>[...Te[ie]||[],ge[ie]]),[]);r(o.closeTimePickerBtn),N.value&&(ee[1]=ee[1].concat(N.value)),l(ee,o.order)}},I=(g,ve)=>(K(g),g==="hours"&&!o.is24?a(`update:${g}`,M.value==="PM"?ve+12:ve):a(`update:${g}`,ve));return e({openChildCmp:le}),(g,ve)=>{var be;return g.disabled?c("",!0):(i(),d("div",RF,[(i(!0),d(R,null,J(j.value,(ee,Te)=>{var ge,x,ie;return i(),d("div",{key:Te,class:P($.value)},[ee.separator?(i(),d(R,{key:0},[w(" : ")],64)):(i(),d(R,{key:1},[t("button",{ref_for:!0,ref:Se=>de(Se,Te,0),type:"button",class:P({dp__btn:!0,dp__inc_dec_button:!g.timePickerInline,dp__inc_dec_button_inline:g.timePickerInline,dp__tp_inline_btn_top:g.timePickerInline,dp__inc_dec_button_disabled:W.value(ee.type)}),"aria-label":(ge=C(u))==null?void 0:ge.incrementValue(ee.type),tabindex:"0",onKeydown:[Pe(Fe(Se=>m(ee.type),["prevent"]),["enter"]),Pe(Fe(Se=>m(ee.type),["prevent"]),["space"])],onClick:Se=>m(ee.type)},[o.timePickerInline?(i(),d(R,{key:1},[VF,YF],64)):(i(),d(R,{key:0},[g.$slots["arrow-up"]?ye(g.$slots,"arrow-up",{key:0}):c("",!0),g.$slots["arrow-up"]?c("",!0):(i(),Q(C(Xn),{key:1}))],64))],42,UF),t("button",{ref_for:!0,ref:Se=>de(Se,Te,1),type:"button","aria-label":(x=C(u))==null?void 0:x.openTpOverlay(ee.type),class:P({dp__time_display:!0,dp__time_display_block:!g.timePickerInline,dp__time_display_inline:g.timePickerInline,"dp--time-invalid":V.value(ee.type),"dp--time-overlay-btn":!V.value(ee.type)}),disabled:z(ee.type),tabindex:"0",onKeydown:[Pe(Fe(Se=>K(ee.type),["prevent"]),["enter"]),Pe(Fe(Se=>K(ee.type),["prevent"]),["space"])],onClick:Se=>K(ee.type)},[g.$slots[ee.type]?ye(g.$slots,ee.type,{key:0,text:re.value(ee.type).text,value:re.value(ee.type).value}):c("",!0),g.$slots[ee.type]?c("",!0):(i(),d(R,{key:1},[w(v(re.value(ee.type).text),1)],64))],42,BF),t("button",{ref_for:!0,ref:Se=>de(Se,Te,2),type:"button",class:P({dp__btn:!0,dp__inc_dec_button:!g.timePickerInline,dp__inc_dec_button_inline:g.timePickerInline,dp__tp_inline_btn_bottom:g.timePickerInline,dp__inc_dec_button_disabled:L.value(ee.type)}),"aria-label":(ie=C(u))==null?void 0:ie.decrementValue(ee.type),tabindex:"0",onKeydown:[Pe(Fe(Se=>m(ee.type,!1),["prevent"]),["enter"]),Pe(Fe(Se=>m(ee.type,!1),["prevent"]),["space"])],onClick:Se=>m(ee.type,!1)},[o.timePickerInline?(i(),d(R,{key:1},[QF,EF],64)):(i(),d(R,{key:0},[g.$slots["arrow-down"]?ye(g.$slots,"arrow-down",{key:0}):c("",!0),g.$slots["arrow-down"]?c("",!0):(i(),Q(C(Gn),{key:1}))],64))],42,NF)],64))],2)}),128)),g.is24?c("",!0):(i(),d("div",xF,[g.$slots["am-pm-button"]?ye(g.$slots,"am-pm-button",{key:0,toggle:B,value:M.value}):c("",!0),g.$slots["am-pm-button"]?c("",!0):(i(),d("button",{key:1,ref_key:"amPmButton",ref:N,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(be=C(u))==null?void 0:be.amPmButton,tabindex:"0",onClick:B,onKeydown:[Pe(Fe(B,["prevent"]),["enter"]),Pe(Fe(B,["prevent"]),["space"])]},v(M.value),41,LF))])),(i(!0),d(R,null,J(X.value,(ee,Te)=>(i(),Q(vs,{key:Te,name:C(_)(D[ee.type]),css:C(F)},{default:O(()=>[D[ee.type]?(i(),Q(zs,{key:0,items:y(ee.type),"is-last":g.autoApply&&!C(k).keepActionRow,"esc-close":g.escClose,type:ee.type,"text-input":g.textInput,config:g.config,"arrow-navigation":g.arrowNavigation,onSelected:ge=>I(ee.type,ge),onToggle:ge=>K(ee.type),onResetFlow:ve[0]||(ve[0]=ge=>g.$emit("reset-flow"))},mt({"button-icon":O(()=>[g.$slots["clock-icon"]?ye(g.$slots,"clock-icon",{key:0}):c("",!0),g.$slots["clock-icon"]?c("",!0):(i(),Q(Ds(g.timePickerInline?C(bs):C(Kn)),{key:1}))]),_:2},[g.$slots[`${ee.type}-overlay-value`]?{name:"item",fn:O(({item:ge})=>[ye(g.$slots,`${ee.type}-overlay-value`,{text:ge.text,value:ge.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):c("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),WF={class:"dp--tp-wrap"},KF=["aria-label","tabindex"],XF=["tabindex"],GF=["aria-label"],Pa=tt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Tt},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(s,{expose:e,emit:n}){const a=n,o=s,{buildMatrix:l,setTimePicker:r}=Wt(),u=os(),{defaultedTransitions:p,defaultedAriaLabels:h,defaultedTextInput:k,defaultedConfig:_}=Xe(o),{transitionName:F,showTransition:D}=js(p),{hideNavigationButtons:M}=Js(),N=ce(null),te=ce(null),U=ce([]),V=ce(null);rt(()=>{a("mount"),!o.timePicker&&o.arrowNavigation?l([Je(N.value)],"time"):r(!0,o.timePicker)});const ne=se(()=>o.range&&o.modelAuto?fa(o.internalModelValue):!0),S=ce(!1),H=y=>({hours:Array.isArray(o.hours)?o.hours[y]:o.hours,minutes:Array.isArray(o.minutes)?o.minutes[y]:o.minutes,seconds:Array.isArray(o.seconds)?o.seconds[y]:o.seconds}),W=se(()=>{const y=[];if(o.range)for(let q=0;q<2;q++)y.push(H(q));else y.push(H(0));return y}),L=(y,q=!1,z="")=>{q||a("reset-flow"),S.value=y,a(y?"overlay-opened":"overlay-closed"),o.arrowNavigation&&r(y),Lt(()=>{z!==""&&U.value[0]&&U.value[0].openChildCmp(z)})},he=se(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:o.autoApply&&!_.value.keepActionRow})),oe=_t(u,"timePicker"),$=(y,q,z)=>o.range?q===0?[y,W.value[1][z]]:[W.value[0][z],y]:y,j=y=>{a("update:hours",y)},X=y=>{a("update:minutes",y)},re=y=>{a("update:seconds",y)},Y=()=>{if(V.value&&!k.value.enabled&&!o.noOverlayFocus){const y=B5(V.value);y&&y.focus({preventScroll:!0})}};return e({toggleTimePicker:L}),(y,q)=>{var z;return i(),d("div",WF,[!y.timePicker&&!y.timePickerInline?b((i(),d("button",{key:0,ref_key:"openTimePickerBtn",ref:N,type:"button",class:P(he.value),"aria-label":(z=C(h))==null?void 0:z.openTimePicker,tabindex:y.noOverlayFocus?void 0:0,onKeydown:[q[0]||(q[0]=Pe(K=>L(!0),["enter"])),q[1]||(q[1]=Pe(K=>L(!0),["space"]))],onClick:q[2]||(q[2]=K=>L(!0))},[y.$slots["clock-icon"]?ye(y.$slots,"clock-icon",{key:0}):c("",!0),y.$slots["clock-icon"]?c("",!0):(i(),Q(C(Kn),{key:1}))],42,KF)),[[at,!C(M)(y.hideNavigation,"time")]]):c("",!0),E(vs,{name:C(F)(S.value),css:C(D)&&!y.timePickerInline},{default:O(()=>{var K;return[S.value||y.timePicker||y.timePickerInline?(i(),d("div",{key:0,ref_key:"overlayRef",ref:V,class:P({dp__overlay:!y.timePickerInline,"dp--overlay-absolute":!o.timePicker&&!y.timePickerInline,"dp--overlay-relative":o.timePicker}),style:bt(y.timePicker?{height:`${C(_).modeHeight}px`}:void 0),tabindex:y.timePickerInline?void 0:0},[t("div",{class:P(y.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[y.$slots["time-picker-overlay"]?ye(y.$slots,"time-picker-overlay",{key:0,hours:s.hours,minutes:s.minutes,seconds:s.seconds,setHours:j,setMinutes:X,setSeconds:re}):c("",!0),y.$slots["time-picker-overlay"]?c("",!0):(i(),d("div",{key:1,class:P(y.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(i(!0),d(R,null,J(W.value,(f,m)=>b((i(),Q(HF,ot({key:m},{...y.$props,order:m,hours:f.hours,minutes:f.minutes,seconds:f.seconds,closeTimePickerBtn:te.value,disabledTimesConfig:s.disabledTimesConfig,disabled:m===0?y.fixedStart:y.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:U,"validate-time":(A,B)=>s.validateTime(A,$(B,m,A)),"onUpdate:hours":A=>j($(A,m,"hours")),"onUpdate:minutes":A=>X($(A,m,"minutes")),"onUpdate:seconds":A=>re($(A,m,"seconds")),onMounted:Y,onOverlayClosed:Y,onAmPmChange:q[3]||(q[3]=A=>y.$emit("am-pm-change",A))}),mt({_:2},[J(C(oe),(A,B)=>({name:A,fn:O(le=>[ye(y.$slots,A,Ge(ct(le)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[at,m===0?!0:ne.value]])),128))],2)),!y.timePicker&&!y.timePickerInline?b((i(),d("button",{key:2,ref_key:"closeTimePickerBtn",ref:te,type:"button",class:P(he.value),"aria-label":(K=C(h))==null?void 0:K.closeTimePicker,tabindex:"0",onKeydown:[q[4]||(q[4]=Pe(f=>L(!1),["enter"])),q[5]||(q[5]=Pe(f=>L(!1),["space"]))],onClick:q[6]||(q[6]=f=>L(!1))},[y.$slots["calendar-icon"]?ye(y.$slots,"calendar-icon",{key:0}):c("",!0),y.$slots["calendar-icon"]?c("",!0):(i(),Q(C(bs),{key:1}))],42,GF)),[[at,!C(M)(y.hideNavigation,"time")]]):c("",!0)],2)],14,XF)):c("",!0)]}),_:3},8,["name","css"])])}}}),Oa=(s,e,n,a)=>{const o=(U,V)=>Array.isArray(e[U])?e[U][V]:e[U],l=U=>s.enableSeconds?Array.isArray(e.seconds)?e.seconds[U]:e.seconds:0,r=(U,V)=>U?V!==void 0?xt(U,o("hours",V),o("minutes",V),l(V)):xt(U,e.hours,e.minutes,l()):Ln(Z(),l(V)),u=(U,V)=>{e[U]=V},p=(U,V)=>{const ne=Object.fromEntries(Object.keys(e).map(S=>S===U?[S,V]:[S,e[S]].slice()));if(s.range&&!s.disableTimeRangeValidation){const S=W=>n.value?xt(n.value[W],ne.hours[W],ne.minutes[W],ne.seconds[W]):null,H=W=>xn(n.value[W],0);return!(Ue(S(0),S(1))&&(Ps(S(0),H(1))||Os(S(1),H(0))))}return!0},h=(U,V)=>{p(U,V)&&(u(U,V),a&&a())},k=U=>{h("hours",U)},_=U=>{h("minutes",U)},F=U=>{h("seconds",U)},D=(U,V,ne,S)=>{V&&k(U),!V&&!ne&&_(U),ne&&F(U),n.value&&S(n.value)},M=U=>{if(U){const V=Array.isArray(U),ne=V?[+U[0].hours,+U[1].hours]:+U.hours,S=V?[+U[0].minutes,+U[1].minutes]:+U.minutes,H=V?[+U[0].seconds,+U[1].seconds]:+U.seconds;u("hours",ne),u("minutes",S),s.enableSeconds&&u("seconds",H)}},N=(U,V)=>{const ne={hours:Array.isArray(e.hours)?e.hours[U]:e.hours,disabledArr:[]};return(V||V===0)&&(ne.hours=V),Array.isArray(s.disabledTimes)&&(ne.disabledArr=s.range&&Array.isArray(s.disabledTimes[U])?s.disabledTimes[U]:s.disabledTimes),ne},te=se(()=>(U,V)=>{var ne;if(Array.isArray(s.disabledTimes)){const{disabledArr:S,hours:H}=N(U,V),W=S.filter(L=>+L.hours===H);return((ne=W[0])==null?void 0:ne.minutes)==="*"?{hours:[H],minutes:void 0,seconds:void 0}:{hours:[],minutes:(W==null?void 0:W.map(L=>+L.minutes))??[],seconds:(W==null?void 0:W.map(L=>L.seconds?+L.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:u,updateHours:k,updateMinutes:_,updateSeconds:F,getSetDateTime:r,updateTimeValues:D,getSecondsValue:l,assignStartTime:M,validateTime:p,disabledTimesConfig:te}},ZF=(s,e)=>{const{modelValue:n,time:a}=qs(s,e),{defaultedStartTime:o}=Xe(s),{updateTimeValues:l,getSetDateTime:r,setTime:u,assignStartTime:p,disabledTimesConfig:h,validateTime:k}=Oa(s,a,n),_=V=>{const{hours:ne,minutes:S,seconds:H}=V;return{hours:+ne,minutes:+S,seconds:H?+H:0}},F=()=>{if(s.startTime){if(Array.isArray(s.startTime)){const ne=_(s.startTime[0]),S=_(s.startTime[1]);return[Ee(Z(),ne),Ee(Z(),S)]}const V=_(s.startTime);return Ee(Z(),V)}return s.range?[null,null]:null},D=()=>{if(s.range){const[V,ne]=F();n.value=[r(V,0),r(ne,1)]}else n.value=r(F())},M=V=>Array.isArray(V)?[Gt(Z(V[0])),Gt(Z(V[1]))]:[Gt(V??Z())],N=(V,ne,S)=>{u("hours",V),u("minutes",ne),u("seconds",s.enableSeconds?S:0)},te=()=>{const[V,ne]=M(n.value);return s.range?N([V.hours,ne.hours],[V.minutes,ne.minutes],[V.seconds,ne.minutes]):N(V.hours,V.minutes,V.seconds)};rt(()=>{if(!s.shadow)return p(o.value),n.value?te():D()});const U=()=>{Array.isArray(n.value)?n.value=n.value.map((V,ne)=>V&&r(V,ne)):n.value=r(n.value),e("time-update")};return{modelValue:n,time:a,disabledTimesConfig:h,updateTime:(V,ne=!0,S=!1)=>{l(V,ne,S,U)},validateTime:k}},JF=tt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Tt},emits:["update:internal-model-value","time-update","am-pm-change"],setup(s,{expose:e,emit:n}){const a=n,o=s,l=os(),r=_t(l,"timePicker"),{time:u,modelValue:p,disabledTimesConfig:h,updateTime:k,validateTime:_}=ZF(o,a);return e({getSidebarProps:()=>({modelValue:p,time:u,updateTime:k})}),(F,D)=>(i(),Q(tn,{"multi-calendars":0,stretch:""},{default:O(()=>[E(Pa,ot(F.$props,{hours:C(u).hours,minutes:C(u).minutes,seconds:C(u).seconds,"internal-model-value":F.internalModelValue,"disabled-times-config":C(h),"validate-time":C(_),"onUpdate:hours":D[0]||(D[0]=M=>C(k)(M)),"onUpdate:minutes":D[1]||(D[1]=M=>C(k)(M,!1)),"onUpdate:seconds":D[2]||(D[2]=M=>C(k)(M,!1,!0)),onAmPmChange:D[3]||(D[3]=M=>F.$emit("am-pm-change",M))}),mt({_:2},[J(C(r),(M,N)=>({name:M,fn:O(te=>[ye(F.$slots,M,Ge(ct(te)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),e4={class:"dp__month_year_row"},t4=["aria-label","onClick","onKeydown"],s4=tt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Tt},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(s,{expose:e,emit:n}){const a=n,o=s,{defaultedTransitions:l,defaultedAriaLabels:r,defaultedMultiCalendars:u,defaultedFilters:p,defaultedConfig:h,defaultedHighlight:k}=Xe(o),{transitionName:_,showTransition:F}=js(l),{buildMatrix:D}=Wt(),{handleMonthYearChange:M,isDisabled:N,updateMonthYear:te}=mF(o,a),{showLeftIcon:U,showRightIcon:V}=Js(),ne=ce(!1),S=ce(!1),H=ce([null,null,null,null]);rt(()=>{a("mount")});const W=m=>({get:()=>o[m],set:A=>{const B=m===yt.month?yt.year:yt.month;a("update-month-year",{[m]:A,[B]:o[B]}),m===yt.month?Y(!0):y(!0)}}),L=se(W(yt.month)),he=se(W(yt.year)),oe=se(()=>m=>({month:o.month,year:o.year,items:m===yt.month?o.months:o.years,instance:o.instance,updateMonthYear:te,toggle:m===yt.month?Y:y})),$=se(()=>o.months.find(A=>A.value===o.month)||{text:"",value:0}),j=se(()=>_s(o.months,m=>{const A=o.month===m.value,B=Ms(m.value,va(o.year,o.minDate),ba(o.year,o.maxDate))||p.value.months.includes(m.value),le=Ca(k.value,m.value,o.year);return{active:A,disabled:B,highlighted:le}})),X=se(()=>_s(o.years,m=>{const A=o.year===m.value,B=Ms(m.value,fs(o.minDate),fs(o.maxDate))||p.value.years.includes(m.value),le=so(k.value,m.value);return{active:A,disabled:B,highlighted:le}})),re=(m,A)=>{A!==void 0?m.value=A:m.value=!m.value,m.value||a("overlay-closed")},Y=(m=!1,A)=>{q(m),re(ne,A)},y=(m=!1,A)=>{q(m),re(S,A)},q=m=>{m||a("reset-flow")},z=(m,A)=>{o.arrowNavigation&&(H.value[A]=Je(m),D(H.value,"monthYear"))},K=se(()=>{var m,A;return[{type:yt.month,index:1,toggle:Y,modelValue:L.value,updateModelValue:B=>L.value=B,text:$.value.text,showSelectionGrid:ne.value,items:j.value,ariaLabel:(m=r.value)==null?void 0:m.openMonthsOverlay},{type:yt.year,index:2,toggle:y,modelValue:he.value,updateModelValue:B=>he.value=B,text:o.year,showSelectionGrid:S.value,items:X.value,ariaLabel:(A=r.value)==null?void 0:A.openYearsOverlay}]}),f=se(()=>o.disableYearSelect?[K.value[0]]:o.yearFirst?[...K.value].reverse():K.value);return e({toggleMonthPicker:Y,toggleYearPicker:y,handleMonthYearChange:M}),(m,A)=>{var B,le,de;return i(),d("div",e4,[m.$slots["month-year"]?ye(m.$slots,"month-year",Ge(ot({key:0},{month:s.month,year:s.year,months:s.months,years:s.years,updateMonthYear:C(te),handleMonthYearChange:C(M),instance:s.instance}))):(i(),d(R,{key:1},[C(U)(C(u),s.instance)&&!m.vertical?(i(),Q(Ts,{key:0,"aria-label":(B=C(r))==null?void 0:B.prevMonth,disabled:C(N)(!1),onActivate:A[0]||(A[0]=I=>C(M)(!1,!0)),onSetRef:A[1]||(A[1]=I=>z(I,0))},{default:O(()=>[m.$slots["arrow-left"]?ye(m.$slots,"arrow-left",{key:0}):c("",!0),m.$slots["arrow-left"]?c("",!0):(i(),Q(C(Hn),{key:1}))]),_:3},8,["aria-label","disabled"])):c("",!0),t("div",{class:P(["dp__month_year_wrap",{dp__year_disable_select:m.disableYearSelect}])},[(i(!0),d(R,null,J(f.value,(I,g)=>(i(),d(R,{key:I.type},[t("button",{ref_for:!0,ref:ve=>z(ve,g+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":I.ariaLabel,onClick:I.toggle,onKeydown:[Pe(Fe(I.toggle,["prevent"]),["enter"]),Pe(Fe(I.toggle,["prevent"]),["space"])]},[m.$slots[I.type]?ye(m.$slots,I.type,{key:0,text:I.text,value:o[I.type]}):c("",!0),m.$slots[I.type]?c("",!0):(i(),d(R,{key:1},[w(v(I.text),1)],64))],40,t4),E(vs,{name:C(_)(I.showSelectionGrid),css:C(F)},{default:O(()=>[I.showSelectionGrid?(i(),Q(zs,{key:0,items:I.items,"arrow-navigation":m.arrowNavigation,"hide-navigation":m.hideNavigation,"is-last":m.autoApply&&!C(h).keepActionRow,"skip-button-ref":!1,config:m.config,type:I.type,"header-refs":[],"esc-close":m.escClose,"text-input":m.textInput,onSelected:I.updateModelValue,onToggle:I.toggle},mt({"button-icon":O(()=>[m.$slots["calendar-icon"]?ye(m.$slots,"calendar-icon",{key:0}):c("",!0),m.$slots["calendar-icon"]?c("",!0):(i(),Q(C(bs),{key:1}))]),_:2},[m.$slots[`${I.type}-overlay-value`]?{name:"item",fn:O(({item:ve})=>[ye(m.$slots,`${I.type}-overlay-value`,{text:ve.text,value:ve.value})]),key:"0"}:void 0,m.$slots[`${I.type}-overlay`]?{name:"overlay",fn:O(()=>[ye(m.$slots,`${I.type}-overlay`,Ge(ct(oe.value(I.type))))]),key:"1"}:void 0,m.$slots[`${I.type}-overlay-header`]?{name:"header",fn:O(()=>[ye(m.$slots,`${I.type}-overlay-header`,{toggle:I.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):c("",!0)]),_:2},1032,["name","css"])],64))),128))],2),C(U)(C(u),s.instance)&&m.vertical?(i(),Q(Ts,{key:1,"aria-label":(le=C(r))==null?void 0:le.prevMonth,disabled:C(N)(!1),onActivate:A[2]||(A[2]=I=>C(M)(!1,!0))},{default:O(()=>[m.$slots["arrow-up"]?ye(m.$slots,"arrow-up",{key:0}):c("",!0),m.$slots["arrow-up"]?c("",!0):(i(),Q(C(Xn),{key:1}))]),_:3},8,["aria-label","disabled"])):c("",!0),C(V)(C(u),s.instance)?(i(),Q(Ts,{key:2,ref:"rightIcon",disabled:C(N)(!0),"aria-label":(de=C(r))==null?void 0:de.nextMonth,onActivate:A[3]||(A[3]=I=>C(M)(!0,!0)),onSetRef:A[4]||(A[4]=I=>z(I,m.disableYearSelect?2:3))},{default:O(()=>[m.$slots[m.vertical?"arrow-down":"arrow-right"]?ye(m.$slots,m.vertical?"arrow-down":"arrow-right",{key:0}):c("",!0),m.$slots[m.vertical?"arrow-down":"arrow-right"]?c("",!0):(i(),Q(Ds(m.vertical?C(Gn):C(Wn)),{key:1}))]),_:3},8,["disabled","aria-label"])):c("",!0)],64))])}}}),n4=["aria-label"],o4={class:"dp__calendar_header",role:"row"},a4={key:0,class:"dp__calendar_header_item",role:"gridcell"},l4=t("div",{class:"dp__calendar_header_separator"},null,-1),i4=["aria-label"],r4={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},d4={class:"dp__cell_inner"},u4=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],c4=tt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Tt},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(s,{expose:e,emit:n}){const a=n,o=s,{buildMultiLevelMatrix:l}=Wt(),{defaultedTransitions:r,defaultedConfig:u,defaultedAriaLabels:p,defaultedMultiCalendars:h,defaultedWeekNumbers:k}=Xe(o),_=ce(null),F=ce({bottom:"",left:"",transform:""}),D=ce([]),M=ce(null),N=ce(!0),te=ce(""),U=ce({startX:0,endX:0,startY:0,endY:0}),V=ce([]),ne=ce({left:"50%"}),S=se(()=>o.calendar?o.calendar(o.mappedDates):o.mappedDates),H=se(()=>o.dayNames?Array.isArray(o.dayNames)?o.dayNames:o.dayNames(o.locale,+o.weekStart):U5(o.formatLocale,o.locale,+o.weekStart));rt(()=>{a("mount",{cmp:"calendar",refs:D}),u.value.noSwipe||M.value&&(M.value.addEventListener("touchstart",y,{passive:!1}),M.value.addEventListener("touchend",q,{passive:!1}),M.value.addEventListener("touchmove",z,{passive:!1})),o.monthChangeOnScroll&&M.value&&M.value.addEventListener("wheel",m,{passive:!1})});const W=I=>I?o.vertical?"vNext":"next":o.vertical?"vPrevious":"previous",L=(I,g)=>{if(o.transitions){const ve=it(It(Z(),o.month,o.year));te.value=lt(it(It(Z(),I,g)),ve)?r.value[W(!0)]:r.value[W(!1)],N.value=!1,Lt(()=>{N.value=!0})}},he=se(()=>({[o.calendarClassName]:!!o.calendarClassName})),oe=se(()=>I=>{const g=Y5(I);return{dp__marker_dot:g.type==="dot",dp__marker_line:g.type==="line"}}),$=se(()=>I=>Ue(I,_.value)),j=se(()=>({dp__calendar:!0,dp__calendar_next:h.value.count>0&&o.instance!==0})),X=se(()=>I=>o.hideOffsetDates?I.current:!0),re=async(I,g,ve)=>{var be,ee;if(a("set-hover-date",I),(ee=(be=I.marker)==null?void 0:be.tooltip)!=null&&ee.length){const Te=Je(D.value[g][ve]);if(Te){const{width:ge,height:x}=Te.getBoundingClientRect();_.value=I.value;let ie={left:`${ge/2}px`},Se=-50;if(await Lt(),V.value[0]){const{left:ue,width:Be}=V.value[0].getBoundingClientRect();ue<0&&(ie={left:"0"},Se=0,ne.value.left=`${ge/2}px`),window.innerWidth<ue+Be&&(ie={right:"0"},Se=0,ne.value.left=`${Be-ge/2}px`)}F.value={bottom:`${x}px`,...ie,transform:`translateX(${Se}%)`},a("tooltip-open",I.marker)}}},Y=I=>{_.value&&(_.value=null,F.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",I.marker))},y=I=>{U.value.startX=I.changedTouches[0].screenX,U.value.startY=I.changedTouches[0].screenY},q=I=>{U.value.endX=I.changedTouches[0].screenX,U.value.endY=I.changedTouches[0].screenY,K()},z=I=>{o.vertical&&!o.inline&&I.preventDefault()},K=()=>{const I=o.vertical?"Y":"X";Math.abs(U.value[`start${I}`]-U.value[`end${I}`])>10&&a("handle-swipe",U.value[`start${I}`]>U.value[`end${I}`]?"right":"left")},f=(I,g,ve)=>{I&&(Array.isArray(D.value[g])?D.value[g][ve]=I:D.value[g]=[I]),o.arrowNavigation&&l(D.value,"calendar")},m=I=>{o.monthChangeOnScroll&&(I.preventDefault(),a("handle-scroll",I))},A=I=>k.value.type==="local"?X3(I.value,{weekStartsOn:+o.weekStart}):k.value.type==="iso"?L3(I.value):typeof k.value.type=="function"?k.value.type(I.value):"",B=I=>{const g=I[0];return k.value.hideOnOffsetDates?I.some(ve=>ve.current)?A(g):"":A(g)},le=(I,g)=>{Et(I,u.value),a("select-date",g)},de=I=>{Et(I,u.value)};return e({triggerTransition:L}),(I,g)=>{var ve;return i(),d("div",{class:P(j.value)},[t("div",{ref_key:"calendarWrapRef",ref:M,role:"grid",class:P(he.value),"aria-label":(ve=C(p))==null?void 0:ve.calendarWrap},[(i(),d(R,{key:0},[t("div",o4,[I.weekNumbers?(i(),d("div",a4,v(I.weekNumName),1)):c("",!0),(i(!0),d(R,null,J(H.value,(be,ee)=>(i(),d("div",{key:ee,class:"dp__calendar_header_item",role:"gridcell"},[I.$slots["calendar-header"]?ye(I.$slots,"calendar-header",{key:0,day:be,index:ee}):c("",!0),I.$slots["calendar-header"]?c("",!0):(i(),d(R,{key:1},[w(v(be),1)],64))]))),128))]),l4,E(vs,{name:te.value,css:!!I.transitions},{default:O(()=>{var be;return[N.value?(i(),d("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((be=C(p))==null?void 0:be.calendarDays)||void 0},[(i(!0),d(R,null,J(S.value,(ee,Te)=>(i(),d("div",{key:Te,class:"dp__calendar_row",role:"row"},[I.weekNumbers?(i(),d("div",r4,[t("div",d4,v(B(ee.days)),1)])):c("",!0),(i(!0),d(R,null,J(ee.days,(ge,x)=>{var ie,Se,ue;return i(),d("div",{id:ge.value.toISOString().split("T")[0],ref_for:!0,ref:Be=>f(Be,Te,x),key:x+Te,role:"gridcell",class:"dp__calendar_item","aria-selected":ge.classData.dp__active_date||ge.classData.dp__range_start||ge.classData.dp__range_start,"aria-disabled":ge.classData.dp__cell_disabled||void 0,"aria-label":(Se=(ie=C(p))==null?void 0:ie.day)==null?void 0:Se.call(ie,ge),tabindex:"0",onClick:Fe(Be=>le(Be,ge),["prevent"]),onKeydown:[Pe(Be=>I.$emit("select-date",ge),["enter"]),Pe(Be=>I.$emit("handle-space",ge),["space"])],onMouseenter:Be=>re(ge,Te,x),onMouseleave:Be=>Y(ge)},[t("div",{class:P(["dp__cell_inner",ge.classData])},[I.$slots.day&&X.value(ge)?ye(I.$slots,"day",{key:0,day:+ge.text,date:ge.value}):c("",!0),I.$slots.day?c("",!0):(i(),d(R,{key:1},[w(v(ge.text),1)],64)),ge.marker&&X.value(ge)?(i(),d(R,{key:2},[I.$slots.marker?ye(I.$slots,"marker",{key:0,marker:ge.marker,day:+ge.text,date:ge.value}):(i(),d("div",{key:1,class:P(oe.value(ge.marker)),style:bt(ge.marker.color?{backgroundColor:ge.marker.color}:{})},null,6))],64)):c("",!0),$.value(ge.value)?(i(),d("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:V,class:"dp__marker_tooltip",style:bt(F.value)},[(ue=ge.marker)!=null&&ue.tooltip?(i(),d("div",{key:0,class:"dp__tooltip_content",onClick:de},[(i(!0),d(R,null,J(ge.marker.tooltip,(Be,ht)=>(i(),d("div",{key:ht,class:"dp__tooltip_text"},[I.$slots["marker-tooltip"]?ye(I.$slots,"marker-tooltip",{key:0,tooltip:Be,day:ge.value}):c("",!0),I.$slots["marker-tooltip"]?c("",!0):(i(),d(R,{key:1},[t("div",{class:"dp__tooltip_mark",style:bt(Be.color?{backgroundColor:Be.color}:{})},null,4),t("div",null,v(Be.text),1)],64))]))),128)),t("div",{class:"dp__arrow_bottom_tp",style:bt(ne.value)},null,4)])):c("",!0)],4)):c("",!0)],2)],40,u4)}),128))]))),128))],8,i4)):c("",!0)]}),_:3},8,["name","css"])],64))],10,n4)],2)}}}),qo=s=>Array.isArray(s),m4=(s,e,n,a)=>{const o=ce([]),{modelValue:l,calendars:r,time:u}=qs(s,e),{defaultedMultiCalendars:p,defaultedStartTime:h}=Xe(s),{validateMonthYearInRange:k,isDisabled:_,isDateRangeAllowed:F,checkMinMaxRange:D}=as(s),{updateTimeValues:M,getSetDateTime:N,setTime:te,assignStartTime:U,validateTime:V,disabledTimesConfig:ne}=Oa(s,u,l,a),S=se(()=>T=>r.value[T]?r.value[T].month:0),H=se(()=>T=>r.value[T]?r.value[T].year:0),W=(T,ae,Ce)=>{var Ae,xe;r.value[T]||(r.value[T]={month:0,year:0}),r.value[T].month=Po(ae)?(Ae=r.value[T])==null?void 0:Ae.month:ae,r.value[T].year=Po(Ce)?(xe=r.value[T])==null?void 0:xe.year:Ce},L=()=>{s.autoApply&&e("select-date")};Ht(l,(T,ae)=>{JSON.stringify(T)!==JSON.stringify(ae)&&$()}),rt(()=>{s.shadow||(l.value||(m(),h.value&&U(h.value)),$(!0),s.focusStartDate&&s.startDate&&m())});const he=se(()=>{var T;return(T=s.flow)!=null&&T.length&&!s.partialFlow?s.flowStep===s.flow.length:!0}),oe=()=>{s.autoApply&&he.value&&e("auto-apply",s.partialFlow)},$=(T=!1)=>{if(l.value)return Array.isArray(l.value)?(o.value=l.value,q(T)):X(l.value,T);if(p.value.count&&T&&!s.startDate)return j(Z(),T)},j=(T,ae=!1)=>{if((!p.value.count||!p.value.static||ae)&&W(0,ze(T),Me(T)),p.value.count&&(!p.value.solo||!l.value))for(let Ce=1;Ce<p.value.count;Ce++){const Ae=Ee(Z(),{month:S.value(Ce-1),year:H.value(Ce-1)}),xe=Qo(Ae,{months:1});r.value[Ce]={month:ze(xe),year:Me(xe)}}},X=(T,ae)=>{j(T),te("hours",Ct(T)),te("minutes",At(T)),te("seconds",ps(T)),p.value.count&&ae&&f()},re=T=>{if(p.value.count){if(p.value.solo)return 0;const ae=ze(T[0]),Ce=ze(T[1]);return Math.abs(Ce-ae)<p.value.count?0:1}return 1},Y=(T,ae)=>{T[1]&&s.showLastInRange?j(T[re(T)],ae):j(T[0],ae);const Ce=(Ae,xe)=>[Ae(T[0]),T[1]?Ae(T[1]):u[xe][1]];te("hours",Ce(Ct,"hours")),te("minutes",Ce(At,"minutes")),te("seconds",Ce(ps,"seconds"))},y=(T,ae)=>{if((s.range||s.weekPicker)&&!s.multiDates)return Y(T,ae);if(s.multiDates&&ae){const Ce=T[T.length-1];return X(Ce,ae)}},q=T=>{const ae=l.value;y(ae,T),p.value.count&&p.value.solo&&f()},z=(T,ae)=>{const Ce=Ee(Z(),{month:S.value(ae),year:H.value(ae)}),Ae=T<0?wt(Ce,1):hs(Ce,1);k(ze(Ae),Me(Ae),T<0,s.preventMinMaxNavigation)&&(W(ae,ze(Ae),Me(Ae)),e("update-month-year",{instance:ae,month:ze(Ae),year:Me(Ae)}),p.value.count&&!p.value.solo&&K(ae),n())},K=T=>{for(let ae=T-1;ae>=0;ae--){const Ce=hs(Ee(Z(),{month:S.value(ae+1),year:H.value(ae+1)}),1);W(ae,ze(Ce),Me(Ce))}for(let ae=T+1;ae<=p.value.count-1;ae++){const Ce=wt(Ee(Z(),{month:S.value(ae-1),year:H.value(ae-1)}),1);W(ae,ze(Ce),Me(Ce))}},f=()=>{if(Array.isArray(l.value)&&l.value.length===2){const T=Z(Z(l.value[1]?l.value[1]:wt(l.value[0],1))),[ae,Ce]=[ze(l.value[0]),Me(l.value[0])],[Ae,xe]=[ze(l.value[1]),Me(l.value[1])];(ae!==Ae||ae===Ae&&Ce!==xe)&&p.value.solo&&W(1,ze(T),Me(T))}else l.value&&!Array.isArray(l.value)&&(W(0,ze(l.value),Me(l.value)),j(Z()))},m=()=>{s.startDate&&(W(0,ze(Z(s.startDate)),Me(Z(s.startDate))),p.value.count&&K(0))},A=x5((T,ae)=>{s.monthChangeOnScroll&&z(s.monthChangeOnScroll!=="inverse"?-T.deltaY:T.deltaY,ae)},50),B=(T,ae,Ce=!1)=>{s.monthChangeOnArrows&&s.vertical===Ce&&le(T,ae)},le=(T,ae)=>{z(T==="right"?-1:1,ae)},de=T=>s.markers.find(ae=>Ue(W5(T.value),Ft(Z(ae.date),s.timezone))),I=(T,ae)=>{switch(s.sixWeeks===!0?"append":s.sixWeeks){case"prepend":return[!0,!1];case"center":return[T==0,!0];case"fair":return[T==0||ae>T,!0];case"append":return[!1,!1];default:return[!1,!1]}},g=(T,ae,Ce,Ae)=>{if(s.sixWeeks&&T.length<6){const xe=6-T.length,Dt=(ae.getDay()+7-Ae)%7,Vt=6-(Ce.getDay()+7-Ae)%7,[me,Oe]=I(Dt,Vt);for(let De=1;De<=xe;De++)if(Oe?!!(De%2)==me:me){const vt=T[0].days[0],qt=ve(zt(vt.value,-7),ze(ae));T.unshift({days:qt})}else{const vt=T[T.length-1],qt=vt.days[vt.days.length-1],rn=ve(zt(qt.value,1),ze(ae));T.push({days:rn})}}return T},ve=(T,ae)=>{const Ce=Z(T),Ae=[];for(let xe=0;xe<7;xe++){const Dt=zt(Ce,xe),Vt=ze(Dt)!==ae;Ae.push({text:s.hideOffsetDates&&Vt?"":Dt.getDate(),value:Dt,current:!Vt,classData:{}})}return Ae},be=(T,ae)=>{const Ce=[],Ae=new Date(ae,T),xe=new Date(ae,T+1,0),Dt=s.weekStart,Vt=ts(Ae,{weekStartsOn:Dt}),me=Oe=>{const De=ve(Oe,T);if(Ce.push({days:De}),!Ce[Ce.length-1].days.some(vt=>Ue(it(vt.value),it(xe)))){const vt=zt(Oe,7);me(vt)}};return me(Vt),g(Ce,Ae,xe,Dt)},ee=T=>(l.value=Ns(Z(T.value),s.timezone,s.weekStart),e("date-update",T.value),oe()),Te=T=>{const ae=xt(Z(T.value),u.hours,u.minutes,ls());e("date-update",ae),s.multiDates?no(ae,l,s.multiDatesLimit):l.value=ae,a(),Lt().then(()=>{oe()})},ge=T=>s.noDisabledRange?ya(o.value[0],T).some(ae=>_(ae)):!1,x=()=>{o.value=l.value?l.value.slice():[],o.value.length===2&&!(s.fixedStart||s.fixedEnd)&&(o.value=[])},ie=(T,ae)=>{const Ce=[Z(T.value),zt(Z(T.value),+s.autoRange)];F(Ce)?(ae&&Se(T.value),o.value=Ce):e("invalid-date",T.value)},Se=T=>{const ae=ze(Z(T)),Ce=Me(Z(T));if(W(0,ae,Ce),p.value.count>0)for(let Ae=1;Ae<p.value.count;Ae++){const xe=K5(Ee(Z(T),{year:S.value(Ae-1),month:H.value(Ae-1)}));W(Ae,xe.month,xe.year)}},ue=T=>Array.isArray(l.value)&&l.value.length===2?s.fixedStart&&(lt(T,l.value[0])||Ue(T,l.value[0]))?[l.value[0],T]:s.fixedEnd&&(nt(T,l.value[1])||Ue(T,l.value[1]))?[T,l.value[1]]:(e("invalid-fixed-range",T),l.value):[],Be=T=>{if(ge(T.value)||!D(T.value,l.value,s.fixedStart?0:1))return e("invalid-date",T.value);o.value=ue(Z(T.value))},ht=(T,ae)=>{if(x(),s.autoRange)return ie(T,ae);if(s.fixedStart||s.fixedEnd)return Be(T);o.value[0]?D(Z(T.value),l.value)&&!ge(T.value)?nt(Z(T.value),Z(o.value[0]))?(o.value.unshift(Z(T.value)),e("range-end",o.value[0])):(o.value[1]=Z(T.value),e("range-end",o.value[1])):(s.autoApply&&e("auto-apply-invalid",T.value),e("invalid-date",T.value)):(o.value[0]=Z(T.value),e("range-start",o.value[0]))},ls=(T=!0)=>s.enableSeconds?Array.isArray(u.seconds)?T?u.seconds[0]:u.seconds[1]:u.seconds:0,Ut=T=>{o.value[T]=xt(o.value[T],u.hours[T],u.minutes[T],ls(T!==1))},Is=()=>{var T,ae;o.value[0]&&o.value[1]&&+((T=o.value)==null?void 0:T[0])>+((ae=o.value)==null?void 0:ae[1])&&(o.value.reverse(),e("range-start",o.value[0]),e("range-end",o.value[1]))},Rs=()=>{o.value.length&&(o.value[0]&&!o.value[1]?Ut(0):(Ut(0),Ut(1),a()),Is(),l.value=o.value.slice(),sn(o.value,e,s.autoApply,s.modelAuto))},on=(T,ae=!1)=>{if(_(T.value)||!T.current&&s.hideOffsetDates)return e("invalid-date",T.value);if(s.weekPicker)return ee(T);if(!s.range)return Te(T);qo(u.hours)&&qo(u.minutes)&&!s.multiDates&&(ht(T,ae),Rs())},ys=(T,ae)=>{var Ce;W(T,ae.month,ae.year),p.value.count&&!p.value.solo&&K(T),e("update-month-year",{instance:T,month:ae.month,year:ae.year}),n(p.value.solo?T:void 0);const Ae=(Ce=s.flow)!=null&&Ce.length?s.flow[s.flowStep]:void 0;!ae.fromNav&&(Ae===St.month||Ae===St.year)&&a()},ft=(T,ae)=>{Da({value:T,modelValue:l,range:s.range,timezone:ae?void 0:s.timezone}),L(),s.multiCalendars&&Lt().then(()=>$(!0))},an=()=>{s.range?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=nt(Z(),l.value[0])?[Z(),l.value[0]]:[l.value[0],Z()]:l.value=[Z()]:l.value=Z(),L()},ln=()=>{if(Array.isArray(l.value))if(s.multiDates){const T=Us();l.value[l.value.length-1]=N(T)}else l.value=l.value.map((T,ae)=>T&&N(T,ae));else l.value=N(l.value);e("time-update")},Us=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:r,modelValue:l,month:S,year:H,time:u,disabledTimesConfig:ne,validateTime:V,getCalendarDays:be,getMarker:de,handleScroll:A,handleSwipe:le,handleArrow:B,selectDate:on,updateMonthYear:ys,presetDate:ft,selectCurrentDate:an,updateTime:(T,ae=!0,Ce=!1)=>{M(T,ae,Ce,ln)}}},p4={key:0},h4=tt({__name:"DatePicker",props:{...Tt},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(s,{expose:e,emit:n}){const a=n,o=s,{calendars:l,month:r,year:u,modelValue:p,time:h,disabledTimesConfig:k,validateTime:_,getCalendarDays:F,getMarker:D,handleArrow:M,handleScroll:N,handleSwipe:te,selectDate:U,updateMonthYear:V,presetDate:ne,selectCurrentDate:S,updateTime:H}=m4(o,a,f,m),W=os(),{setHoverDate:L,getDayClassData:he,clearHoverDate:oe}=fF(p,o),{defaultedMultiCalendars:$}=Xe(o),j=ce([]),X=ce([]),re=ce(null),Y=_t(W,"calendar"),y=_t(W,"monthYear"),q=_t(W,"timePicker"),z=B=>{o.shadow||a("mount",B)};Ht(l,()=>{o.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const K=se(()=>B=>F(r.value(B),u.value(B)).map(le=>({...le,days:le.days.map(de=>(de.marker=D(de),de.classData=he(de),de))})));function f(B){var le;B||B===0?(le=X.value[B])==null||le.triggerTransition(r.value(B),u.value(B)):X.value.forEach((de,I)=>de.triggerTransition(r.value(I),u.value(I)))}function m(){a("update-flow-step")}const A=(B,le=!1)=>{U(B,le),o.spaceConfirm&&a("select-date")};return e({clearHoverDate:oe,presetDate:ne,selectCurrentDate:S,toggleMonthPicker:(B,le,de=0)=>{var I;(I=j.value[de])==null||I.toggleMonthPicker(B,le)},toggleYearPicker:(B,le,de=0)=>{var I;(I=j.value[de])==null||I.toggleYearPicker(B,le)},toggleTimePicker:(B,le,de)=>{var I;(I=re.value)==null||I.toggleTimePicker(B,le,de)},handleArrow:M,updateMonthYear:V,getSidebarProps:()=>({modelValue:p,month:r,year:u,time:h,updateTime:H,updateMonthYear:V,selectDate:U,presetDate:ne})}),(B,le)=>(i(),d(R,null,[E(tn,{"multi-calendars":C($).count},{default:O(({instance:de,index:I})=>[B.disableMonthYearSelect?c("",!0):(i(),Q(s4,ot({key:0,ref:g=>{g&&(j.value[I]=g)},months:C(_a)(B.formatLocale,B.locale,B.monthNameFormat),years:C(to)(B.yearRange,B.reverseYears),month:C(r)(de),year:C(u)(de),instance:de},B.$props,{onMount:le[0]||(le[0]=g=>z(C(Zt).header)),onResetFlow:le[1]||(le[1]=g=>B.$emit("reset-flow")),onUpdateMonthYear:g=>C(V)(de,g),onOverlayClosed:le[2]||(le[2]=g=>B.$emit("focus-menu"))}),mt({_:2},[J(C(y),(g,ve)=>({name:g,fn:O(be=>[ye(B.$slots,g,Ge(ct(be)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),E(c4,ot({ref:g=>{g&&(X.value[I]=g)},"mapped-dates":K.value(de),month:C(r)(de),year:C(u)(de),instance:de},B.$props,{onSelectDate:g=>C(U)(g,de!==1),onHandleSpace:g=>A(g,de!==1),onSetHoverDate:le[3]||(le[3]=g=>C(L)(g)),onHandleScroll:g=>C(N)(g,de),onHandleSwipe:g=>C(te)(g,de),onMount:le[4]||(le[4]=g=>z(C(Zt).calendar)),onResetFlow:le[5]||(le[5]=g=>B.$emit("reset-flow")),onTooltipOpen:le[6]||(le[6]=g=>B.$emit("tooltip-open",g)),onTooltipClose:le[7]||(le[7]=g=>B.$emit("tooltip-close",g))}),mt({_:2},[J(C(Y),(g,ve)=>({name:g,fn:O(be=>[ye(B.$slots,g,Ge(ct({...be})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),B.enableTimePicker?(i(),d("div",p4,[B.$slots["time-picker"]?ye(B.$slots,"time-picker",Ge(ot({key:0},{time:C(h),updateTime:C(H)}))):(i(),Q(Pa,ot({key:1,ref_key:"timePickerRef",ref:re},B.$props,{hours:C(h).hours,minutes:C(h).minutes,seconds:C(h).seconds,"internal-model-value":B.internalModelValue,"disabled-times-config":C(k),"validate-time":C(_),onMount:le[8]||(le[8]=de=>z(C(Zt).timePicker)),"onUpdate:hours":le[9]||(le[9]=de=>C(H)(de)),"onUpdate:minutes":le[10]||(le[10]=de=>C(H)(de,!1)),"onUpdate:seconds":le[11]||(le[11]=de=>C(H)(de,!1,!0)),onResetFlow:le[12]||(le[12]=de=>B.$emit("reset-flow")),onOverlayClosed:le[13]||(le[13]=de=>B.$emit("time-picker-close")),onOverlayOpened:le[14]||(le[14]=de=>B.$emit("time-picker-open",de)),onAmPmChange:le[15]||(le[15]=de=>B.$emit("am-pm-change",de))}),mt({_:2},[J(C(q),(de,I)=>({name:de,fn:O(g=>[ye(B.$slots,de,Ge(ct(g)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):c("",!0)],64))}}),_4=(s,e)=>{const n=ce(),{defaultedMultiCalendars:a,defaultedConfig:o,defaultedHighlight:l}=Xe(s),{modelValue:r,year:u,month:p,calendars:h}=qs(s,e),{isDisabled:k}=as(s),{selectYear:_,groupedYears:F,showYearPicker:D,isDisabled:M,toggleYearPicker:N,handleYearSelect:te,handleYear:U}=Sa({modelValue:r,multiCalendars:a,highlight:l,calendars:h,month:p,year:u,props:s,emit:e}),V=(oe,$)=>[oe,$].map(j=>Qt(j,"MMMM",{locale:s.formatLocale})).join("-"),ne=se(()=>oe=>r.value?Array.isArray(r.value)?r.value.some($=>bo(oe,$)):bo(r.value,oe):!1),S=oe=>{if(s.range){if(Array.isArray(r.value)){const $=Ue(oe,r.value[0])||Ue(oe,r.value[1]);return Zs(r.value,n.value,oe)&&!$}return!1}return!1},H=se(()=>oe=>{const $=Ee(new Date,{year:u.value(oe)});return zw({start:Rw($),end:Iw($)}).map(j=>{const X=Ss(j),re=co(j),Y=k(j),y=S(X),q=typeof l.value=="function"?l.value({quarter:uo(X),year:Me(X)}):!!l.value.quarters.find(z=>z.quarter===uo(X)&&z.year===Me(X));return{text:V(X,re),value:X,active:ne.value(X),highlighted:q,disabled:Y,isBetween:y}})}),W=oe=>{no(oe,r,s.multiDatesLimit),e("auto-apply",!0)},L=oe=>{const $=oo(r,oe,e);sn($,e,s.autoApply,s.modelAuto)},he=oe=>{r.value=oe,e("auto-apply")};return{defaultedConfig:o,defaultedMultiCalendars:a,groupedYears:F,year:u,isDisabled:M,quarters:H,showYearPicker:D,modelValue:r,setHoverDate:oe=>{n.value=oe},selectYear:_,selectQuarter:(oe,$,j)=>{if(!j)return h.value[$].month=ze(co(oe)),s.multiDates?W(oe):s.range?L(oe):he(oe)},toggleYearPicker:N,handleYearSelect:te,handleYear:U}},f4={class:"dp--quarter-items"},v4=["disabled","onClick","onMouseover"],b4=tt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Tt},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(s,{expose:e,emit:n}){const a=n,o=s,l=os(),r=_t(l,"yearMode"),{defaultedMultiCalendars:u,defaultedConfig:p,groupedYears:h,year:k,isDisabled:_,quarters:F,modelValue:D,showYearPicker:M,setHoverDate:N,selectQuarter:te,toggleYearPicker:U,handleYearSelect:V,handleYear:ne}=_4(o,a);return e({getSidebarProps:()=>({modelValue:D,year:k,selectQuarter:te,handleYearSelect:V,handleYear:ne})}),(S,H)=>(i(),Q(tn,{"multi-calendars":C(u).count,stretch:""},{default:O(({instance:W})=>[t("div",{class:"dp-quarter-picker-wrap",style:bt({minHeight:`${C(p).modeHeight}px`})},[t("div",null,[E(Ta,ot(S.$props,{items:C(h)(W),instance:W,"show-year-picker":C(M)[W],year:C(k)(W),"is-disabled":L=>C(_)(W,L),onHandleYear:L=>C(ne)(W,L),onYearSelect:L=>C(V)(L,W),onToggleYearPicker:L=>C(U)(W,L==null?void 0:L.flow,L==null?void 0:L.show)}),mt({_:2},[J(C(r),(L,he)=>({name:L,fn:O(oe=>[ye(S.$slots,L,Ge(ct(oe)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),t("div",f4,[(i(!0),d(R,null,J(C(F)(W),(L,he)=>(i(),d("div",{key:he},[t("button",{type:"button",class:P(["dp--qr-btn",{"dp--qr-btn-active":L.active,"dp--qr-btn-between":L.isBetween,"dp--qr-btn-disabled":L.disabled,"dp--highlighted":L.highlighted}]),disabled:L.disabled,onClick:oe=>C(te)(L.value,W,L.disabled),onMouseover:oe=>C(N)(L.value)},[S.$slots.quarter?ye(S.$slots,"quarter",{key:0,value:L.value,text:L.text}):(i(),d(R,{key:1},[w(v(L.text),1)],64))],42,v4)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),g4=["id"],y4={key:0,class:"dp__sidebar_left"},$4={key:1,class:"dp--preset-dates"},k4=["onClick","onKeydown"],w4={key:2,class:"dp__sidebar_right"},C4={key:3,class:"dp__action_extra"},zo=tt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...en,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})},noOverlayFocus:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(s,{expose:e,emit:n}){const a=n,o=s,l=se(()=>{const{openOnTop:x,...ie}=o;return{...ie,flowStep:he.value,noOverlayFocus:o.noOverlayFocus}}),{setMenuFocused:r,setShiftKey:u,control:p}=Fa(),h=os(),{defaultedTextInput:k,defaultedInline:_,defaultedConfig:F}=Xe(o),D=ce(null),M=ce(0),N=ce(null),te=ce(null),U=ce(!1),V=ce(null);rt(()=>{if(!o.shadow){U.value=!0,ne(),window.addEventListener("resize",ne);const x=Je(N);if(x&&!k.value.enabled&&!_.value.enabled&&(r(!0),re()),x){const ie=Se=>{F.value.allowPreventDefault&&Se.preventDefault(),Et(Se,F.value,!0)};x.addEventListener("pointerdown",ie),x.addEventListener("mousedown",ie)}}}),Rn(()=>{window.removeEventListener("resize",ne)});const ne=()=>{const x=Je(te);x&&(M.value=x.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:H,arrowDown:W,arrowUp:L}=Wt(),{flowStep:he,updateFlowStep:oe,childMount:$,resetFlow:j}=vF(o,a,V),X=se(()=>o.monthPicker?qF:o.yearPicker?IF:o.timePicker?JF:o.quarterPicker?b4:h4),re=()=>{const x=Je(N);x&&x.focus({preventScroll:!0})},Y=se(()=>{var x;return((x=V.value)==null?void 0:x.getSidebarProps())||{}}),y=()=>{o.openOnTop&&a("recalculate-position")},q=_t(h,"action"),z=se(()=>o.monthPicker||o.yearPicker?_t(h,"monthYear"):o.timePicker?_t(h,"timePicker"):_t(h,"shared")),K=se(()=>o.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),f=se(()=>({dp__menu_disabled:o.disabled,dp__menu_readonly:o.readonly})),m=se(()=>({dp__menu:!0,dp__menu_index:!_.value.enabled,dp__relative:_.value.enabled,[o.menuClassName]:!!o.menuClassName})),A=x=>{Et(x,F.value,!0)},B=()=>{o.escClose&&a("close-picker")},le=x=>{if(o.arrowNavigation){if(x==="up")return L();if(x==="down")return W();if(x==="left")return H();if(x==="right")return S()}else x==="left"||x==="up"?be("handleArrow","left",0,x==="up"):be("handleArrow","right",0,x==="down")},de=x=>{u(x.shiftKey),!o.disableMonthYearSelect&&x.code==="Tab"&&x.target.classList.contains("dp__menu")&&p.value.shiftKeyInMenu&&(x.preventDefault(),Et(x,F.value,!0),a("close-picker"))},I=()=>{re(),a("time-picker-close")},g=x=>{var ie,Se,ue;(ie=V.value)==null||ie.toggleTimePicker(!1,!1),(Se=V.value)==null||Se.toggleMonthPicker(!1,!1,x),(ue=V.value)==null||ue.toggleYearPicker(!1,!1,x)},ve=(x,ie=0)=>{var Se,ue,Be;return x==="month"?(Se=V.value)==null?void 0:Se.toggleMonthPicker(!1,!0,ie):x==="year"?(ue=V.value)==null?void 0:ue.toggleYearPicker(!1,!0,ie):x==="time"?(Be=V.value)==null?void 0:Be.toggleTimePicker(!0,!1):g(ie)},be=(x,...ie)=>{var Se,ue;(Se=V.value)!=null&&Se[x]&&((ue=V.value)==null||ue[x](...ie))},ee=()=>{be("selectCurrentDate")},Te=(x,ie)=>{be("presetDate",x,ie)},ge=()=>{be("clearHoverDate")};return e({updateMonthYear:(x,ie)=>{be("updateMonthYear",x,ie)},switchView:ve}),(x,ie)=>{var Se;return i(),d("div",{id:x.uid?`dp-menu-${x.uid}`:void 0,ref_key:"dpMenuRef",ref:N,tabindex:"0",role:"dialog",class:P(m.value),onMouseleave:ge,onClick:A,onKeydown:[Pe(B,["esc"]),ie[18]||(ie[18]=Pe(Fe(ue=>le("left"),["prevent"]),["left"])),ie[19]||(ie[19]=Pe(Fe(ue=>le("up"),["prevent"]),["up"])),ie[20]||(ie[20]=Pe(Fe(ue=>le("down"),["prevent"]),["down"])),ie[21]||(ie[21]=Pe(Fe(ue=>le("right"),["prevent"]),["right"])),de]},[(x.disabled||x.readonly)&&C(_).enabled?(i(),d("div",{key:0,class:P(f.value)},null,2)):c("",!0),!C(_).enabled&&!x.teleportCenter?(i(),d("div",{key:1,class:P(K.value)},null,2)):c("",!0),t("div",{ref_key:"innerMenuRef",ref:te,class:P({dp__menu_content_wrapper:((Se=x.presetDates)==null?void 0:Se.length)||!!x.$slots["left-sidebar"]||!!x.$slots["right-sidebar"]}),style:bt({"--dp-menu-width":`${M.value}px`})},[x.$slots["left-sidebar"]?(i(),d("div",y4,[ye(x.$slots,"left-sidebar",Ge(ct(Y.value)))])):c("",!0),x.presetDates.length?(i(),d("div",$4,[(i(!0),d(R,null,J(x.presetDates,(ue,Be)=>(i(),d(R,{key:Be},[ue.slot?ye(x.$slots,ue.slot,{key:0,presetDate:Te,label:ue.label,value:ue.value}):(i(),d("button",{key:1,type:"button",style:bt(ue.style||{}),class:"dp__btn dp--preset-range",onClick:Fe(ht=>Te(ue.value,ue.noTz),["prevent"]),onKeydown:[Pe(Fe(ht=>Te(ue.value,ue.noTz),["prevent"]),["enter"]),Pe(Fe(ht=>Te(ue.value,ue.noTz),["prevent"]),["space"])]},v(ue.label),45,k4))],64))),128))])):c("",!0),t("div",{ref_key:"calendarWrapperRef",ref:D,class:"dp__instance_calendar",role:"document"},[(i(),Q(Ds(X.value),ot({ref_key:"dynCmpRef",ref:V},l.value,{"flow-step":C(he),onMount:C($),onUpdateFlowStep:C(oe),onResetFlow:C(j),onFocusMenu:re,onSelectDate:ie[0]||(ie[0]=ue=>x.$emit("select-date")),onDateUpdate:ie[1]||(ie[1]=ue=>x.$emit("date-update",ue)),onTooltipOpen:ie[2]||(ie[2]=ue=>x.$emit("tooltip-open",ue)),onTooltipClose:ie[3]||(ie[3]=ue=>x.$emit("tooltip-close",ue)),onAutoApply:ie[4]||(ie[4]=ue=>x.$emit("auto-apply",ue)),onRangeStart:ie[5]||(ie[5]=ue=>x.$emit("range-start",ue)),onRangeEnd:ie[6]||(ie[6]=ue=>x.$emit("range-end",ue)),onInvalidFixedRange:ie[7]||(ie[7]=ue=>x.$emit("invalid-fixed-range",ue)),onTimeUpdate:ie[8]||(ie[8]=ue=>x.$emit("time-update")),onAmPmChange:ie[9]||(ie[9]=ue=>x.$emit("am-pm-change",ue)),onTimePickerOpen:ie[10]||(ie[10]=ue=>x.$emit("time-picker-open",ue)),onTimePickerClose:I,onRecalculatePosition:y,onUpdateMonthYear:ie[11]||(ie[11]=ue=>x.$emit("update-month-year",ue)),onAutoApplyInvalid:ie[12]||(ie[12]=ue=>x.$emit("auto-apply-invalid",ue)),onInvalidDate:ie[13]||(ie[13]=ue=>x.$emit("invalid-date",ue)),"onUpdate:internalModelValue":ie[14]||(ie[14]=ue=>x.$emit("update:internal-model-value",ue))}),mt({_:2},[J(z.value,(ue,Be)=>({name:ue,fn:O(ht=>[ye(x.$slots,ue,Ge(ct({...ht})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),x.$slots["right-sidebar"]?(i(),d("div",w4,[ye(x.$slots,"right-sidebar",Ge(ct(Y.value)))])):c("",!0),x.$slots["action-extra"]?(i(),d("div",C4,[x.$slots["action-extra"]?ye(x.$slots,"action-extra",{key:0,selectCurrentDate:ee}):c("",!0)])):c("",!0)],6),!x.autoApply||C(F).keepActionRow?(i(),Q(FF,ot({key:2,"menu-mount":U.value},l.value,{"calendar-width":M.value,onClosePicker:ie[15]||(ie[15]=ue=>x.$emit("close-picker")),onSelectDate:ie[16]||(ie[16]=ue=>x.$emit("select-date")),onInvalidSelect:ie[17]||(ie[17]=ue=>x.$emit("invalid-select")),onSelectNow:ee}),mt({_:2},[J(C(q),(ue,Be)=>({name:ue,fn:O(ht=>[ye(x.$slots,ue,Ge(ct({...ht})))])}))]),1040,["menu-mount","calendar-width"])):c("",!0)],42,g4)}}}),F4=typeof window<"u"?window:void 0,wn=()=>{},T4=s=>Ya()?(Ba(s),!0):!1,D4=(s,e,n,a)=>{if(!s)return wn;let o=wn;const l=Ht(()=>C(s),u=>{o(),u&&(u.addEventListener(e,n,a),o=()=>{u.removeEventListener(e,n,a),o=wn})},{immediate:!0,flush:"post"}),r=()=>{l(),o()};return T4(r),r},S4=(s,e,n,a={})=>{const{window:o=F4,event:l="pointerdown"}=a;return o?D4(o,l,r=>{const u=Je(s),p=Je(e);!u||!p||u===r.target||r.composedPath().includes(u)||r.composedPath().includes(p)||n(r)},{passive:!0}):void 0},P4=tt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...en},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(s,{expose:e,emit:n}){const a=n,o=s,l=os(),r=ce(!1),u=Qs(o,"modelValue"),p=Qs(o,"timezone"),h=ce(null),k=ce(null),_=ce(null),F=ce(!1),D=ce(null),M=ce(!1),N=ce(!1),{setMenuFocused:te,setShiftKey:U}=Fa(),{clearArrowNav:V}=Wt(),{mapDatesArrToMap:ne,validateDate:S,isValidTime:H}=as(o),{defaultedTransitions:W,defaultedTextInput:L,defaultedInline:he,defaultedConfig:oe}=Xe(o),{menuTransition:$,showTransition:j}=js(W);rt(()=>{le(o.modelValue),Lt().then(()=>{if(!he.value.enabled){const me=f(D.value);me==null||me.addEventListener("scroll",x),window==null||window.addEventListener("resize",ie)}}),he.value.enabled&&(r.value=!0),window==null||window.addEventListener("keyup",Se),window==null||window.addEventListener("keydown",ue)});const X=se(()=>ne());Rn(()=>{if(!he.value.enabled){const me=f(D.value);me==null||me.removeEventListener("scroll",x),window==null||window.removeEventListener("resize",ie)}window==null||window.removeEventListener("keyup",Se),window==null||window.removeEventListener("keydown",ue)});const re=_t(l,"all",o.presetDates),Y=_t(l,"input");Ht([u,p],()=>{le(u.value)},{deep:!0});const{openOnTop:y,menuStyle:q,xCorrect:z,setMenuPosition:K,getScrollableParent:f,shadowRender:m}=pF({menuRef:h,menuRefInner:k,inputRef:_,pickerWrapperRef:D,inline:he,emit:a,props:o,slots:l}),{inputValue:A,internalModelValue:B,parseExternalModelValue:le,emitModelValue:de,formatInputValue:I,checkBeforeEmit:g}=cF(a,o,F),ve=se(()=>({dp__main:!0,dp__theme_dark:o.dark,dp__theme_light:!o.dark,dp__flex_display:he.value.enabled,dp__flex_display_with_input:he.value.input})),be=se(()=>o.dark?"dp__theme_dark":"dp__theme_light"),ee=se(()=>({to:typeof o.teleport=="boolean"?"body":o.teleport,disabled:!o.teleport||he.value.enabled})),Te=se(()=>({class:"dp__outer_menu_wrap"})),ge=se(()=>he.value.enabled&&(o.timePicker||o.monthPicker||o.yearPicker||o.quarterPicker)),x=()=>{r.value&&(oe.value.closeOnScroll?ft():K())},ie=()=>{r.value&&K()},Se=me=>{me.key==="Tab"&&!he.value.enabled&&!o.teleport&&oe.value.tabOutClosesMenu&&(D.value.contains(document.activeElement)||ft()),N.value=me.shiftKey},ue=me=>{N.value=me.shiftKey},Be=()=>{!o.disabled&&!o.readonly&&(m(zo,o),K(!1),r.value=!0,r.value&&a("open"),r.value||ys(),le(o.modelValue))},ht=()=>{var me;A.value="",ys(),(me=_.value)==null||me.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),oe.value.closeOnClearValue&&ft()},ls=()=>{const me=B.value;return!me||!Array.isArray(me)&&S(me)?!0:Array.isArray(me)?o.multiDates||me.length===2&&S(me[0])&&S(me[1])?!0:o.partialRange&&!o.timePicker?S(me[0]):!1:!1},Ut=()=>{g()&&ls()?(de(),ft()):a("invalid-select",B.value)},Is=me=>{Rs(),de(),oe.value.closeOnAutoApply&&!me&&ft()},Rs=()=>{_.value&&L.value.enabled&&_.value.setParsedDate(B.value)},on=(me=!1)=>{o.autoApply&&H(B.value)&&ls()&&(o.range&&Array.isArray(B.value)?(o.partialRange||B.value.length===2)&&Is(me):Is(me))},ys=()=>{L.value.enabled||(B.value=null)},ft=()=>{he.value.enabled||(r.value&&(r.value=!1,z.value=!1,te(!1),U(!1),V(),a("closed"),A.value&&le(u.value)),ys(),a("blur"))},an=(me,Oe,De=!1)=>{if(!me){B.value=null;return}const vt=Array.isArray(me)?!me.some(rn=>!S(rn)):S(me),qt=H(me);vt&&qt&&(B.value=me,Oe&&(M.value=De,Ut(),a("text-submit")))},ln=()=>{o.autoApply&&H(B.value)&&de(),Rs()},Us=()=>r.value?ft():Be(),T=me=>{B.value=me},ae=()=>{L.value.enabled&&(F.value=!0,I()),a("focus")},Ce=()=>{if(L.value.enabled&&(F.value=!1,le(o.modelValue),M.value)){const me=E5(D.value,N.value);me==null||me.focus()}a("blur")},Ae=me=>{k.value&&k.value.updateMonthYear(0,{month:So(me.month),year:So(me.year)})},xe=me=>{le(me??o.modelValue)},Dt=(me,Oe)=>{var De;(De=k.value)==null||De.switchView(me,Oe)},Vt=me=>oe.value.onClickOutside?oe.value.onClickOutside(me):ft();return S4(h,_,()=>Vt(ls)),e({closeMenu:ft,selectDate:Ut,clearValue:ht,openMenu:Be,onScroll:x,formatInputValue:I,updateInternalModelValue:T,setMonthYear:Ae,parseModel:xe,switchView:Dt,toggleMenu:Us}),(me,Oe)=>(i(),d("div",{ref_key:"pickerWrapperRef",ref:D,class:P(ve.value),"data-datepicker-instance":""},[E($F,ot({ref_key:"inputRef",ref:_,"input-value":C(A),"onUpdate:inputValue":Oe[0]||(Oe[0]=De=>lo(A)?A.value=De:null),"is-menu-open":r.value},me.$props,{onClear:ht,onOpen:Be,onSetInputDate:an,onSetEmptyDate:C(de),onSelectDate:Ut,onToggle:Us,onClose:ft,onFocus:ae,onBlur:Ce,onRealBlur:Oe[1]||(Oe[1]=De=>F.value=!1)}),mt({_:2},[J(C(Y),(De,vt)=>({name:De,fn:O(qt=>[ye(me.$slots,De,Ge(ct(qt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),E(Ra,Ge(ct(ee.value)),{default:O(()=>[E(vs,{name:C($)(C(y)),css:C(j)&&!C(he).enabled},{default:O(()=>[r.value?(i(),d("div",ot({key:0,ref_key:"dpWrapMenuRef",ref:h},Te.value,{class:{"dp--menu-wrapper":!C(he).enabled},style:C(he).enabled?void 0:C(q)}),[E(zo,ot({ref_key:"dpMenuRef",ref:k},me.$props,{"internal-model-value":C(B),"onUpdate:internalModelValue":Oe[2]||(Oe[2]=De=>lo(B)?B.value=De:null),class:{[be.value]:!0,"dp--menu-wrapper":me.teleport},"open-on-top":C(y),"arr-map-values":X.value,"no-overlay-focus":ge.value,onClosePicker:ft,onSelectDate:Ut,onAutoApply:on,onTimeUpdate:ln,onFlowStep:Oe[3]||(Oe[3]=De=>me.$emit("flow-step",De)),onUpdateMonthYear:Oe[4]||(Oe[4]=De=>me.$emit("update-month-year",De)),onInvalidSelect:Oe[5]||(Oe[5]=De=>me.$emit("invalid-select",C(B))),onAutoApplyInvalid:Oe[6]||(Oe[6]=De=>me.$emit("invalid-select",De)),onInvalidFixedRange:Oe[7]||(Oe[7]=De=>me.$emit("invalid-fixed-range",De)),onRecalculatePosition:C(K),onTooltipOpen:Oe[8]||(Oe[8]=De=>me.$emit("tooltip-open",De)),onTooltipClose:Oe[9]||(Oe[9]=De=>me.$emit("tooltip-close",De)),onTimePickerOpen:Oe[10]||(Oe[10]=De=>me.$emit("time-picker-open",De)),onTimePickerClose:Oe[11]||(Oe[11]=De=>me.$emit("time-picker-close",De)),onAmPmChange:Oe[12]||(Oe[12]=De=>me.$emit("am-pm-change",De)),onRangeStart:Oe[13]||(Oe[13]=De=>me.$emit("range-start",De)),onRangeEnd:Oe[14]||(Oe[14]=De=>me.$emit("range-end",De)),onDateUpdate:Oe[15]||(Oe[15]=De=>me.$emit("date-update",De)),onInvalidDate:Oe[16]||(Oe[16]=De=>me.$emit("invalid-date",De))}),mt({_:2},[J(C(re),(De,vt)=>({name:De,fn:O(qt=>[ye(me.$slots,De,Ge(ct({...qt})))])}))]),1040,["internal-model-value","class","open-on-top","arr-map-values","no-overlay-focus","onRecalculatePosition"])],16)):c("",!0)]),_:3},8,["name","css"])]),_:3},16)],2))}}),gs=(()=>{const s=P4;return s.install=e=>{e.component("Vue3DatePicker",s)},s})(),O4=Object.freeze(Object.defineProperty({__proto__:null,default:gs},Symbol.toStringTag,{value:"Module"}));Object.entries(O4).forEach(([s,e])=>{s!=="default"&&(gs[s]=e)});const M4={class:"row"},A4={class:"col-md-4"},j4={class:"col-12"},q4={key:0,class:"fa-solid fa-arrow-down-short-wide"},z4={key:1,class:"fa-solid fa-arrow-up-wide-short"},I4={key:0,class:"fa-solid fa-arrow-down-short-wide"},R4={key:1,class:"fa-solid fa-arrow-up-wide-short"},U4={key:0,class:"fa-solid fa-arrow-down-short-wide"},V4={key:1,class:"fa-solid fa-arrow-up-wide-short"},Y4={class:"col-md-4 mb-2"},B4=["onClick"],N4={class:"card-body text-center"},Q4={class:"row"},E4={class:"col-md-6"},x4={class:"mb-0"},L4=t("p",{class:"mb-0"},"Начало сеанса",-1),H4={class:"mb-0"},W4=t("p",{class:"mb-0"},"Окончание сеанса",-1),K4={class:"mb-0"},X4={class:"col-md-6"},G4={class:"mb-0"},Z4={class:"mb-0"},J4={class:"mb-0"},eT=t("p",{class:"mb-0"},[t("strong",null,"Период")],-1),tT={class:"mb-0"},sT={class:"row"},nT={class:"col-12"},oT={props:["bot","eventId"],components:{VueDatePicker:gs},data(){return{date:null,loading:!0,schedule:[],order:null,direction:null,months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","октябрь","Ноябрь","Декабрь"],days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],paginate_object:null}},watch:{date:{handler:function(s){this.loadAppointmentSchedules()},deep:!0}},computed:{...Ne(["getAppointmentSchedules","getAppointmentSchedulesPaginateObject"])},mounted(){this.date=new Date,this.loadAppointmentSchedules()},methods:{selectTime(s){this.$emit("select",s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentSchedules(0)},nextAppointmentSchedule(s){this.loadAppointmentSchedules(s)},loadAppointmentSchedules(s=0){this.loading=!0,this.$store.dispatch("loadAppointmentSchedules",{dataObject:{date:this.date||null,event_id:this.eventId,bot_id:this.bot.id||null,order:this.order,direction:this.direction},page:s,size:20}).then(e=>{this.loading=!1,this.schedule=this.getAppointmentSchedules,this.paginate_object=this.getAppointmentSchedulesPaginateObject}).catch(()=>{this.loading=!1})}}},Ma=Object.assign(oT,{__name:"AppointmentScheduleList",setup(s){return(e,n)=>(i(),d(R,null,[t("div",M4,[t("div",A4,[E(C(gs),{modelValue:e.date,"onUpdate:modelValue":n[0]||(n[0]=a=>e.date=a)},null,8,["modelValue"])]),t("div",j4,[t("p",null,[w(" Тип сортировки: "),t("a",{class:"mx-2",onClick:n[1]||(n[1]=a=>e.loadAndOrder("day")),href:"javascript:void(0)"},[w("По дню недели "),e.order==="day"&&e.direction==="asc"?(i(),d("i",q4)):c("",!0),e.order==="day"&&e.direction==="desc"?(i(),d("i",z4)):c("",!0)]),t("a",{class:"mx-2",onClick:n[2]||(n[2]=a=>e.loadAndOrder("start_time")),href:"javascript:void(0)"},[w("По времени начала "),e.order==="start_time"&&e.direction==="asc"?(i(),d("i",I4)):c("",!0),e.order==="start_time"&&e.direction==="desc"?(i(),d("i",R4)):c("",!0)]),t("a",{class:"mx-2",onClick:n[3]||(n[3]=a=>e.loadAndOrder("end_time")),href:"javascript:void(0)"},[w("По времени окончания "),e.order==="end_time"&&e.direction==="asc"?(i(),d("i",U4)):c("",!0),e.order==="end_time"&&e.direction==="desc"?(i(),d("i",V4)):c("",!0)])])]),(i(!0),d(R,null,J(e.schedule,a=>(i(),d("div",Y4,[t("div",{class:P(["card btn",{"btn-outline-secondary bg-secondary":a.appointment!=null,"btn-outline-success":a.appointment==null}]),onClick:o=>e.selectTime(a)},[t("div",N4,[t("div",Q4,[t("div",E4,[t("p",x4,[t("strong",null,v(e.days[a.day-1]),1)]),L4,t("p",H4,[t("strong",null,v(a.start_time||"-"),1)]),W4,t("p",K4,[t("strong",null,v(a.end_time||"-"),1)])]),t("div",X4,[t("p",G4,[t("strong",null,v(a.year||"-"),1)]),t("p",Z4,[t("strong",null,v(e.months[a.month||0]),1)]),t("p",J4,[t("strong",null,v(a.day_number),1)]),eT,t("p",tT,[t("strong",null,"c "+v(a.week_start||"-"),1),w(" по "),t("strong",null,v(a.week_end||"-"),1)])])])])],10,B4)]))),256))]),t("div",sT,[t("div",nT,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextAppointmentSchedule,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])])],64))}}),aT={class:"row"},lT={class:"col-12 mb-3"},iT={class:"form-label",id:"service-title"},rT=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),dT=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),uT={class:"col-12 mb-3"},cT={key:0},mT=["onClick"],pT={class:"form-label",id:"service-category"},hT=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_T=t("div",null,"Категория услуги (используется для группировки) ",-1),fT=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),vT={class:"col-12 mb-3"},bT={class:"form-label",id:"service-description"},gT=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),yT=t("div",null," Краткая информация об оказываемой услуге ",-1),$T=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),kT={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},wT={class:"col-12 col-md-6 mb-3"},CT={class:"form-label",id:"service-title"},FT=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),TT=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),DT={class:"col-12 col-md-6 mb-3"},ST={class:"form-label",id:"service-title"},PT=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),OT=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),MT={class:"col-12 mb-3"},AT={class:"form-label",id:"service-images"},jT=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),qT=t("div",null," Изображение, которое видит пользователь при выборе услуги ",-1),zT=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),IT={class:"col-12 mb-3"},RT={class:"form-check"},UT=t("label",{class:"form-check-label",for:"need_prepayment"}," Необходима предоплата ",-1),VT={class:"row"},YT={class:"col-12"},BT={type:"submit",class:"btn btn-outline-success w-100 p-3"},NT={key:0},QT={key:1},ET={props:["eventId","bot","service"],data(){return{load:!1,need_reset:!1,categories:[],serviceForm:{id:null,title:null,appointment_event_id:null,description:null,category:null,images:[],need_prepayment:!1,price:0,discount_price:0}}},watch:{serviceForm:{handler(s){this.need_reset=!0},deep:!0}},mounted(){this.loadAppointmentServiceCategories(),console.log("Service form",this.service),this.service&&this.$nextTick(()=>{this.serviceForm={id:this.service.id||null,appointment_event_id:this.service.appointment_event_id||null,title:this.service.title||null,category:this.service.category||null,description:this.service.description||null,images:this.service.images||[],need_prepayment:this.service.need_prepayment||!1,price:this.service.price||0,discount_price:this.service.discount_price||0}})},methods:{loadAppointmentServiceCategories(){this.$store.dispatch("loadAppointmentServiceCategories",{dataObject:{bot_id:this.bot.id||null,event_id:this.eventId||null}}).then(s=>{this.categories=s})},selectPhotos(s){this.serviceForm.images||(this.serviceForm.images=[]);let e=this.serviceForm.images.indexOf(s.file_id);e!==-1?this.serviceForm.images.splice(e,1):this.serviceForm.images.push(s.file_id)},resetForm(){},submitForm(){let s=new FormData;Object.keys(this.serviceForm).forEach(e=>{const n=this.serviceForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),s.append("appointment_event_id",this.eventId),this.$store.dispatch(this.serviceForm.id===null?"addAppointmentService":"updateAppointmentService",{appointmentServiceForm:s}).then(e=>{this.$emit("callback",e.data),this.$notify("Услуги успешно создано")}).catch(e=>{this.$notify("Услуги создания события")})}}},xT=Object.assign(ET,{__name:"AppointmentServiceForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d("form",{onSubmit:n[6]||(n[6]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"]))},[t("div",aT,[t("div",lT,[t("label",iT,[E(a,{content:"Название оказываемой услуги"},{default:O(()=>[rT]),_:1}),w(" Название услуги "),dT]),b(t("input",{type:"text",class:"form-control",placeholder:"Название","aria-label":"Название","onUpdate:modelValue":n[0]||(n[0]=o=>e.serviceForm.title=o),maxlength:"255","aria-describedby":"service-title",required:""},null,512),[[G,e.serviceForm.title]])]),t("div",uT,[e.categories?(i(),d("p",cT,[w(" Ранее созданные категории: "),(i(!0),d(R,null,J(e.categories,o=>(i(),d("span",{onClick:l=>e.serviceForm.category=o,class:"badge bg-primary mr-1 cursor-pointer"},v(o),9,mT))),256))])):c("",!0),t("label",pT,[E(a,null,{content:O(()=>[_T]),default:O(()=>[hT]),_:1}),w(" Категория услуги "),fT]),b(t("input",{type:"text",class:"form-control",placeholder:"Категория услуги","aria-label":"Категория услуги","onUpdate:modelValue":n[1]||(n[1]=o=>e.serviceForm.category=o),maxlength:"255","aria-describedby":"service-category",required:""},null,512),[[G,e.serviceForm.category]])]),t("div",vT,[t("label",bT,[E(a,null,{content:O(()=>[yT]),default:O(()=>[gT]),_:1}),w(" Описание услуги "),$T,e.serviceForm.description?(i(),d("small",kT," Длина текста "+v(e.serviceForm.description.length)+" / 255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Описание услуги","aria-label":"Описание услуги",maxlength:"255","onUpdate:modelValue":n[2]||(n[2]=o=>e.serviceForm.description=o),"aria-describedby":"service-description",required:""},`
                    `,512),[[G,e.serviceForm.description]])]),t("div",wT,[t("label",CT,[E(a,{content:"Цена оказываемой услуги"},{default:O(()=>[FT]),_:1}),w(" Цена услуги, руб "),TT]),b(t("input",{type:"number",class:"form-control",placeholder:"Цена","aria-label":"Цена",min:"0","onUpdate:modelValue":n[3]||(n[3]=o=>e.serviceForm.price=o),"aria-describedby":"price",required:""},null,512),[[G,e.serviceForm.price]])]),t("div",DT,[t("label",ST,[E(a,{content:"Цена скидки на оказываемую услугу"},{default:O(()=>[PT]),_:1}),w(" Цена скидки на услугу, руб "),OT]),b(t("input",{type:"number",class:"form-control",placeholder:"Цена","aria-label":"Цена",min:"0","onUpdate:modelValue":n[4]||(n[4]=o=>e.serviceForm.discount_price=o),"aria-describedby":"price",required:""},null,512),[[G,e.serviceForm.discount_price]])]),t("div",MT,[t("label",AT,[E(a,null,{content:O(()=>[qT]),default:O(()=>[jT]),_:1}),w(" Изображение к услуге "),zT]),E(kt,{"need-photo":!0,selected:e.serviceForm.images,onSelect:e.selectPhotos},null,8,["selected","onSelect"])]),t("div",IT,[t("div",RT,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[5]||(n[5]=o=>e.serviceForm.need_prepayment=o),type:"checkbox",id:"need_prepayment"},null,512),[[ke,e.serviceForm.need_prepayment]]),UT])])]),t("div",VT,[t("div",YT,[t("button",BT,[e.serviceForm.id===null?(i(),d("span",NT,"Создать услугу")):(i(),d("span",QT,"Обновить услугу"))])])])],32)}}}),LT={class:"row py-3"},HT={class:"col-12"},WT={class:"row"},KT={class:"col-12"},XT={key:0},GT={key:1},ZT={key:0,class:"col-12 mb-3"},JT={class:"col-12 mb-3"},e6={key:0},t6={key:1},s6={key:1,class:"col-12 mb-3"},n6={class:"row py-3"},o6=t("div",{class:"col-12"},[t("p",{class:"mb-0"},"Выбор статуса")],-1),a6={class:"col-md-3"},l6=["onClick"],i6={class:"row"},r6={class:"col-12 mb-3"},d6={class:"form-label",id:"service-title"},u6=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),c6=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),m6={class:"col-12 mb-3"},p6={class:"form-label",id:"service-title"},h6=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),_6=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),f6={class:"col-12 mb-3"},v6={class:"form-label",id:"appointment-info"},b6=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),g6=t("div",null," Краткая информация от клиента ",-1),y6=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),$6={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},k6={class:"row"},w6={class:"col-12"},C6={type:"submit",class:"btn btn-outline-success w-100 p-3"},F6={key:0},T6={key:1},D6={props:["eventId","bot","appointment"],data(){return{step:0,load:!1,selected_schedule_time:null,selected_bot_user:null,need_load_users:!1,need_schedule_time:!1,statuses:[{value:0,title:"Новая запись"},{value:1,title:"Подтверждение записи"},{value:2,title:"Прохождение по записи"},{value:3,title:"Отмена записи"}],days:["понедельник","вторник","среду","четверг","пятницу","субботу","воскресенье"],appointmentForm:{id:null,appointment_event_id:null,appointment_schedule_id:null,bot_user_id:null,status:0,name:null,phone:null,info:null}}},mounted(){this.appointment&&this.$nextTick(()=>{this.appointmentForm={id:this.appointment.id||null,appointment_event_id:this.appointment.appointment_event_id||null,appointment_schedule_id:this.appointment.appointment_schedule_id||null,bot_user_id:this.appointment.bot_user_id||null,status:this.appointment.status||0,name:this.appointment.name||null,phone:this.appointment.phone||null,info:this.appointment.info||null},this.selected_schedule_time=this.appointment.schedule||null,this.selected_bot_user=this.appointment.botUser||null})},methods:{selectScheduleTime(s){if(s.appointment){this.$notify("Данное время уже занято!");return}this.selected_schedule_time=s,this.need_schedule_time=!1},selectBotUser(s){this.selected_bot_user=s,this.need_load_users=!1},clearAppointmentForm(){this.appointmentForm={id:null,appointment_event_id:null,appointment_schedule_id:null,bot_user_id:null,status:0},this.selected_schedule_time=null,this.selected_bot_user=null},submitForm(){this.appointmentForm.bot_user_id=this.selected_bot_user.id,this.appointmentForm.appointment_schedule_id=this.selected_schedule_time.id,this.appointmentForm.appointment_event_id=this.eventId;let s=new FormData;Object.keys(this.appointmentForm).forEach(e=>{const n=this.appointmentForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch("storeAppointment",{dataObject:{appointmentForm:s}}).then(e=>{this.clearAppointmentForm(),this.$emit("callback"),this.$notify("Запись успешно создана")}).catch(e=>{this.$notify("Ошибка создания записи")})}}},S6=Object.assign(D6,{__name:"AppointmentForm",setup(s){return(e,n)=>{const a=pt("Popper"),o=ns("mask");return i(),d(R,null,[t("div",LT,[t("div",HT,[t("button",{onClick:n[0]||(n[0]=(...l)=>e.clearAppointmentForm&&e.clearAppointmentForm(...l)),class:"btn btn-primary"},"Новая заявка ")])]),t("form",{onSubmit:n[6]||(n[6]=Fe((...l)=>e.submitForm&&e.submitForm(...l),["prevent"]))},[t("div",WT,[t("div",KT,[t("a",{href:"javascript:void(0)",class:"btn btn-link",onClick:n[1]||(n[1]=l=>e.need_load_users=!e.need_load_users)},[e.selected_bot_user==null?(i(),d("span",XT,"Выберите пользователя")):c("",!0),e.selected_bot_user?(i(),d("span",GT," Пользователь "+v(e.selected_bot_user.name||e.selected_bot_user.fio_from_telegram||e.selected_bot_user.telegram_chat_id||"-"),1)):c("",!0)])]),e.need_load_users?(i(),d("div",ZT,[E(Gs,{simple:!0,onSelect:e.selectBotUser},null,8,["onSelect"])])):c("",!0),t("div",JT,[t("a",{href:"javascript:void(0)",class:"btn btn-link",onClick:n[2]||(n[2]=l=>e.need_schedule_time=!e.need_schedule_time)},[e.selected_schedule_time==null?(i(),d("span",e6,"Выберите время в расписании")):c("",!0),e.selected_schedule_time?(i(),d("span",t6," Запись на "+v(e.days[e.selected_schedule_time.day-1]||"-")+" с "+v(e.selected_schedule_time.start_time||"-")+" до "+v(e.selected_schedule_time.end_time||"-"),1)):c("",!0)])]),e.need_schedule_time?(i(),d("div",s6,[E(Ma,{"event-id":s.eventId,bot:s.bot,onSelect:e.selectScheduleTime},null,8,["event-id","bot","onSelect"])])):c("",!0)]),t("div",n6,[o6,(i(!0),d(R,null,J(e.statuses,l=>(i(),d("div",a6,[t("button",{type:"button",class:P([{"btn-success text-white":e.appointmentForm.status==l.value},"btn btn-outline-success w-100"]),onClick:r=>e.appointmentForm.status=l.value},v(l.title||"не указано"),11,l6)]))),256))]),t("div",i6,[t("div",r6,[t("label",d6,[E(a,{content:"ФИО человека, который посетит запись"},{default:O(()=>[u6]),_:1}),w(" Ф.И.О. посетителя "),c6]),b(t("input",{type:"text",class:"form-control",placeholder:"Иванов Иван Иванович","aria-label":"ФИО","onUpdate:modelValue":n[3]||(n[3]=l=>e.appointmentForm.name=l),maxlength:"255","aria-describedby":"appointment-name",required:""},null,512),[[G,e.appointmentForm.name]])]),t("div",m6,[t("label",p6,[E(a,{content:"Номер телефона человека, который посетит запись"},{default:O(()=>[h6]),_:1}),w(" Телефонный номер "),_6]),b(t("input",{type:"text",class:"form-control",placeholder:"+7(000)000-00-00","aria-label":"номер телефона","onUpdate:modelValue":n[4]||(n[4]=l=>e.appointmentForm.phone=l),maxlength:"255","aria-describedby":"appointment-phone",required:""},null,512),[[o,"+7(###)###-##-##"],[G,e.appointmentForm.phone]])]),t("div",f6,[t("label",v6,[E(a,null,{content:O(()=>[g6]),default:O(()=>[b6]),_:1}),w(" Описание услуги "),y6,e.appointmentForm.info?(i(),d("small",$6," Длина текста "+v(e.appointmentForm.info.length)+" / 255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Информация от клиента","aria-label":"Информация от клиента",maxlength:"255","onUpdate:modelValue":n[5]||(n[5]=l=>e.appointmentForm.info=l),"aria-describedby":"appointment-info",required:""},`
                    `,512),[[G,e.appointmentForm.info]])])]),t("div",k6,[t("div",w6,[t("button",C6,[e.appointmentForm.id==null?(i(),d("span",F6,"Записаться")):(i(),d("span",T6,"Обновить запись"))])])])],32)],64)}}}),P6={class:"row"},O6={class:"col-12"},M6={key:0,class:"table"},A6=t("th",{scope:"col"},"Действие",-1),j6=["onClick"],q6={scope:"row"},z6={key:0},I6={key:0,class:"dropdown"},R6=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),U6={class:"dropdown-menu"},V6={key:0},Y6=["onClick"],B6={key:1},N6={class:"col-12"},Q6={props:["bot","eventId"],data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,services:[],search:null,statuses:["Новая запись","Подтверждение записи","Прохождение по записи","Отмена записи"],days:["понедельник","вторник","среду","четверг","пятницу","субботу","воскресенье"],paginate_object:null}},computed:{...Ne(["getAppointments","getAppointmentsPaginateObject"])},mounted(){this.loadAppointments()},methods:{nextAppointments(s){this.loadAppointments(s)},selectAppointment(s){this.$emit("select",s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointments(0)},removeAppointment(s){this.loading=!0,this.$store.dispatch("removeAppointment",{dataObject:{appointmentId:s}}).then(e=>{this.loading=!1,this.loadAppointments(0),this.$notify("Запись успешно удалена")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления записи")})},loadAppointments(s=0){this.loading=!0,this.$store.dispatch("loadAppointments",{dataObject:{event_id:this.eventId,bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:100}).then(e=>{this.loading=!1,this.services=this.getAppointments,this.paginate_object=this.getAppointmentsPaginateObject}).catch(()=>{this.loading=!1})}}},E6=Object.assign(Q6,{__name:"AppointmentsTable",setup(s){return(e,n)=>(i(),d("div",P6,[t("div",O6,[e.services.length>0?(i(),d("table",M6,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[0]||(n[0]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[1]||(n[1]=a=>e.loadAndOrder("bot_user_id"))},"Пользователь"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("appointment_schedule_id"))},"Дата записи "),t("th",{scope:"col",class:"cursor-pointer",onClick:n[3]||(n[3]=a=>e.loadAndOrder("status"))},"Статус"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[4]||(n[4]=a=>e.loadAndOrder("name"))},"Посетитель"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[5]||(n[5]=a=>e.loadAndOrder("phone"))},"Телефон посетителя"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[6]||(n[6]=a=>e.loadAndOrder("info"))},"Доп.инф"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[7]||(n[7]=a=>e.loadAndOrder("updated_at"))},"Дата изменения"),A6])]),t("tbody",null,[(i(!0),d(R,null,J(e.services,(a,o)=>(i(),d("tr",{onClick:l=>e.selectAppointment(a),class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",q6,v(a.id),1),t("td",null,v(a.botUser.fio_from_telegram||a.botUser.telegram_chat_id||"Не указано"),1),t("td",null,[a.schedule?(i(),d("p",z6," Запись на "+v(e.days[a.schedule.day-1]||"Не указано")+" с "+v(a.schedule.start_time||"Не указано")+" до "+v(a.schedule.end_time||"Не указано"),1)):c("",!0)]),t("td",null,v(e.statuses[a.status]),1),t("td",null,v(e.$filters.current(a.updated_at)),1),t("td",null,v(a.name||"не указано"),1),t("td",null,v(a.phone||"не указано"),1),t("td",null,v(a.info||"не указано"),1),t("td",null,[a.id?(i(),d("div",I6,[R6,t("ul",U6,[a.deleted_at==null?(i(),d("li",V6,[t("a",{class:"dropdown-item",onClick:l=>e.removeAppointment(a.id),href:"javascript:void(0)"},"Удалить",8,Y6)])):c("",!0)])])):c("",!0)])],10,j6))),256))])])):(i(),d("p",B6,"На текущий момент нет ни одного созданного сервиса"))]),t("div",N6,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextAppointments,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),x6={class:"row py-2"},L6={class:"col-12"},H6={class:"input-group mb-3"},W6={class:"col-12"},K6={key:0,class:"table"},X6=t("th",{scope:"col"},"Действие",-1),G6={scope:"row"},Z6=["onClick"],J6={key:0,class:"fa-solid fa-chevron-down text-success"},eD={key:1,class:"fa-solid fa-xmark text-danger"},tD={key:0,class:"dropdown"},sD=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),nD={class:"dropdown-menu"},oD={key:0},aD=["onClick"],lD={key:1},iD={class:"col-12"},rD={props:["bot"],data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,events:[],search:null,paginate_object:null}},computed:{...Ne(["getAppointmentEvents","getAppointmentEventsPaginateObject"])},mounted(){this.loadAppointmentEvents()},methods:{removeAppointmentEvent(s){this.loading=!0,this.$store.dispatch("removeAppointmentEvent",{dataObject:{appointmentEventId:s}}).then(e=>{this.loading=!1,this.loadAppointmentEvents(0),this.$notify("Событие успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления события")})},nextAppointmentEvents(s){this.loadAppointmentEvents(s)},selectEvent(s){this.$emit("select",s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentEvents(0)},loadAppointmentEvents(s=0){this.loading=!0,this.$store.dispatch("loadAppointmentEvents",{dataObject:{bot_id:this.bot.id||null,search:this.search,is_group:this.is_group,order:this.order,direction:this.direction},page:s,size:20}).then(e=>{this.loading=!1,this.events=this.getAppointmentEvents,this.paginate_object=this.getAppointmentEventsPaginateObject}).catch(()=>{this.loading=!1})}}},dD=Object.assign(rD,{__name:"AppointmentEventTable",setup(s){return(e,n)=>(i(),d("div",x6,[t("div",L6,[t("div",H6,[b(t("input",{type:"search",class:"form-control",placeholder:"Поиск события","aria-label":"Поиск события","onUpdate:modelValue":n[0]||(n[0]=a=>e.search=a),"aria-describedby":"appointment-search-event"},null,512),[[G,e.search]]),t("button",{class:"btn btn-outline-secondary",onClick:n[1]||(n[1]=a=>e.loadAppointmentEvents(0)),type:"button",id:"appointment-search-event"},"Найти ")])]),t("div",W6,[e.events.length>0?(i(),d("table",K6,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[3]||(n[3]=a=>e.loadAndOrder("title"))},"Название"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[4]||(n[4]=a=>e.loadAndOrder("subtitle"))},"Подзаголовок"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[5]||(n[5]=a=>e.loadAndOrder("description"))},"Описание"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[6]||(n[6]=a=>e.loadAndOrder("is_group"))},"Групповое"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[7]||(n[7]=a=>e.loadAndOrder("updated_at"))},"Дата изменения"),X6])]),t("tbody",null,[(i(!0),d(R,null,J(e.events,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",G6,v(a.id),1),t("td",{onClick:l=>e.selectEvent(a)},v(a.title||"Не указано"),9,Z6),t("td",null,v(a.subtitle||"Не указано"),1),t("td",null,v(a.description||"Не указано"),1),t("td",null,[a.is_group?(i(),d("i",J6)):(i(),d("i",eD))]),t("td",null,v(e.$filters.current(a.updated_at)),1),t("td",null,[a.id?(i(),d("div",tD,[sD,t("ul",nD,[a.deleted_at==null?(i(),d("li",oD,[t("a",{class:"dropdown-item",onClick:l=>e.removeAppointmentEvent(a.id),href:"javascript:void(0)"},"Удалить",8,aD)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("p",lD,"На текущий момент нет событий в вашем списке"))]),t("div",iD,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextAppointmentEvents,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),uD={class:"row"},cD={class:"col-12"},mD={key:0,class:"table"},pD=t("th",{scope:"col"},"Действие",-1),hD={scope:"row"},_D=["onClick"],fD={key:0,class:"fa-solid fa-chevron-down text-success"},vD={key:1,class:"fa-solid fa-xmark text-danger"},bD={key:0,class:"dropdown"},gD=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),yD={class:"dropdown-menu"},$D={key:0},kD=["onClick"],wD={key:1},CD={class:"col-12"},FD={props:["bot","eventId"],data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,services:[],search:null,paginate_object:null}},computed:{...Ne(["getAppointmentServices","getAppointmentServicesPaginateObject"])},mounted(){this.loadAppointmentServices()},methods:{nextAppointmentService(s){this.loadAppointmentServices(s)},selectService(s){this.$emit("select",s)},removeAppointmentService(s){this.loading=!0,this.$store.dispatch("removeAppointmentService",{dataObject:{appointmentServiceId:s}}).then(e=>{this.loading=!1,this.loadAppointmentServices(0),this.$notify("Сервис успешно удален")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления сервиса")})},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentServices(0)},loadAppointmentServices(s=0){this.loading=!0,this.$store.dispatch("loadAppointmentServices",{dataObject:{event_id:this.eventId,bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:100}).then(e=>{this.loading=!1,this.services=this.getAppointmentServices,this.paginate_object=this.getAppointmentServicesPaginateObject}).catch(()=>{this.loading=!1})}}},TD=Object.assign(FD,{__name:"AppointmentServicesTable",setup(s){return(e,n)=>(i(),d("div",uD,[t("div",cD,[e.services.length>0?(i(),d("table",mD,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[0]||(n[0]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[1]||(n[1]=a=>e.loadAndOrder("title"))},"Название"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("subtitle"))},"Подзаголовок"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[3]||(n[3]=a=>e.loadAndOrder("description"))},"Описание"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[4]||(n[4]=a=>e.loadAndOrder("is_group"))},"Групповое"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[5]||(n[5]=a=>e.loadAndOrder("updated_at"))},"Дата изменения"),pD])]),t("tbody",null,[(i(!0),d(R,null,J(e.services,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",hD,v(a.id),1),t("td",{onClick:l=>e.selectService(a)},v(a.title||"Не указано"),9,_D),t("td",null,v(a.subtitle||"Не указано"),1),t("td",null,v(a.description||"Не указано"),1),t("td",null,[a.is_group?(i(),d("i",fD)):(i(),d("i",vD))]),t("td",null,v(e.$filters.current(a.updated_at)),1),t("td",null,[a.id?(i(),d("div",bD,[gD,t("ul",yD,[a.deleted_at==null?(i(),d("li",$D,[t("a",{class:"dropdown-item",onClick:l=>e.removeAppointmentService(a.id),href:"javascript:void(0)"},"Удалить",8,kD)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("p",wD,"На текущий момент нет ни одного созданого сервиса"))]),t("div",CD,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextAppointmentService,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),DD={class:"row"},SD={class:"col-12 mb-3"},PD={class:"form-label",id:"event-title"},OD=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),MD=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),AD={class:"col-12 mb-3"},jD={class:"form-label",id:"event-subtitle"},qD=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),zD=t("div",null,"Подзаголовок события или доп. инфа под названием события ",-1),ID=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),RD={class:"col-12 mb-3"},UD={class:"form-label",id:"event-description"},VD=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),YD=t("div",null," Краткая информация о происходящем мероприятии ",-1),BD=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),ND={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},QD={class:"col-12 mb-3"},ED={class:"form-label",id:"event-on_start_appointment"},xD=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),LD=t("div",null," Текст, который будет отображен клиенту, когда тот записался ",-1),HD=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),WD={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},KD={class:"col-12 mb-3"},XD={class:"form-label",id:"event-on_cancel_appointment"},GD=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),ZD=t("div",null," Текст, который будет отображен клиенту, когда тот отменил запись ",-1),JD=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),eS={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},tS={class:"col-12 mb-3"},sS={class:"form-label",id:"event-on_after_appointment"},nS=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),oS=t("div",null," Текст, который будет отображен клиенту, когда тот прошел событие успешно ",-1),aS=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),lS={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},iS={class:"col-12 mb-3"},rS={class:"form-label",id:"event-on_repeat_appointment"},dS=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),uS=t("div",null," Текст, который будет отображен клиенту, когда тот записывается 2й и более раз ",-1),cS=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),mS={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},pS={class:"col-12 mb-3"},hS={class:"form-check"},_S=t("label",{class:"form-check-label",for:"need_media"}," Нужно изображение к событию ",-1),fS={key:0,class:"col-12 mb-3"},vS={class:"form-label",id:"event-images"},bS=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),gS=t("div",null," Изображение, которое видит пользователь при выборе события ",-1),yS=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),$S={class:"col-12 mb-3"},kS={class:"form-check"},wS=t("label",{class:"form-check-label",for:"is-group"}," Является групповым мероприятием ",-1),CS={key:1,class:"col-md-6 col-12 mb-3"},FS={class:"form-label",id:"event-min_people"},TS=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),DS=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),SS={key:2,class:"col-md-6 col-12 mb-3"},PS={class:"form-label",id:"event-max_people"},OS=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),MS=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),AS={class:"row"},jS={class:"col-12"},qS={type:"submit",class:"btn btn-outline-success w-100 p-3"},zS={key:0},IS={key:1},RS={props:["event","bot"],data(){return{step:0,load:!1,need_reset:!1,need_services:!1,need_media:!1,eventForm:{id:null,title:null,subtitle:null,description:null,images:[],services:[],times:[],is_group:!1,max_people:0,min_people:0,on_start_appointment:null,on_cancel_appointment:null,on_after_appointment:null,on_repeat_appointment:null}}},watch:{eventForm:{handler(s){this.need_reset=!0},deep:!0}},mounted(){this.event&&this.$nextTick(()=>{this.eventForm={id:this.event.id||null,title:this.event.title||null,subtitle:this.event.subtitle||null,description:this.event.description||null,images:this.event.images||[],is_group:this.event.is_group||!1,max_people:this.event.max_people||0,min_people:this.event.min_people||0,on_start_appointment:this.event.on_start_appointment||null,on_cancel_appointment:this.event.on_cancel_appointment||null,on_after_appointment:this.event.on_after_appointment||null,on_repeat_appointment:this.event.on_repeat_appointment||null}})},methods:{selectPhotos(s){this.eventForm.images||(this.eventForm.images=[]);let e=this.eventForm.images.indexOf(s.file_id);e!==-1?this.eventForm.images.splice(e,1):this.eventForm.images.push(s.file_id)},resetForm(){},submitForm(){let s=new FormData;Object.keys(this.eventForm).forEach(e=>{const n=this.eventForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch(this.eventForm.id===null?"addAppointmentEvent":"updateAppointmentEvent",{appointmentEventForm:s}).then(e=>{this.$emit("callback",e.data),this.$notify("Событие успешно создано")}).catch(e=>{this.$notify("Ошибка создания события")})}}},Io=Object.assign(RS,{__name:"AppointmentEventForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d("form",{onSubmit:n[11]||(n[11]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"]))},[t("div",DD,[t("div",SD,[t("label",PD,[E(a,{content:"Название вашего события (или специалиста), на которое планируется осуществить запись"},{default:O(()=>[OD]),_:1}),w(" Название события "),MD]),b(t("input",{type:"text",class:"form-control",placeholder:"Название","aria-label":"Название","onUpdate:modelValue":n[0]||(n[0]=o=>e.eventForm.title=o),maxlength:"255","aria-describedby":"event-title",required:""},null,512),[[G,e.eventForm.title]])]),t("div",AD,[t("label",jD,[E(a,null,{content:O(()=>[zD]),default:O(()=>[qD]),_:1}),w(" Подзаголовок события "),ID]),b(t("input",{type:"text",class:"form-control",placeholder:"Подзаголовок","aria-label":"Подзаголовок","onUpdate:modelValue":n[1]||(n[1]=o=>e.eventForm.subtitle=o),maxlength:"255","aria-describedby":"event-subtitle",required:""},null,512),[[G,e.eventForm.subtitle]])]),t("div",RD,[t("label",UD,[E(a,null,{content:O(()=>[YD]),default:O(()=>[VD]),_:1}),w(" Описание события "),BD,e.eventForm.description?(i(),d("small",ND," Длина текста "+v(e.eventForm.description.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Описание мероприятия","aria-label":"Описание мероприятия",maxlength:"255","onUpdate:modelValue":n[2]||(n[2]=o=>e.eventForm.description=o),"aria-describedby":"event-description",required:""},`
                    `,512),[[G,e.eventForm.description]])]),t("div",QD,[t("label",ED,[E(a,null,{content:O(()=>[LD]),default:O(()=>[xD]),_:1}),w(" Текст при записи на событие "),HD,e.eventForm.on_start_appointment?(i(),d("small",WD," Длина текста "+v(e.eventForm.on_start_appointment.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст при записи на событие","aria-label":"Текст при записи на событие","onUpdate:modelValue":n[3]||(n[3]=o=>e.eventForm.on_start_appointment=o),maxlength:"255","aria-describedby":"event-on_start_appointment",required:""},`
                    `,512),[[G,e.eventForm.on_start_appointment]])]),t("div",KD,[t("label",XD,[E(a,null,{content:O(()=>[ZD]),default:O(()=>[GD]),_:1}),w(" Текст при отмене записи на событие "),JD,e.eventForm.on_cancel_appointment?(i(),d("small",eS," Длина текста "+v(e.eventForm.on_cancel_appointment.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст при отмене записи на событие","aria-label":"Текст при отмене записи на событие","onUpdate:modelValue":n[4]||(n[4]=o=>e.eventForm.on_cancel_appointment=o),maxlength:"255","aria-describedby":"event-on_cancel_appointment",required:""},`
                    `,512),[[G,e.eventForm.on_cancel_appointment]])]),t("div",tS,[t("label",sS,[E(a,null,{content:O(()=>[oS]),default:O(()=>[nS]),_:1}),w(" Текст после прохождения события "),aS,e.eventForm.on_after_appointment?(i(),d("small",lS," Длина текста "+v(e.eventForm.on_after_appointment.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст после прохождения события","aria-label":"Текст после прохождения события","onUpdate:modelValue":n[5]||(n[5]=o=>e.eventForm.on_after_appointment=o),maxlength:"255","aria-describedby":"event-on_after_appointment",required:""},`
                    `,512),[[G,e.eventForm.on_after_appointment]])]),t("div",iS,[t("label",rS,[E(a,null,{content:O(()=>[uS]),default:O(()=>[dS]),_:1}),w(" Текст при повторной записи на событие "),cS,e.eventForm.on_repeat_appointment?(i(),d("small",mS," Длина текста "+v(e.eventForm.on_repeat_appointment.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:" Текст при повторной записи на событие","aria-label":" Текст при повторной записи на событие","onUpdate:modelValue":n[6]||(n[6]=o=>e.eventForm.on_repeat_appointment=o),maxlength:"255","aria-describedby":"event-on_repeat_appointment",required:""},`
                    `,512),[[G,e.eventForm.on_repeat_appointment]])]),t("div",pS,[t("div",hS,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[7]||(n[7]=o=>e.need_media=o),type:"checkbox",id:"need_media"},null,512),[[ke,e.need_media]]),_S])]),e.need_media?(i(),d("div",fS,[t("label",vS,[E(a,null,{content:O(()=>[gS]),default:O(()=>[bS]),_:1}),w(" Изображение к событию "),yS]),E(kt,{"need-photo":!0,selected:e.eventForm.images,onSelect:e.selectPhotos},null,8,["selected","onSelect"])])):c("",!0),t("div",$S,[t("div",kS,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[8]||(n[8]=o=>e.eventForm.is_group=o),type:"checkbox",id:"is-group"},null,512),[[ke,e.eventForm.is_group]]),wS])]),e.eventForm.is_group?(i(),d("div",CS,[t("label",FS,[E(a,{content:"Минимально необходимое число людей, для начала 1 мероприятия"},{default:O(()=>[TS]),_:1}),w(" Минимальное число посетителей в группе "),DS]),b(t("input",{type:"number",class:"form-control",placeholder:"Минимальное число посетителей","aria-label":"Название","onUpdate:modelValue":n[9]||(n[9]=o=>e.eventForm.min_people=o),"aria-describedby":"event-min_people",required:""},null,512),[[G,e.eventForm.min_people]])])):c("",!0),e.eventForm.is_group?(i(),d("div",SS,[t("label",PS,[E(a,{content:"Количество людей, которые могут посетить мероприятие за 1 сеанс"},{default:O(()=>[OS]),_:1}),w(" Максимальное число посетителей в группе "),MS]),b(t("input",{type:"number",class:"form-control",placeholder:"Максимальное число посетителей","aria-label":"Название","onUpdate:modelValue":n[10]||(n[10]=o=>e.eventForm.max_people=o),"aria-describedby":"event-max_people",required:""},null,512),[[G,e.eventForm.max_people]])])):c("",!0)]),t("div",AS,[t("div",jS,[t("button",qS,[e.eventForm.id==null?(i(),d("span",zS,"Создать событие")):(i(),d("span",IS,"Обновить событие"))])])])],32)}}}),US={class:"row pt-3"},VS={class:"col-md-4"},YS={class:"form-floating mb-3"},BS=t("label",{for:"config-step"},"Шаг, минуты",-1),NS={class:"col-md-4"},QS={class:"form-floating mb-3"},ES=t("label",{for:"config-start-time"},"Начало, часы",-1),xS={class:"col-md-4"},LS={class:"form-floating mb-3"},HS=["min"],WS=t("label",{for:"config-end-time"},"Конец, часы",-1),KS=t("hr",null,null,-1),XS={key:0,class:"row"},GS={class:"col-12 d-flex justify-content-end pb-3"},ZS={class:"row"},JS={class:"col-md-4 text-center"},e8={key:0,class:"fa-solid fa-arrow-down-short-wide"},t8={key:1,class:"fa-solid fa-arrow-up-wide-short"},s8={class:"col-md-4 text-center"},n8={key:0,class:"fa-solid fa-arrow-down-short-wide"},o8={key:1,class:"fa-solid fa-arrow-up-wide-short"},a8={class:"col-md-4 text-center"},l8={key:0,class:"fa-solid fa-arrow-down-short-wide"},i8={key:1,class:"fa-solid fa-arrow-up-wide-short"},r8={class:"col-md-4"},d8={class:"form-floating"},u8=["onUpdate:modelValue","id"],c8=["for"],m8={class:"col-md-4"},p8={class:"form-floating"},h8=["onUpdate:modelValue","id"],_8=["for"],f8={class:"col-md-4"},v8={class:"form-floating"},b8=["onUpdate:modelValue","id"],g8=["for"],y8={class:"row mt-3"},$8={class:"col-12"},k8={class:"row"},w8={class:"col-12"},C8={class:"col-12"},F8={class:"text-center"},T8={class:"row d-flex justify-content-center"},D8={class:"col-md-4"},S8={class:"table"},P8=t("th",{scope:"col"},"#",-1),O8={scope:"col"},M8={scope:"row"},A8=["onClick"],j8={key:0,class:"fa-solid fa-check"},q8={key:1,class:"fa-solid fa-xmark"},z8={components:{VueDatePicker:gs},props:["eventId","bot"],data(){return{date:null,load:!1,step:30,start:8,end:18,order:null,direction:null,paginate_object:null,years:[2024,2025],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","октябрь","Ноябрь","Декабрь"],days:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],schedule:[],added_schedule:[]}},watch:{date:{handler:function(s){this.loadAppointmentSchedules()},deep:!0}},computed:{...Ne(["getAppointmentSchedules","getAppointmentSchedulesPaginateObject"]),currentWeek(){return new Date().getWeek()},currentMonthWeek(){return new Date().getMonthWeek()},currentMonth(){return new Date().getMonth()},currentYear(){return new Date().getFullYear()},times(){let s=this.step,e=[],n=0,a=0;for(let o=0;n<24*60;o++){let l=Math.floor(n/60);if(l>=this.start&&l<=this.end){let r=n%60;e[a]=("0"+l).slice(-2)+":"+("0"+r).slice(-2),a++}n=n+s}return e}},mounted(){this.date=new Date,this.loadAppointmentSchedules()},methods:{removeAppointmentSchedule(s){this.loading=!0,this.$store.dispatch("removeAppointmentSchedule",{dataObject:{appointmentScheduleId:s}}).then(e=>{this.loading=!1,this.loadAppointmentSchedules(0),this.$notify("Время успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления времени")})},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentSchedules(0)},nextAppointmentSchedule(s){this.loadAppointmentSchedules(s)},loadAppointmentSchedules(s=0){this.loading=!0,this.$store.dispatch("loadAppointmentSchedules",{dataObject:{date:this.date||null,event_id:this.eventId,bot_id:this.bot.id||null,order:this.order,direction:this.direction},page:s,size:20}).then(e=>{this.loading=!1,this.schedule=this.getAppointmentSchedules,this.paginate_object=this.getAppointmentSchedulesPaginateObject}).catch(()=>{this.loading=!1})},storeSchedule(){this.$store.dispatch("storeAppointmentSchedule",{dataObject:{schedule:[...this.schedule,...this.added_schedule],bot_id:this.bot.id,appointment_event_id:this.eventId}}).then(()=>{this.$notify("Расписание успешно сохранено"),this.loadAppointmentSchedules(),this.added_schedule=[]}).catch(()=>{this.$notify("Ошибка сохраения расписания")})},inScheduleRow(s){return this.schedule.findIndex(e=>e.start_time==this.times[s])!=-1||this.added_schedule.findIndex(e=>e.start_time==this.times[s])!=-1},inSchedule(s,e){return this.schedule.findIndex(n=>n.day==e&&n.start_time==this.times[s])!=-1||this.added_schedule.findIndex(n=>n.day==e&&n.start_time==this.times[s])!=-1},setScheduleItem(s,e){let n=this.schedule.findIndex(a=>a.day==e&&a.start_time==this.times[s]);if(n!==-1){this.schedule.splice(n,1);return}if(n=this.added_schedule.findIndex(a=>a.day==e&&a.start_time==this.times[s]),n!==-1){this.added_schedule.splice(n,1);return}this.added_schedule.push({day:e,start_time:this.times[s]||null,end_time:this.times[s+1]||null,week:this.date==null?this.currentWeek:new Date(this.date).getWeek(),month:this.date==null?this.currentMonth:new Date(this.date).getMonth(),year:this.date==null?this.currentYear:new Date(this.date).getFullYear()})}}},I8=Object.assign(z8,{__name:"AppointmentScheduleForm",setup(s){return(e,n)=>(i(),d(R,null,[t("div",US,[t("div",VS,[t("div",YS,[b(t("input",{type:"number",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=a=>e.step=a),min:"0",id:"config-step",placeholder:"30 минут"},null,512),[[G,e.step]]),BS])]),t("div",NS,[t("div",QS,[b(t("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=a=>e.start=a),min:"0",max:"23",class:"form-control",id:"config-start-time",placeholder:"Часы"},null,512),[[G,e.start]]),ES])]),t("div",xS,[t("div",LS,[b(t("input",{type:"number","onUpdate:modelValue":n[2]||(n[2]=a=>e.end=a),min:e.start,max:"23",class:"form-control",id:"config-end-time",placeholder:"Часы"},null,8,HS),[[G,e.end]]),WS])])]),KS,e.schedule.length>0||e.added_schedule.length>0?(i(),d("div",XS,[t("div",GS,[t("button",{onClick:n[3]||(n[3]=(...a)=>e.storeSchedule&&e.storeSchedule(...a)),class:"btn btn-primary"},"Сохранить текущий график ")]),t("div",ZS,[t("div",JS,[t("a",{onClick:n[4]||(n[4]=a=>e.loadAndOrder("day")),href:"javascript:void(0)"},[w("День "),e.order==="day"&&e.direction==="asc"?(i(),d("i",e8)):c("",!0),e.order==="day"&&e.direction==="desc"?(i(),d("i",t8)):c("",!0)])]),t("div",s8,[t("a",{onClick:n[5]||(n[5]=a=>e.loadAndOrder("start_time")),href:"javascript:void(0)"},[w("Начало "),e.order==="start_time"&&e.direction==="asc"?(i(),d("i",n8)):c("",!0),e.order==="start_time"&&e.direction==="desc"?(i(),d("i",o8)):c("",!0)])]),t("div",a8,[t("a",{onClick:n[6]||(n[6]=a=>e.loadAndOrder("end_time")),href:"javascript:void(0)"},[w("Конец "),e.order==="end_time"&&e.direction==="asc"?(i(),d("i",l8)):c("",!0),e.order==="end_time"&&e.direction==="desc"?(i(),d("i",i8)):c("",!0)])])])])):c("",!0),(i(!0),d(R,null,J([...e.schedule,...e.added_schedule],(a,o)=>(i(),d("div",{class:P(["row py-2",{"bg-warning":a.id==null}])},[t("div",r8,[t("div",d8,[b(t("input",{type:"text","onUpdate:modelValue":l=>e.days[a.day-1]=l,class:"form-control",id:"day-of-week-"+o,placeholder:"День недели"},null,8,u8),[[G,e.days[a.day-1]]]),t("label",{for:"day-of-week-"+o},"День недели",8,c8)])]),t("div",m8,[t("div",p8,[b(t("input",{type:"text","onUpdate:modelValue":l=>a.start_time=l,class:"form-control",id:"day-of-start-at-"+o,placeholder:"Время начало"},null,8,h8),[[G,a.start_time]]),t("label",{for:"day-of-start-at-"+o},"Начало",8,_8)])]),t("div",f8,[t("div",v8,[b(t("input",{type:"text","onUpdate:modelValue":l=>a.end_time=l,class:"form-control",id:"day-of-end-at-"+o,placeholder:"Время окончания"},null,8,b8),[[G,a.end_time]]),t("label",{for:"day-of-end-at-"+o},"Окончание",8,g8)])])],2))),256)),t("div",y8,[t("div",$8,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextAppointmentSchedule,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]),t("div",k8,[t("div",w8,[t("button",{class:"btn btn-primary",onClick:n[7]||(n[7]=a=>e.schedule=[])},"Очистить таблицу")]),t("div",C8,[t("p",F8,[w(" Год: "),t("strong",null,v(e.currentYear),1),w(" Месяц: "),t("strong",null,v(e.months[e.currentMonth]),1),w(" Неделя: "),t("strong",null,v(e.currentWeek),1)])])]),t("div",T8,[t("div",D8,[E(C(gs),{modelValue:e.date,"onUpdate:modelValue":n[8]||(n[8]=a=>e.date=a)},null,8,["modelValue"])])]),t("table",S8,[t("thead",null,[t("tr",null,[P8,(i(!0),d(R,null,J(e.days,a=>(i(),d("th",O8,v(a),1))),256))])]),t("tbody",null,[(i(!0),d(R,null,J(e.times,(a,o)=>(i(),d("tr",{class:P({"table-light":e.inScheduleRow(o)})},[t("th",M8,v(a),1),(i(),d(R,null,J(7,l=>t("td",null,[t("button",{class:P([{"btn-primary text-white":e.inSchedule(o,l)},"btn btn-outline-primary"]),onClick:r=>e.setScheduleItem(o,l)},[e.inSchedule(o,l)?(i(),d("i",j8)):(i(),d("i",q8))],10,A8)])),64))],2))),256))])])],64))}});(function(){try{if(typeof document<"u"){var s=document.createElement("style");s.appendChild(document.createTextNode(".vue3-star-ratings[data-v-7fab3f62]{width:fit-content;overflow:hidden;position:relative;white-space:nowrap}.vue3-star-ratings *[data-v-7fab3f62]{box-sizing:border-box;margin:0;padding:0;line-height:1}.vue3-star-ratings__inner[data-v-7fab3f62],.vue3-star-ratings__outer[data-v-7fab3f62]{height:inherit}.vue3-star-ratings__outer[data-v-7fab3f62]{position:absolute;top:0;left:0;width:var(--vue3StarRatingOuterWidth);max-width:100%;overflow:hidden;color:var(--vue3StarRatingsOuterColor);transition:width .32s cubic-bezier(.075,.82,.165,1)}.vue3-star-ratings__inner[data-v-7fab3f62]{color:var(--vue3StarRatingsInnerColor)}.vue3-star-ratings__icon[data-v-7fab3f62]{fill:currentColor;width:var(--vue3StarRatingIconSize);aspect-ratio:1;cursor:pointer;display:inline-block}")),document.head.appendChild(s)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Aa=(s,e)=>{const n=s.__vccOpts||s;for(const[a,o]of e)n[a]=o;return n},R8={},U8={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.002 512.002"},V8=t("path",{d:"M511.267 197.258a14.995 14.995 0 00-12.107-10.209l-158.723-23.065-70.985-143.827a14.998 14.998 0 00-26.901 0l-70.988 143.827-158.72 23.065a14.998 14.998 0 00-8.312 25.585l114.848 111.954-27.108 158.083a14.999 14.999 0 0021.763 15.812l141.967-74.638 141.961 74.637a15 15 0 0021.766-15.813l-27.117-158.081 114.861-111.955a14.994 14.994 0 003.795-15.375z"},null,-1),Y8=[V8];function B8(s,e){return i(),d("svg",U8,Y8)}const Ro=Aa(R8,[["render",B8]]),N8={class:"vue3-star-ratings__outer"},Q8={class:"vue3-star-ratings__inner"},E8=tt({__name:"Vue3StarRatings",props:{modelValue:{default:0},numberOfStars:{default:5},starColor:{default:"#ff9800"},inactiveColor:{default:"#333333"},starSize:{default:24},disableClick:{type:Boolean},customSvg:{default:Ro}},emits:["update:modelValue"],setup(s,{emit:e}){const n=s,a=se(()=>n.customSvg||Ro),o={rounded(h,k){const _=Math.pow(10,k);return Math.round(h*_)/_}},l=ce(),r=se({get(){return n.modelValue},set(h){const k=o.rounded(h,1);e("update:modelValue",k)}});function u(h){if(n.disableClick)return;const k=this.getBoundingClientRect(),{pageX:_}=h,F=_-k.left,D=k.width,M=n.numberOfStars,N=F/D*M;r.value=N}const p=se(()=>(r.value<0?0:r.value>n.numberOfStars?n.numberOfStars:r.value)/n.numberOfStars*100);return Na(()=>{var h;const k={"--vue3StarRatingsInnerColor":n.inactiveColor,"--vue3StarRatingsOuterColor":n.starColor,"--vue3StarRatingOuterWidth":`${p.value}%`,"--vue3StarRatingIconSize":`${n.starSize}px`};for(const[_,F]of Object.entries(k))(h=l.value)==null||h.style.setProperty(_,F)}),rt(()=>{var h;(h=l.value)==null||h.addEventListener("click",u)}),Qa(()=>{var h;(h=l.value)==null||h.removeEventListener("click",u)}),(h,k)=>(i(),d("div",{class:"vue3-star-ratings",ref_key:"starsContainer",ref:l,style:bt({pointerEvents:h.disableClick?"none":"auto"})},[t("div",N8,[(i(!0),d(R,null,J(h.numberOfStars,_=>(i(),Q(Ds(a.value),{key:_,class:"vue3-star-ratings__icon"}))),128))]),t("div",Q8,[(i(!0),d(R,null,J(h.numberOfStars,_=>(i(),Q(Ds(a.value),{key:_,class:"vue3-star-ratings__icon"}))),128))])],4))}}),nn=Aa(E8,[["__scopeId","data-v-7fab3f62"]]),x8={class:"row py-3"},L8={class:"col-12"},H8={class:"row"},W8={class:"col-12"},K8={key:0},X8={key:1},G8={key:0,class:"col-12 mb-3"},Z8={class:"col-12 mb-3"},J8={key:0},eP={key:1},tP={key:1,class:"col-12 mb-3"},sP={class:"col-12 mb-3"},nP={class:"col-12 mb-3"},oP={class:"form-label",id:"event-on_after_appointment"},aP=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),lP=t("div",null," Текст, который пользователь оставляет после прохождения услуги ",-1),iP=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),rP={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},dP={class:"row"},uP={class:"col-12"},cP={type:"submit",class:"btn btn-outline-success w-100 p-3"},mP={key:0},pP={key:1},hP={props:["eventId","bot","review"],components:{vue3starRatings:nn},data(){return{step:0,load:!1,selected_schedule_time:null,selected_bot_user:null,need_load_users:!1,need_schedule_time:!1,days:["понедельник","вторник","среду","четверг","пятницу","субботу","воскресенье"],reviewForm:{id:null,appointment_event_id:null,appointment_schedule_id:null,bot_user_id:null,rating:null,text:null}}},watch:{reviewForm:{handler(s){this.need_reset=!0},deep:!0}},mounted(){this.review&&this.$nextTick(()=>{this.reviewForm={id:this.review.id||null,appointment_event_id:this.review.appointment_event_id||null,appointment_schedule_id:this.review.appointment_schedule_id||null,bot_user_id:this.review.bot_user_id||null,rating:this.review.rating||null,text:this.review.text||null},this.selected_schedule_time=this.review.schedule||null,this.selected_bot_user=this.review.botUser||null})},methods:{selectScheduleTime(s){this.selected_schedule_time=s,this.need_schedule_time=!1},selectBotUser(s){this.selected_bot_user=s,this.need_load_users=!1},clearReviewForm(){this.reviewForm={id:null,appointment_event_id:null,appointment_schedule_id:null,bot_user_id:null,rating:null,text:null},this.selected_schedule_time=null,this.selected_bot_user=null},submitForm(){this.reviewForm.bot_user_id=this.selected_bot_user.id,this.reviewForm.appointment_schedule_id=this.selected_schedule_time.id,this.reviewForm.appointment_event_id=this.eventId;let s=new FormData;Object.keys(this.reviewForm).forEach(e=>{const n=this.reviewForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch("storeAppointmentReview",{dataObject:{appointmentReviewForm:s}}).then(e=>{this.$emit("callback",e.data),this.$notify("Отзыв успешно создан"),this.clearReviewForm()}).catch(e=>{this.$notify("Ошибка создания отзыва")})}}},_P=Object.assign(hP,{__name:"AppointmentReviewForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d(R,null,[t("div",x8,[t("div",L8,[t("button",{onClick:n[0]||(n[0]=(...o)=>e.clearReviewForm&&e.clearReviewForm(...o)),class:"btn btn-primary"},"Новый отзыв")])]),t("form",{onSubmit:n[5]||(n[5]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"]))},[t("div",H8,[t("div",W8,[t("a",{href:"javascript:void(0)",class:"btn btn-link",onClick:n[1]||(n[1]=o=>e.need_load_users=!e.need_load_users)},[e.selected_bot_user==null?(i(),d("span",K8,"Выберите пользователя")):c("",!0),e.selected_bot_user?(i(),d("span",X8," Пользователь "+v(e.selected_bot_user.name||e.selected_bot_user.fio_from_telegram||e.selected_bot_user.telegram_chat_id||"-"),1)):c("",!0)])]),e.need_load_users?(i(),d("div",G8,[E(Gs,{simple:!0,onSelect:e.selectBotUser},null,8,["onSelect"])])):c("",!0),t("div",Z8,[t("a",{href:"javascript:void(0)",class:"btn btn-link",onClick:n[2]||(n[2]=o=>e.need_schedule_time=!e.need_schedule_time)},[e.selected_schedule_time==null?(i(),d("span",J8,"Выберите время в расписании")):c("",!0),e.selected_schedule_time?(i(),d("span",eP," Запись на "+v(e.days[e.selected_schedule_time.day-1]||"-")+" с "+v(e.selected_schedule_time.start_time||"-")+" до "+v(e.selected_schedule_time.end_time||"-"),1)):c("",!0)])]),e.need_schedule_time?(i(),d("div",tP,[E(Ma,{"event-id":s.eventId,bot:s.bot,onSelect:e.selectScheduleTime},null,8,["event-id","bot","onSelect"])])):c("",!0),t("div",sP,[t("p",null," Рейтинг: "+v(e.reviewForm.rating||0),1),E(C(nn),{modelValue:e.reviewForm.rating,"onUpdate:modelValue":n[3]||(n[3]=o=>e.reviewForm.rating=o)},null,8,["modelValue"])]),t("div",nP,[t("label",oP,[E(a,null,{content:O(()=>[lP]),default:O(()=>[aP]),_:1}),w(" Текст отзыва "),iP,e.reviewForm.text?(i(),d("small",rP," Длина текста "+v(e.reviewForm.text.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст отзыва","aria-label":"Текст отзыва","onUpdate:modelValue":n[4]||(n[4]=o=>e.reviewForm.text=o),maxlength:"255","aria-describedby":"review-text",required:""},`
                    `,512),[[G,e.reviewForm.text]])])]),t("div",dP,[t("div",uP,[t("button",cP,[e.reviewForm.id==null?(i(),d("span",mP,"Оставить отзыв")):(i(),d("span",pP,"Обновить отзыв"))])])])],32)],64)}}}),fP={class:"row"},vP={class:"col-12"},bP={key:0,class:"table"},gP=t("th",{scope:"col"},"Действие",-1),yP=["onClick"],$P={scope:"row"},kP={class:"d-flex align-items-center"},wP={class:"ml-2"},CP={key:0,class:"dropdown"},FP=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),TP={class:"dropdown-menu"},DP={key:0},SP=["onClick"],PP={key:1},OP={class:"col-12"},MP={props:["bot","eventId"],components:{vue3starRatings:nn},data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,reviews:[],search:null,paginate_object:null}},computed:{...Ne(["getAppointmentReviews","getAppointmentReviewsPaginateObject"])},mounted(){this.loadAppointmentReviews()},methods:{nextAppointmentReviews(s){this.loadAppointmentReviews(s)},selectReview(s){this.$emit("select",s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadAppointmentReviews(0)},removeAppointmentReview(s){this.loading=!0,this.$store.dispatch("removeAppointmentReview",{dataObject:{appointmentReviewId:s}}).then(e=>{this.loadAppointmentReviews(0),this.$notify("Сервис успешно удален"),this.loading=!1}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления сервиса")})},loadAppointmentReviews(s=0){this.loading=!0,this.$store.dispatch("loadAppointmentReviews",{dataObject:{event_id:this.eventId,bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:100}).then(e=>{this.loading=!1,this.reviews=this.getAppointmentReviews,this.paginate_object=this.getAppointmentReviewsPaginateObject}).catch(()=>{this.loading=!1})}}},AP=Object.assign(MP,{__name:"AppointmentReviewsTable",setup(s){return(e,n)=>(i(),d("div",fP,[t("div",vP,[e.reviews.length>0?(i(),d("table",bP,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[0]||(n[0]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[1]||(n[1]=a=>e.loadAndOrder("bot_user_id"))},"Пользователь"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("rating"))},"Рейтинг"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[3]||(n[3]=a=>e.loadAndOrder("text"))},"Текст"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[4]||(n[4]=a=>e.loadAndOrder("updated_at"))},"Дата изменения"),gP])]),t("tbody",null,[(i(!0),d(R,null,J(e.reviews,(a,o)=>(i(),d("tr",{onClick:l=>e.selectReview(a),class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",$P,v(a.id),1),t("td",null,v(a.botUser.fio_from_telegram||a.botUser.telegram_chat_id||"Не указано"),1),t("td",null,[t("p",kP,[E(C(nn),{disableClick:!0,modelValue:a.rating,"onUpdate:modelValue":l=>a.rating=l},null,8,["modelValue","onUpdate:modelValue"]),t("span",wP,v(a.rating||0),1)])]),t("td",null,v(a.text||"Не указано"),1),t("td",null,v(e.$filters.current(a.updated_at)),1),t("td",null,[a.id?(i(),d("div",CP,[FP,t("ul",TP,[a.deleted_at==null?(i(),d("li",DP,[t("a",{class:"dropdown-item",onClick:l=>e.removeAppointmentReview(a.id),href:"javascript:void(0)"},"Удалить",8,SP)])):c("",!0)])])):c("",!0)])],10,yP))),256))])])):(i(),d("p",PP,"На текущий момент нет ни одного созданного отзыва"))]),t("div",OP,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextAppointmentReviews,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),jP={key:0,class:"py-2"},qP={class:"row"},zP={class:"col-12"},IP={key:1,class:"py-2"},RP={class:"row"},UP={class:"col-12"},VP={key:2,class:"py-2"},YP={class:"row"},BP={class:"col-12"},NP={class:"nav nav-tabs justify-content-center"},QP={key:0,class:"row py-3"},EP={class:"col-12"},xP={key:1,class:"row py-3"},LP={class:"col-12"},HP={class:"col-12 py-3"},WP=t("h4",null,"Доступные сервисы в событии",-1),KP={key:2,class:"row"},XP={class:"col-12"},GP={key:3,class:"row"},ZP={class:"col-12"},JP={class:"col-12 py-3"},eO=t("h4",null,"Актуальные записи на событие",-1),tO={key:4,class:"row"},sO={class:"col-12"},nO={class:"col-12 py-3"},oO=t("h4",null,"Отзывы к событию",-1),aO={props:["bot"],data(){return{part:0,tab:0,loadTable:!1,loadService:!1,loadReviewForm:!1,loadAppointments:!1,loadReviews:!1,loadAppointmentForm:!1,loadForm:!1,selectedEvent:null,selectedService:null,selectedAppointment:null,selectedReview:null}},computed:{...Ne(["getAppointmentEvents","getAppointmentEventsPaginateObject"])},mounted(){},methods:{callbackForm(){this.loadTable=!0,this.$nextTick(()=>{this.loadTable=!1})},callbackAppointment(){this.loadAppointments=!0,this.$nextTick(()=>{this.loadAppointments=!1})},callbackReview(){this.loadReviews=!0,this.$nextTick(()=>{this.loadReviews=!1})},createEvent(){this.part=2},selectAppointment(s){this.loadAppointmentForm=!0,this.selectedAppointment=s,this.$nextTick(()=>{this.loadAppointmentForm=!1})},selectService(s){this.loadService=!0,this.selectedService=s,this.$nextTick(()=>{this.loadService=!1})},selectReview(s){this.loadReviewForm=!0,this.selectedReview=s,this.$nextTick(()=>{this.loadReviewForm=!1})},selectEvent(s){this.loadForm=!0,this.$nextTick(()=>{this.loadForm=!1,this.selectedEvent=s,this.part=1,this.tab=0})}}},lO=Object.assign(aO,{__name:"Appointment",setup(s){return(e,n)=>(i(),d(R,null,[e.part===0?(i(),d("div",jP,[t("div",qP,[t("div",zP,[t("button",{type:"button",onClick:n[0]||(n[0]=(...a)=>e.createEvent&&e.createEvent(...a)),class:"btn btn-primary"}," Создать новое событие ")])]),e.loadTable?c("",!0):(i(),Q(dD,{key:0,onSelect:e.selectEvent,bot:s.bot},null,8,["onSelect","bot"]))])):c("",!0),e.part===2?(i(),d("div",IP,[t("div",RP,[t("div",UP,[t("button",{type:"button",onClick:n[1]||(n[1]=a=>e.part=0),class:"btn btn-outline-primary"}," Назад ")])]),e.loadForm?c("",!0):(i(),Q(Io,{key:0,onCallback:e.callbackForm,bot:s.bot},null,8,["onCallback","bot"]))])):c("",!0),e.part===1?(i(),d("div",VP,[t("div",YP,[t("div",BP,[t("button",{type:"button",onClick:n[2]||(n[2]=a=>e.part=0),class:"btn btn-outline-primary"}," Назад ")])]),t("ul",NP,[t("li",{class:"nav-item",onClick:n[3]||(n[3]=a=>e.tab=0)},[t("a",{class:P(["nav-link",{active:e.tab===0}]),"aria-current":"page",href:"javascript:void(0)"},"Информация о событии",2)]),t("li",{class:"nav-item",onClick:n[4]||(n[4]=a=>e.tab=1)},[t("a",{class:P(["nav-link",{active:e.tab===1}]),href:"javascript:void(0)"},"Сервисы в событии",2)]),t("li",{class:"nav-item",onClick:n[5]||(n[5]=a=>e.tab=2)},[t("a",{class:P(["nav-link",{active:e.tab===2}]),href:"javascript:void(0)"},"График",2)]),t("li",{class:"nav-item",onClick:n[6]||(n[6]=a=>e.tab=3)},[t("a",{class:P(["nav-link",{active:e.tab===3}]),href:"javascript:void(0)"},"Записи на событие",2)]),t("li",{class:"nav-item",onClick:n[7]||(n[7]=a=>e.tab=4)},[t("a",{class:P(["nav-link",{active:e.tab===4}]),href:"javascript:void(0)"},"Отзывы о событии",2)])]),e.tab===0?(i(),d("div",QP,[t("div",EP,[e.loadForm?c("",!0):(i(),Q(Io,{key:0,onCallback:e.callbackForm,event:e.selectedEvent,bot:s.bot},null,8,["onCallback","event","bot"]))])])):c("",!0),e.tab===1?(i(),d("div",xP,[t("div",LP,[e.loadService?c("",!0):(i(),Q(xT,{key:0,service:e.selectedService,"event-id":e.selectedEvent.id,bot:s.bot},null,8,["service","event-id","bot"]))]),t("div",HP,[WP,E(TD,{"event-id":e.selectedEvent.id,onSelect:e.selectService,bot:s.bot},null,8,["event-id","onSelect","bot"])])])):c("",!0),e.tab===2?(i(),d("div",KP,[t("div",XP,[E(I8,{"event-id":e.selectedEvent.id,bot:s.bot},null,8,["event-id","bot"])])])):c("",!0),e.tab===3?(i(),d("div",GP,[t("div",ZP,[e.loadAppointmentForm?c("",!0):(i(),Q(S6,{key:0,bot:s.bot,onCallback:e.callbackAppointment,"event-id":e.selectedEvent.id,appointment:e.selectedAppointment},null,8,["bot","onCallback","event-id","appointment"]))]),t("div",JP,[eO,e.loadAppointments?c("",!0):(i(),Q(E6,{key:0,"event-id":e.selectedEvent.id,onSelect:e.selectAppointment,bot:s.bot},null,8,["event-id","onSelect","bot"]))])])):c("",!0),e.tab===4?(i(),d("div",tO,[t("div",sO,[e.loadReviewForm?c("",!0):(i(),Q(_P,{key:0,review:e.selectedReview,bot:s.bot,onCallback:n[8]||(n[8]=a=>e.callbackReview()),"event-id":e.selectedEvent.id},null,8,["review","bot","event-id"]))]),t("div",nO,[oO,e.loadReviews?c("",!0):(i(),Q(AP,{key:0,bot:s.bot,onSelect:e.selectReview,"event-id":e.selectedEvent.id},null,8,["bot","onSelect","event-id"]))])])):c("",!0)])):c("",!0)],64))}}),iO={props:["param"],data(){return{htmlInjections:[{title:"Кнопка синяя",value:"<a href='http://test.com/test' class='w-100 btn btn-primary'>Текст кнопки</a>"},{title:"Кнопка без цвета",value:"<a href='http://test.com/test' class='w-100 btn btn-link'>Текст кнопки</a>"},{title:"Кнопка с синей обводкой",value:"<a href='http://test.com/test' class='w-100 btn btn-outline-primary'>Текст кнопки</a>"}]}},mounted(){},methods:{attachTo(s){this.$emit("callback",{param:this.param||null,value:s})}}},rO={class:"dropdown"},dO=t("button",{class:"btn btn-link dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Кнопки ",-1),uO={class:"dropdown-menu"},cO=["onClick"],mO={class:"dropdown-item",href:"javascript:void(0)"};function pO(s,e,n,a,o,l){return i(),d("div",rO,[dO,t("ul",uO,[(i(!0),d(R,null,J(o.htmlInjections,r=>(i(),d("li",{onClick:u=>l.attachTo(r.value)},[t("a",mO,v(r.title||"Не указано"),1)],8,cO))),256))])])}const Xs=Rt(iO,[["render",pO]]),hO={class:"row"},_O={class:"col-12 mb-3"},fO={class:"form-label",id:"quiz-title"},vO=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),bO=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),gO={class:"col-12 mb-3"},yO={class:"form-check"},$O=t("label",{class:"form-check-label",for:"need_media"}," Нужен медиа-контент ",-1),kO={key:0,class:"col-12 mb-3"},wO={class:"form-label",id:"quiz-images"},CO=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),FO=t("div",null," Изображение, которое видит пользователь при выборе квиза ",-1),TO=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),DO={class:"col-12 mb-3"},SO={class:"form-label",id:"quiz-description"},PO=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),OO=t("div",null," Краткая информация о квизе ",-1),MO=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),AO={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},jO={class:"col-12 mb-3"},qO={class:"form-check"},zO=t("label",{class:"form-check-label",for:"polling_mode"}," Квиз в режиме опроса (без команд и таймеров) ",-1),IO={key:1,class:"col-12 mb-3"},RO={class:"form-label",id:"quiz-time_limit"},UO=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),VO=t("div",null," Время на ответ ",-1),YO=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),BO={class:"col-12 mb-3"},NO={class:"form-check"},QO=t("label",{class:"form-check-label",for:"is-group"}," Показывать ответы по окончанию раунда ",-1),EO={class:"col-12 mb-3"},xO={class:"form-check"},LO=t("label",{class:"form-check-label",for:"is_active"}," Квиз виден пользователям ",-1),HO={key:2,class:"col-12 mb-3"},WO={class:"form-check"},KO=t("label",{class:"form-check-label",for:"round_mode"}," Использовать систему раундов ",-1),XO={class:"col-12 mb-3"},GO={class:"form-label",id:"quiz-time_limit"},ZO=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),JO=t("div",null," Число попыток прохождения квиза ",-1),eM=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),tM={class:"col-12 mb-3"},sM={class:"form-label",id:"quiz-time_limit"},nM=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),oM=t("div",null," Сколько % нужно ответить чтоб пройти ",-1),aM=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),lM={class:"row"},iM={class:"col-12 py-2"},rM={class:"col-12 mb-3"},dM={class:"row"},uM={class:"col-10"},cM={class:"d-flex justify-content-between"},mM={class:"form-label",id:"quiz-success_message"},pM=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),hM=t("div",null," Текст в случае успешного прохождения квиза ",-1),_M=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),fM={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},vM=["onUpdate:modelValue"],bM={class:"col-2 d-flex align-items-center justify-content-center"},gM=["disabled","onClick"],yM={class:"row"},$M={class:"col-12 mb-2"},kM={class:"form-check"},wM=t("label",{class:"form-check-label",for:"need_inline_menu_on_success"}," Меню под текстом страницы при выигрыше ",-1),CM={key:0,class:"col-12 mb-2"},FM={class:"card"},TM={class:"card-header d-flex justify-between align-items-center"},DM=t("h6",null,"Конструктор меню в сообщении",-1),SM={key:0},PM={key:1},OM={class:"card-body"},MM={class:"row"},AM={class:"col-12 py-2"},jM={class:"col-12 mb-3"},qM={class:"row"},zM={class:"col-10"},IM={class:"d-flex justify-content-between"},RM=["id"],UM=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),VM=t("div",null," Текст в случае неудачного прохождения квиза ",-1),YM=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),BM={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},NM=["onUpdate:modelValue"],QM={class:"col-2 d-flex align-items-center justify-content-center"},EM=["disabled","onClick"],xM={class:"row"},LM={class:"col-12 mb-2"},HM={class:"form-check"},WM=t("label",{class:"form-check-label",for:"need_template_selector_on_failure"}," Меню под текстом страницы при проигрыше ",-1),KM={key:0,class:"col-12 mb-2"},XM={class:"card"},GM={class:"card-header d-flex justify-between align-items-center"},ZM=t("h6",null,"Конструктор меню в сообщении",-1),JM={key:0},eA={key:1},tA={class:"card-body"},sA={class:"row"},nA={class:"col-12 mb-3"},oA={class:"form-floating"},aA=["value","selected"],lA=t("label",{for:"quiz-display-type"},"Тип вывода вопросов",-1),iA={class:"row"},rA={class:"col-12"},dA={type:"submit",class:"btn btn-outline-success w-100 p-3"},uA={key:0},cA={key:1},mA={props:["quiz","bot"],data(){return{step:0,load:!1,need_reset:!1,need_services:!1,need_media:!1,need_inline_menu_on_success:!1,need_template_selector_on_success:!1,need_template_selector_on_failure:!1,need_inline_menu_on_failure:!1,types:["По порядку","Перемешать всё","Перемешать ответы","Перемешать вопросы"],quizForm:{id:null,title:null,image:null,description:null,completed_at:null,start_at:null,end_at:null,display_type:0,time_limit:30,show_answers:!1,polling_mode:!1,round_mode:!0,is_active:!1,try_count:1,success_percent:50,success_message:["Задание успешно пройдено!"],failure_message:["К сожалению вы не прошли задание!"],success_inline_keyboard_id:null,success_inline_keyboard:null,failure_inline_keyboard_id:null,failure_inline_keyboard:null}}},watch:{quizForm:{handler(s){this.need_reset=!0},deep:!0},"quizForm.polling_mode":{handler(s){this.quizForm.round_mode=!1},deep:!0}},mounted(){this.quiz&&this.$nextTick(()=>{this.quizForm={id:this.quiz.id||null,title:this.quiz.title||null,image:this.quiz.image||null,description:this.quiz.description||null,completed_at:this.quiz.completed_at?this.$filters.currentFull(this.quiz.completed_at):null,start_at:this.quiz.start_at?this.$filters.currentFull(this.quiz.start_at):null,end_at:this.quiz.end_at?this.$filters.currentFull(this.quiz.end_at):null,display_type:this.quiz.display_type||0,time_limit:this.quiz.time_limit||30,show_answers:this.quiz.show_answers||!1,polling_mode:this.quiz.polling_mode||!1,round_mode:this.quiz.round_mode||!1,is_active:this.quiz.is_active||!1,try_count:this.quiz.try_count||1,success_inline_keyboard_id:this.quiz.success_inline_keyboard_id||null,success_inline_keyboard:this.quiz.success_inline_keyboard||null,failure_inline_keyboard_id:this.quiz.failure_inline_keyboard_id||null,failure_inline_keyboard:this.quiz.failure_inline_keyboard||null,success_percent:this.quiz.success_percent||50,success_message:this.quiz.success_message||["Задание успешно пройдено!"],failure_message:this.quiz.failure_message||["К сожалению вы не прошли задание!"]},this.quizForm.success_inline_keyboard&&(this.need_inline_menu_on_success=!0),this.quizForm.failure_inline_keyboard&&(this.need_inline_menu_on_failure=!0)})},methods:{saveInlineKeyboardOnSuccess(s){this.quizForm.success_inline_keyboard=s},saveInlineKeyboardOnFailure(s){this.quizForm.failure_inline_keyboard=s},selectInlineKeyboardOnSuccess(s){this.quizForm.success_inline_keyboard=s,this.need_template_selector_on_success=!1},selectInlineKeyboardOnFailure(s){this.quizForm.failure_inline_keyboard=s,this.need_template_selector_on_failure=!1},attachTo(s,e){this.quizForm[s.param][e]==null?this.quizForm[s.param][e]=s.value:this.quizForm[s.param][e]+=s.value},selectPhoto(s){this.quizForm.image=s.file_id},removeMessage(s,e){this.quizForm[s||"success_message"].splice(e,1)},addMessage(s,e){this.quizForm[s||"success_message"].push(e)},submitForm(){let s=new FormData;Object.keys(this.quizForm).forEach(e=>{const n=this.quizForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch("storeQuiz",{quizForm:s}).then(e=>{this.quizForm={id:null,title:null,image:null,description:null,completed_at:null,start_at:null,end_at:null,display_type:0,time_limit:30,show_answers:!1,polling_mode:!1,round_mode:!1,is_active:!1,try_count:1,success_percent:50,success_inline_keyboard_id:null,success_inline_keyboard:null,failure_inline_keyboard_id:null,failure_inline_keyboard:null,success_message:["Задание успешно пройдено!"],failure_message:["К сожалению вы не прошли задание!"]},this.$emit("callback",e.data),this.$notify("Событие успешно создано")}).catch(e=>{this.$notify("Ошибка создания события")})}}},Uo=Object.assign(mA,{__name:"QuizForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d("form",{onSubmit:n[17]||(n[17]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"])),class:"py-3"},[t("div",hO,[t("div",_O,[t("label",fO,[E(a,{content:"Название вашего квиза"},{default:O(()=>[vO]),_:1}),w(" Название квиза "),bO]),b(t("input",{type:"text",class:"form-control",placeholder:"Название","aria-label":"Название","onUpdate:modelValue":n[0]||(n[0]=o=>e.quizForm.title=o),maxlength:"255","aria-describedby":"quiz-title",required:""},null,512),[[G,e.quizForm.title]])]),t("div",gO,[t("div",yO,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[1]||(n[1]=o=>e.need_media=o),type:"checkbox",id:"need_media"},null,512),[[ke,e.need_media]]),$O])]),e.need_media?(i(),d("div",kO,[t("label",wO,[E(a,null,{content:O(()=>[FO]),default:O(()=>[CO]),_:1}),w(" Изображение к квизу "),TO]),E(kt,{"need-photo":!0,selected:e.quizForm.image,onSelect:e.selectPhoto},null,8,["selected","onSelect"])])):c("",!0),t("div",DO,[t("label",SO,[E(a,null,{content:O(()=>[OO]),default:O(()=>[PO]),_:1}),w(" Описание события "),MO,e.quizForm.description?(i(),d("small",AO," Длина текста "+v(e.quizForm.description.length)+"/255",1)):c("",!0)]),b(t("textarea",{class:"form-control",placeholder:"Описание мероприятия","aria-label":"Описание мероприятия",maxlength:"255","onUpdate:modelValue":n[2]||(n[2]=o=>e.quizForm.description=o),"aria-describedby":"quiz-description",required:""},`
                    `,512),[[G,e.quizForm.description]])]),t("div",jO,[t("div",qO,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[3]||(n[3]=o=>e.quizForm.polling_mode=o),type:"checkbox",id:"polling_mode"},null,512),[[ke,e.quizForm.polling_mode]]),zO])]),e.quizForm.polling_mode?c("",!0):(i(),d("div",IO,[t("label",RO,[E(a,null,{content:O(()=>[VO]),default:O(()=>[UO]),_:1}),w(" Лимит времени на ответ в секундах "),YO]),b(t("input",{type:"number",class:"form-control",placeholder:"Лимит времени на ответ","aria-label":"Лимит времени на ответ",step:"0.1",min:"0","onUpdate:modelValue":n[4]||(n[4]=o=>e.quizForm.time_limit=o),"aria-describedby":"quiz-time_limit",required:""},null,512),[[G,e.quizForm.time_limit]])])),t("div",BO,[t("div",NO,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[5]||(n[5]=o=>e.quizForm.show_answers=o),type:"checkbox",id:"is-group"},null,512),[[ke,e.quizForm.show_answers]]),QO])]),t("div",EO,[t("div",xO,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[6]||(n[6]=o=>e.quizForm.is_active=o),type:"checkbox",id:"is_active"},null,512),[[ke,e.quizForm.is_active]]),LO])]),e.quizForm.polling_mode?c("",!0):(i(),d("div",HO,[t("div",WO,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[7]||(n[7]=o=>e.quizForm.round_mode=o),type:"checkbox",id:"round_mode"},null,512),[[ke,e.quizForm.round_mode]]),KO])])),t("div",XO,[t("label",GO,[E(a,null,{content:O(()=>[JO]),default:O(()=>[ZO]),_:1}),w(" Количество попыток "),eM]),b(t("input",{type:"number",class:"form-control",placeholder:"Число попыток","aria-label":"Число попыток",step:"1",min:"1","onUpdate:modelValue":n[8]||(n[8]=o=>e.quizForm.try_count=o),"aria-describedby":"quiz-try_count",required:""},null,512),[[G,e.quizForm.try_count]])]),t("div",tM,[t("label",sM,[E(a,null,{content:O(()=>[oM]),default:O(()=>[nM]),_:1}),w(" % для прохождения "),aM]),b(t("input",{type:"number",class:"form-control",placeholder:"Процент для победы","aria-label":"Процент для победы",step:"1",min:"0","onUpdate:modelValue":n[9]||(n[9]=o=>e.quizForm.success_percent=o),"aria-describedby":"quiz-success_percent",required:""},null,512),[[G,e.quizForm.success_percent]])])]),t("div",lM,[t("div",iM,[t("button",{class:"btn btn-outline-info rounded-5",type:"button",onClick:n[10]||(n[10]=o=>e.addMessage("success_message",null))},"Добавить еще вариант текста ")]),(i(!0),d(R,null,J(e.quizForm.success_message,(o,l)=>(i(),d("div",rM,[t("div",dM,[t("div",uM,[t("div",cM,[t("label",mM,[E(a,null,{content:O(()=>[hM]),default:O(()=>[pM]),_:1}),w(" Текст при победе "),_M,e.quizForm.success_message[l]?(i(),d("small",fM," Длина текста "+v(e.quizForm.success_message[l].length)+"/255",1)):c("",!0)]),E(Xs,{param:"success_message",onCallback:r=>e.attachTo(r,l)},null,8,["onCallback"])]),b(t("textarea",{class:"form-control",placeholder:"Текст при победе","aria-label":"Текст при победе",maxlength:"255","onUpdate:modelValue":r=>e.quizForm.success_message[l]=r,"aria-describedby":"quiz-success_message",required:""},`
                    `,8,vM),[[G,e.quizForm.success_message[l]]])]),t("div",bM,[t("button",{class:"btn btn-outline-danger",disabled:e.quizForm.success_message.length<=1,onClick:r=>e.removeMessage("success_message",l)},"Удалить ",8,gM)])])]))),256))]),t("div",yM,[t("div",$M,[t("div",kM,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[11]||(n[11]=o=>e.need_inline_menu_on_success=o),type:"checkbox",id:"need_inline_menu_on_success"},null,512),[[ke,e.need_inline_menu_on_success]]),wM])]),e.need_inline_menu_on_success?(i(),d("div",CM,[t("div",FM,[t("div",TM,[DM,t("button",{class:P(["btn",{"btn-outline-primary":!e.need_template_selector_on_success,"btn-primary":e.need_template_selector_on_success}]),type:"button",onClick:n[12]||(n[12]=o=>e.need_template_selector_on_success=!e.need_template_selector_on_success)},[e.need_template_selector_on_success?(i(),d("span",PM," Скрыть шаблоны меню")):(i(),d("span",SM," Открыть шаблоны меню"))],2)]),t("div",OM,[e.need_template_selector_on_success?(i(),Q(cs,{key:0,class:"mb-2",type:"inline",onSelect:e.selectInlineKeyboardOnSuccess,"select-mode":!0},null,8,["onSelect"])):(i(),Q(Jt,{key:1,type:"inline",onSave:e.saveInlineKeyboardOnSuccess,"edited-keyboard":e.quizForm.success_inline_keyboard},null,8,["onSave","edited-keyboard"]))])])])):c("",!0)]),t("div",MM,[t("div",AM,[t("button",{class:"btn btn-outline-info rounded-5",type:"button",onClick:n[13]||(n[13]=o=>e.addMessage("failure_message",null))},"Добавить еще вариант текста ")]),(i(!0),d(R,null,J(e.quizForm.failure_message,(o,l)=>(i(),d("div",jM,[t("div",qM,[t("div",zM,[t("div",IM,[t("label",{class:"form-label",id:"quiz-failure_message"+l},[E(a,null,{content:O(()=>[VM]),default:O(()=>[UM]),_:1}),w(" Текст при проигрыше "),YM,e.quizForm.failure_message[l]?(i(),d("small",BM," Длина текста "+v(e.quizForm.failure_message[l].length)+"/255",1)):c("",!0)],8,RM),E(Xs,{param:"failure_message",onCallback:r=>e.attachTo(r,l)},null,8,["onCallback"])]),b(t("textarea",{class:"form-control",placeholder:"Текст при проигрыше","aria-label":"Текст при проигрыше",maxlength:"255","onUpdate:modelValue":r=>e.quizForm.failure_message[l]=r,"aria-describedby":"quiz-success_message",required:""},`
                    `,8,NM),[[G,e.quizForm.failure_message[l]]])]),t("div",QM,[t("button",{class:"btn btn-outline-danger",disabled:e.quizForm.failure_message.length<=1,onClick:r=>e.removeMessage("failure_message",l)},"Удалить ",8,EM)])])]))),256))]),t("div",xM,[t("div",LM,[t("div",HM,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[14]||(n[14]=o=>e.need_inline_menu_on_failure=o),type:"checkbox",id:"need_template_selector_on_failure"},null,512),[[ke,e.need_inline_menu_on_failure]]),WM])]),e.need_inline_menu_on_failure?(i(),d("div",KM,[t("div",XM,[t("div",GM,[ZM,t("button",{class:P(["btn",{"btn-outline-primary":!e.need_template_selector_on_failure,"btn-primary":e.need_template_selector_on_failure}]),type:"button",onClick:n[15]||(n[15]=o=>e.need_template_selector_on_failure=!e.need_template_selector_on_failure)},[e.need_template_selector_on_failure?(i(),d("span",eA," Скрыть шаблоны меню")):(i(),d("span",JM," Открыть шаблоны меню"))],2)]),t("div",tA,[e.need_template_selector_on_failure?(i(),Q(cs,{key:0,class:"mb-2",type:"inline",onSelect:e.selectInlineKeyboardOnFailure,"select-mode":!0},null,8,["onSelect"])):(i(),Q(Jt,{key:1,type:"inline",onSave:e.saveInlineKeyboardOnFailure,"edited-keyboard":e.quizForm.failure_inline_keyboard},null,8,["onSave","edited-keyboard"]))])])])):c("",!0)]),t("div",sA,[t("div",nA,[t("div",oA,[b(t("select",{class:"form-select","onUpdate:modelValue":n[16]||(n[16]=o=>e.quizForm.display_type=o),id:"quiz-display-type","aria-label":"quiz-display-type"},[(i(!0),d(R,null,J(e.types,(o,l)=>(i(),d("option",{value:l,selected:l==e.quizForm.display_type},v(o),9,aA))),256))],512),[[es,e.quizForm.display_type]]),lA])])]),t("div",iA,[t("div",rA,[t("button",dA,[e.quizForm.id==null?(i(),d("span",uA,"Создать квиз")):(i(),d("span",cA,"Обновить квиз"))])])])],32)}}}),pA={class:"row py-2"},hA={class:"col-12"},_A={class:"input-group mb-3"},fA={class:"col-12"},vA={key:0,class:"table"},bA=t("th",{scope:"col"},"Число вопросов",-1),gA=t("th",{scope:"col"},"Число команд",-1),yA=t("th",{scope:"col"},"Действие",-1),$A={scope:"row"},kA=["onClick"],wA={key:0,style:{width:"50px",height:"50px"},alt:""},CA={key:1},FA={key:0,class:"mb-0"},TA={key:1},DA={key:0,class:"mb-0"},SA={key:1},PA={key:0,class:"mb-0"},OA={key:1},MA={key:0,class:"fa-solid fa-chevron-down text-success"},AA={key:1,class:"fa-solid fa-xmark text-danger"},jA={key:0,class:"fa-solid fa-chevron-down text-success"},qA={key:1,class:"fa-solid fa-xmark text-danger"},zA={key:0,class:"dropdown"},IA=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),RA={class:"dropdown-menu"},UA={key:0},VA=["onClick"],YA={key:1},BA=t("div",{class:"alert alert-warning alert-dismissible fade show",role:"alert"},[t("strong",null,"Внимание!"),w(" Вы еще не добавили ни одного квиза! "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})],-1),NA={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},QA={class:"d-flex justify-content-center mb-3"},EA={alt:"",width:"100",height:"100"},xA=t("h1",{class:"text-body-emphasis"},"Создание Квиза",-1),LA=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Квиз - это игра. Создавайте игры и делитесь с клиентами ссылкой на игру. Формируйте команды, начисляйте баллы, меняйте баллы на вкусные призы. Всё в ваших руках. ",-1),HA={class:"d-inline-flex gap-2 mb-5"},WA=t("a",{href:"https://telegra.ph/Sozdanie-Kviza-01-13",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),KA={key:0,class:"col-12"},XA={props:["bot"],data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,quizzes:[],search:null,paginate_object:null}},computed:{...Ne(["getQuizzes","getQuizzesPaginateObject"])},mounted(){this.loadQuizzes()},methods:{removeQuiz(s){this.loading=!0,this.$store.dispatch("removeQuiz",{quizId:s}).then(e=>{this.loading=!1,this.loadQuizzes(0),this.$notify("Событие успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления события")})},createQuiz(){this.$emit("create")},nextQuizzes(s){this.loadQuizzes(s)},selectEvent(s){this.$emit("select",s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizzes(0)},loadQuizzes(s=0){this.loading=!0,this.$store.dispatch("loadQuizzes",{dataObject:{bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:20}).then(e=>{this.loading=!1,this.quizzes=this.getQuizzes,this.paginate_object=this.getQuizzesPaginateObject}).catch(()=>{this.loading=!1})}}},GA=Object.assign(XA,{__name:"QuizTable",setup(s){return(e,n)=>{const a=ns("lazy");return i(),d("div",pA,[t("div",hA,[t("div",_A,[b(t("input",{type:"search",class:"form-control",placeholder:"Поиск квиза","aria-label":"Поиск квиза","onUpdate:modelValue":n[0]||(n[0]=o=>e.search=o),"aria-describedby":"quiz-search-quiz"},null,512),[[G,e.search]]),t("button",{class:"btn btn-outline-secondary",onClick:n[1]||(n[1]=o=>e.loadQuizzes(0)),type:"button",id:"quiz-search-quiz"},"Найти ")])]),t("div",fA,[e.quizzes.length>0?(i(),d("table",vA,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=o=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[3]||(n[3]=o=>e.loadAndOrder("title"))},"Название"),bA,gA,t("th",{scope:"col",class:"cursor-pointer",onClick:n[4]||(n[4]=o=>e.loadAndOrder("image"))},"Изображение к квизу"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[5]||(n[5]=o=>e.loadAndOrder("description"))},"Описание"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[6]||(n[6]=o=>e.loadAndOrder("completed_at"))},"Квиз пройден"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[7]||(n[7]=o=>e.loadAndOrder("start_at"))},"Дата и время начала"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[8]||(n[8]=o=>e.loadAndOrder("end_at"))},"Дата и время завершения"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[9]||(n[9]=o=>e.loadAndOrder("display_type"))},"Тип отображения"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[10]||(n[10]=o=>e.loadAndOrder("show_answers"))},"Показывать ответы по окончанию раунда "),t("th",{scope:"col",class:"cursor-pointer",onClick:n[11]||(n[11]=o=>e.loadAndOrder("is_active"))},"Активный "),t("th",{scope:"col",class:"cursor-pointer",onClick:n[12]||(n[12]=o=>e.loadAndOrder("updated_at"))},"Дата изменения"),yA])]),t("tbody",null,[(i(!0),d(R,null,J(e.quizzes,(o,l)=>(i(),d("tr",{class:P({"border-info":o.deleted_at==null,"border-danger":o.deleted_at!=null})},[t("th",$A,v(o.id),1),t("td",{onClick:r=>e.selectEvent(o)},v(o.title||"Не указано"),9,kA),t("td",null,v((o.questions||[]).length),1),t("td",null,v((o.commands||[]).length),1),t("td",null,[o.image!=null?b((i(),d("img",wA,null,512)),[[a,"/file-by-file-id/"+o.image]]):(i(),d("p",CA,"не указано"))]),t("td",null,v(o.description||"Не указано"),1),t("td",null,[o.completed_at?(i(),d("p",FA,v(e.$filters.currentFull(o.completed_at)),1)):(i(),d("p",TA,"Не задано"))]),t("td",null,[o.start_at?(i(),d("p",DA,v(e.$filters.currentFull(o.start_at)),1)):(i(),d("p",SA,"Не задано"))]),t("td",null,[o.end_at?(i(),d("p",PA,v(e.$filters.currentFull(o.end_at)),1)):(i(),d("p",OA,"Не задано"))]),t("td",null,v(o.display_type),1),t("td",null,v(o.time_limit),1),t("td",null,[o.show_answers?(i(),d("i",MA)):(i(),d("i",AA))]),t("td",null,[o.is_active?(i(),d("i",jA)):(i(),d("i",qA))]),t("td",null,v(e.$filters.current(o.updated_at)),1),t("td",null,[o.id?(i(),d("div",zA,[IA,t("ul",RA,[o.deleted_at==null?(i(),d("li",UA,[t("a",{class:"dropdown-item",onClick:r=>e.removeQuiz(o.id),href:"javascript:void(0)"},"Удалить",8,VA)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("div",YA,[BA,t("div",NA,[t("div",QA,[b(t("img",EA,null,512),[[a,"../images/icon.png"]])]),xA,LA,t("div",HA,[t("button",{onClick:n[13]||(n[13]=(...o)=>e.createQuiz&&e.createQuiz(...o)),class:"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill btn-primary",type:"button"}," Добавить "),WA])])]))]),e.quizzes.length>0?(i(),d("div",KA,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextQuizzes,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])):c("",!0)])}}}),ZA={props:{type:String,value:String}},JA={class:"d-flex mb-2"},e7={class:"form-floating mb-3"},t7=["value"],s7=t("label",{for:"custom-url-link-for-success"},"Ссылка на файл",-1);function n7(s,e,n,a,o,l){return i(),d(R,null,[t("div",JA,[t("span",{class:P(["badge bg-secondary cursor-pointer mr-1",{"bg-success":n.type=="video"}]),onClick:e[0]||(e[0]=r=>s.$emit("update:type","video"))},"Видео",2),t("span",{class:P(["badge bg-secondary cursor-pointer mr-1",{"bg-success":n.type=="video_note"}]),onClick:e[1]||(e[1]=r=>s.$emit("update:type","video_note"))},"Кружок",2),t("span",{class:P(["badge bg-secondary cursor-pointer mr-1",{"bg-success":n.type=="photo"}]),onClick:e[2]||(e[2]=r=>s.$emit("update:type","photo"))},"Изображение",2),t("span",{class:P(["badge bg-secondary cursor-pointer mr-1",{"bg-success":n.type=="audio"}]),onClick:e[3]||(e[3]=r=>s.$emit("update:type","audio"))},"Звук",2)]),t("div",e7,[t("input",{type:"text",class:"form-control",value:n.value,onInput:e[4]||(e[4]=r=>s.$emit("update:value",r.target.value)),id:"custom-url-link-for-success",placeholder:"https://...."},null,40,t7),s7])],64)}const Cn=Rt(ZA,[["render",n7]]),o7={class:"row py-3"},a7={class:"col-12"},l7={class:"row"},i7={class:"col-12 mb-3"},r7={key:0},d7=["onClick"],u7={class:"form-label",id:"quiz-round"},c7=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),m7=t("div",null," Раунд, в котором будет отображен вопрос ",-1),p7=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),h7={class:"col-12 mb-3"},_7={class:"form-label",id:"event-on_after_appointment"},f7=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),v7=t("div",null," Текст вопроса ",-1),b7=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),g7={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},y7={class:"col-12 mb-3"},$7={class:"form-check"},k7=t("label",{class:"form-check-label",for:"need_media"}," Нужен медиа-контент ",-1),w7={key:0,class:"col-12 mb-3"},C7={class:"form-label",id:"quiz-images"},F7=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),T7=t("div",null," Изображение, видео, аудио сопровождение вопроса ",-1),D7={key:0,class:"badge rounded-pill text-bg-info m-0"},S7=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),P7=t("h6",null,"Вставьте ссылку на контент...",-1),O7=t("h6",null,"...или выберите из доступных",-1),M7={class:"col-12 mb-3"},A7={class:"form-check"},j7=t("label",{class:"form-check-label",for:"is_multiply"}," Множественные ответы ",-1),q7={class:"col-12 mb-3"},z7={class:"form-check"},I7=t("label",{class:"form-check-label",for:"is_open"}," Открытый вопрос ",-1),R7={class:"col-12 mb-3"},U7={class:"d-flex justify-content-between"},V7={class:"form-label",id:"quiz-description"},Y7=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),B7=t("div",null," Текст при выборе правильного ответа ",-1),N7=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Q7={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},E7={class:"col-12 mb-3"},x7={class:"form-check"},L7=t("label",{class:"form-check-label",for:"need_media_for_success"}," Нужен медиа-контент при правильном ответе ",-1),H7={key:1,class:"col-12 mb-3"},W7=t("h6",null,"Вставьте ссылку на контент...",-1),K7=t("h6",null,"...или выберите из доступных",-1),X7={class:"col-12 mb-3"},G7={class:"d-flex justify-content-between"},Z7={class:"form-label",id:"quiz-description"},J7=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),ej=t("div",null," Текст в выбора неправильного ответа ",-1),tj=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),sj={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},nj={class:"col-12 mb-3"},oj={class:"form-check"},aj=t("label",{class:"form-check-label",for:"need_media_for_failed"}," Нужен медиа-контент при неправильном ответе ",-1),lj={key:2,class:"col-12 mb-3"},ij=t("h6",null,"Вставьте ссылку на контент...",-1),rj=t("h6",null,"...или выберите из доступных",-1),dj={class:"row"},uj={class:"col-12"},cj={class:"col-12"},mj={key:0,class:"table"},pj=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Текст вопроса"),t("th",{scope:"col"},"Баллы"),t("th",{scope:"col"},"Контент"),t("th",{scope:"col"},"Тип контента"),t("th",{scope:"col"},"Является верным"),t("th",{scope:"col"},"Действие")])],-1),hj={scope:"row"},_j={class:"form-floating mb-3"},fj=["onUpdate:modelValue","id"],vj=["for"],bj={class:"form-floating mb-3"},gj=["onUpdate:modelValue","id"],yj=["for"],$j=["onClick"],kj={class:"form-check"},wj=["onUpdate:modelValue","id"],Cj=["for"],Fj={class:"dropdown"},Tj=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),Dj={class:"dropdown-menu"},Sj={key:0},Pj=["onClick"],Oj={key:1},Mj=["onClick"],Aj={key:1},jj={class:"row"},qj={class:"col-12"},zj={type:"submit",class:"btn btn-outline-success w-100 p-3"},Ij={key:0},Rj={key:1},Uj={class:"modal fade",id:"chooseMediaContent",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Vj={class:"modal-dialog"},Yj={class:"modal-content"},Bj={key:0,class:"modal-body"},Nj=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Qj={class:"modal fade",id:"chooseSuccessMediaContent",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ej={class:"modal-dialog"},xj={class:"modal-content"},Lj={class:"modal-body"},Hj=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Wj={class:"modal fade",id:"chooseFailureMediaContent",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Kj={class:"modal-dialog"},Xj={class:"modal-content"},Gj={class:"modal-body"},Zj=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Jj={class:"modal fade",id:"chooseBaseMediaContent",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},eq={class:"modal-dialog"},tq={class:"modal-content"},sq={class:"modal-body"},nq=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),oq={props:["quizId","bot","question"],data(){return{step:0,load:!1,selectedQuestionIndex:null,need_media:!1,need_media_for_success:!1,need_media_for_failed:!1,rounds:[],questionForm:{id:null,text:null,round:null,media_content:null,content_type:null,is_multiply:!1,is_open:!1,answers:[],success_message:null,failure_message:null,success_media_content:null,failure_media_content:null,success_media_content_type:null,failure_media_content_type:null}}},watch:{questionForm:{handler(s){this.need_reset=!0},deep:!0},need_media:function(s,e){this.need_page_images||(this.questionForm.media_content=null,this.questionForm.content_type=null)},need_media_for_success:function(s,e){this.need_page_images||(this.questionForm.success_media_content=null,this.questionForm.success_media_content_type=null)},need_media_for_failed:function(s,e){this.need_page_images||(this.questionForm.failure_media_content=null,this.questionForm.failure_media_content_type=null)}},mounted(){this.loadQuizRounds(),this.question&&(this.question.media_content!=null&&(this.need_media=!0),this.question.success_media_content!=null&&(this.need_media_for_success=!0),this.question.failure_media_content!=null&&(this.need_media_for_failed=!0),this.$nextTick(()=>{this.questionForm={id:this.question.id||null,text:this.question.text||null,round:this.question.round||null,media_content:this.question.media_content||null,content_type:this.question.content_type||null,is_multiply:this.question.is_multiply||!1,is_open:this.question.is_open||!1,answers:this.question.answers||[],success_message:this.question.success_message||null,failure_message:this.question.failure_message||null,success_media_content:this.question.success_media_content||null,failure_media_content:this.question.failure_media_content||null,success_media_content_type:this.question.success_media_content_type||null,failure_media_content_type:this.question.failure_media_content_type||null}}))},methods:{attachTo(s){this.questionForm[s.param]==null?this.questionForm[s.param]=s.value:this.questionForm[s.param]+=s.value},loadQuizRounds(){this.$store.dispatch("loadQuizRounds",{dataObject:{bot_id:this.bot.id||null,quiz_id:this.quizId||null}}).then(s=>{this.rounds=s})},chooseBaseMediaContent(s){new bootstrap.Modal(document.getElementById("chooseBaseMediaContent"),{}).show()},chooseSuccessMediaContent(s){new bootstrap.Modal(document.getElementById("chooseSuccessMediaContent"),{}).show()},chooseFailureMediaContent(s){new bootstrap.Modal(document.getElementById("chooseFailureMediaContent"),{}).show()},chooseMediaContent(s){this.selectedQuestionIndex=null,this.$nextTick(()=>{this.selectedQuestionIndex=s}),new bootstrap.Modal(document.getElementById("chooseMediaContent"),{}).show()},selectMediaForFailure(s){this.questionForm.failure_media_content=s.file_id,this.questionForm.failure_media_content_type=s.type},selectMediaForSuccess(s){this.questionForm.success_media_content=s.file_id,this.questionForm.success_media_content_type=s.type},selectMediaForAnswer(s){this.questionForm.answers[this.selectedQuestionIndex].media_content=s.file_id,this.questionForm.answers[this.selectedQuestionIndex].content_type=s.type},selectMedia(s){this.questionForm.media_content=s.file_id,this.questionForm.content_type=s.type},clearQuestionForm(){this.questionForm={id:null,text:null,round:null,media_content:null,content_type:null,is_multiply:!1,is_open:!1,answers:[],success_message:null,failure_message:null,success_media_content:null,failure_media_content:null,success_media_content_type:null,failure_media_content_type:null}},addNewAnswer(){this.questionForm.answers.push({text:null,media_content:null,content_type:null,is_right_answer:!1,points:0})},removeAnswerFromArray(s){this.questionForm.answers.splice(s,1)},removeAnswer(s){this.$store.dispatch("removeQuizAnswer",{quizAnswerId:s}).then(e=>{this.$notify("Вопрос успешно удален");let n=this.questionForm.answers.findIndex(a=>a.id==s);this.questionForm.answers.splice(n,1)}).catch(e=>{this.$notify("Ошибка удаления вопроса")})},submitForm(){let s=new FormData;Object.keys(this.questionForm).forEach(e=>{const n=this.questionForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),s.append("quiz_id",this.quizId),this.$store.dispatch("storeQuizQuestion",{quizQuestionForm:s}).then(e=>{this.$emit("callback",e.data),this.$notify("Вопрос успешно создан"),this.clearQuestionForm(),this.loadQuizRounds()}).catch(e=>{this.$notify("Ошибка создания вопроса")})}}},aq=Object.assign(oq,{__name:"QuizQuestionForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d(R,null,[t("div",o7,[t("div",a7,[t("button",{onClick:n[0]||(n[0]=(...o)=>e.clearQuestionForm&&e.clearQuestionForm(...o)),class:"btn btn-primary"},"Новый вопрос ")])]),t("form",{onSubmit:n[20]||(n[20]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"]))},[t("div",l7,[t("div",i7,[e.rounds.length>0?(i(),d("p",r7,[w(" Ранее созданные раунды: "),(i(!0),d(R,null,J(e.rounds,o=>(i(),d("span",{onClick:l=>e.questionForm.round=o,class:"badge bg-primary mr-1 cursor-pointer"},v(o),9,d7))),256))])):c("",!0),t("label",u7,[E(a,null,{content:O(()=>[m7]),default:O(()=>[c7]),_:1}),w(" Раунд "),p7]),b(t("input",{type:"number",class:"form-control",placeholder:"Раунд","aria-label":"Раундт",step:"1",min:"1","onUpdate:modelValue":n[1]||(n[1]=o=>e.questionForm.round=o),"aria-describedby":"quiz-round",required:""},null,512),[[G,e.questionForm.round]])]),t("div",h7,[t("label",_7,[E(a,null,{content:O(()=>[v7]),default:O(()=>[f7]),_:1}),w(" Текст вопроса "),b7,e.questionForm.text?(i(),d("small",g7," Длина текста "+v(e.questionForm.text.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст вопроса","aria-label":"Текст вопроса","onUpdate:modelValue":n[2]||(n[2]=o=>e.questionForm.text=o),maxlength:"255","aria-describedby":"review-text",required:""},`
                    `,512),[[G,e.questionForm.text]])]),t("div",y7,[t("div",$7,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[3]||(n[3]=o=>e.need_media=o),type:"checkbox",id:"need_media"},null,512),[[ke,e.need_media]]),k7])]),e.need_media?(i(),d("div",w7,[t("label",C7,[E(a,null,{content:O(()=>[T7]),default:O(()=>[F7]),_:1}),w(" Медиа контент к вопросу "),e.questionForm.content_type?(i(),d("span",D7,v(e.questionForm.content_type),1)):c("",!0),S7]),P7,E(Cn,{value:e.questionForm.media_content,type:e.questionForm.content_type,"onUpdate:type":n[4]||(n[4]=o=>e.questionForm.content_type=o),"onUpdate:value":n[5]||(n[5]=o=>e.questionForm.media_content=o)},null,8,["value","type"]),O7,t("button",{type:"button",onClick:n[6]||(n[6]=(...o)=>e.chooseBaseMediaContent&&e.chooseBaseMediaContent(...o)),class:"btn btn-outline-info rounded-lg"},"Выбрать медиа-файл ")])):c("",!0),t("div",M7,[t("div",A7,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[7]||(n[7]=o=>e.questionForm.is_multiply=o),type:"checkbox",id:"is_multiply"},null,512),[[ke,e.questionForm.is_multiply]]),j7])]),t("div",q7,[t("div",z7,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[8]||(n[8]=o=>e.questionForm.is_open=o),type:"checkbox",id:"is_open"},null,512),[[ke,e.questionForm.is_open]]),I7])]),t("div",R7,[t("div",U7,[t("label",V7,[E(a,null,{content:O(()=>[B7]),default:O(()=>[Y7]),_:1}),w(" Текст при выборе правильного ответа "),N7,e.questionForm.success_message?(i(),d("small",Q7," Длина текста "+v(e.questionForm.success_message.length)+"/255",1)):c("",!0)]),E(Xs,{param:"success_message",onCallback:e.attachTo},null,8,["onCallback"])]),b(t("textarea",{class:"form-control",placeholder:"Текст при правильном ответе","aria-label":"Текст при правильном ответе",maxlength:"255","onUpdate:modelValue":n[9]||(n[9]=o=>e.questionForm.success_message=o),"aria-describedby":"quiz-question-success_message"},`
                    `,512),[[G,e.questionForm.success_message]])]),t("div",E7,[t("div",x7,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[10]||(n[10]=o=>e.need_media_for_success=o),type:"checkbox",id:"need_media_for_success"},null,512),[[ke,e.need_media_for_success]]),L7])]),e.need_media_for_success?(i(),d("div",H7,[W7,E(Cn,{type:e.questionForm.success_media_content_type,"onUpdate:type":n[11]||(n[11]=o=>e.questionForm.success_media_content_type=o),value:e.questionForm.success_media_content,"onUpdate:value":n[12]||(n[12]=o=>e.questionForm.success_media_content=o)},null,8,["type","value"]),K7,t("button",{type:"button",onClick:n[13]||(n[13]=(...o)=>e.chooseSuccessMediaContent&&e.chooseSuccessMediaContent(...o)),class:"btn btn-outline-info rounded-lg"},"Выбрать медиа-файл ")])):c("",!0),t("div",X7,[t("div",G7,[t("label",Z7,[E(a,null,{content:O(()=>[ej]),default:O(()=>[J7]),_:1}),w(" Текст при выборе неправильного ответа "),tj,e.questionForm.failure_message?(i(),d("small",sj," Длина текста "+v(e.questionForm.failure_message.length)+"/255",1)):c("",!0)]),E(Xs,{param:"failure_message",onCallback:e.attachTo},null,8,["onCallback"])]),b(t("textarea",{class:"form-control",placeholder:"Текст при неправильном ответе","aria-label":"Текст при неправильном ответе",maxlength:"255","onUpdate:modelValue":n[14]||(n[14]=o=>e.questionForm.failure_message=o),"aria-describedby":"quiz-question-failure-message"},`
                    `,512),[[G,e.questionForm.failure_message]])]),t("div",nj,[t("div",oj,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[15]||(n[15]=o=>e.need_media_for_failed=o),type:"checkbox",id:"need_media_for_failed"},null,512),[[ke,e.need_media_for_failed]]),aj])]),e.need_media_for_failed?(i(),d("div",lj,[ij,E(Cn,{type:e.questionForm.failure_media_content_type,"onUpdate:type":n[16]||(n[16]=o=>e.questionForm.failure_media_content_type=o),value:e.questionForm.failure_media_content,"onUpdate:value":n[17]||(n[17]=o=>e.questionForm.failure_media_content=o)},null,8,["type","value"]),rj,t("button",{type:"button",onClick:n[18]||(n[18]=(...o)=>e.chooseFailureMediaContent&&e.chooseFailureMediaContent(...o)),class:"btn btn-outline-info rounded-lg"},"Выбрать медиа-файл ")])):c("",!0)]),t("div",dj,[t("div",uj,[t("button",{onClick:n[19]||(n[19]=(...o)=>e.addNewAnswer&&e.addNewAnswer(...o)),type:"button",class:"btn btn-outline-success rounded-5"}," Добавить ответы ")]),t("div",cj,[e.questionForm.answers.length>0?(i(),d("table",mj,[pj,t("tbody",null,[(i(!0),d(R,null,J(e.questionForm.answers,(o,l)=>(i(),d("tr",{class:P({"border-info":o.deleted_at==null,"border-danger":o.deleted_at!=null})},[t("th",hj,v(o.id||"Новый"),1),t("td",null,[t("div",_j,[b(t("input",{type:"text","onUpdate:modelValue":r=>e.questionForm.answers[l].text=r,class:"form-control",id:"answer-text-"+l,placeholder:"Текст ответа"},null,8,fj),[[G,e.questionForm.answers[l].text]]),t("label",{for:"answer-text-"+l},"Текст ответа",8,vj)])]),t("td",null,[t("div",bj,[b(t("input",{type:"text","onUpdate:modelValue":r=>e.questionForm.answers[l].points=r,class:"form-control",id:"answer-points-"+l,placeholder:"Текст ответа"},null,8,gj),[[G,e.questionForm.answers[l].points]]),t("label",{for:"answer-points-"+l},"Баллы",8,yj)])]),t("td",null,[t("p",{class:"cursor-pointer",onClick:r=>e.chooseMediaContent(l)},v(o.media_content||"Не указано"),9,$j)]),t("td",null,v(o.content_type||"Не указано"),1),t("td",null,[t("div",kj,[b(t("input",{class:"form-check-input","onUpdate:modelValue":r=>e.questionForm.answers[l].is_right_answer=r,type:"checkbox",id:"answer-is_right_answer-"+l},null,8,wj),[[ke,e.questionForm.answers[l].is_right_answer]]),t("label",{class:"form-check-label",for:"answer-is_right_answer-"+l}," Правильный ответ ",8,Cj)])]),t("td",null,[t("div",Fj,[Tj,t("ul",Dj,[o.id==null?(i(),d("li",Sj,[t("a",{class:"dropdown-item",onClick:r=>e.removeAnswerFromArray(l),href:"javascript:void(0)"},"Удалить",8,Pj)])):c("",!0),o.deleted_at==null&&o.id!=null?(i(),d("li",Oj,[t("a",{class:"dropdown-item",onClick:r=>e.removeAnswer(o.id),href:"javascript:void(0)"},"Удалить",8,Mj)])):c("",!0)])])])],2))),256))])])):(i(),d("p",Aj,"На текущий момент нет ни одного созданного ответа"))])]),t("div",jj,[t("div",qj,[t("button",zj,[e.questionForm.id==null?(i(),d("span",Ij,"Сохранить вопрос")):(i(),d("span",Rj,"Обновить вопрос"))])])])],32),t("div",Uj,[t("div",Vj,[t("div",Yj,[e.selectedQuestionIndex!=null?(i(),d("div",Bj,[E(kt,{"need-video":!0,"need-video-note":!0,"need-audio":!0,"need-photo":!0,selected:[e.questionForm.answers[e.selectedQuestionIndex||0].media_content||""],onSelect:e.selectMediaForAnswer},null,8,["selected","onSelect"])])):c("",!0),Nj])])]),t("div",Qj,[t("div",Ej,[t("div",xj,[t("div",Lj,[E(kt,{"need-video":!0,"need-video-note":!0,"need-audio":!0,"need-photo":!0,selected:[e.questionForm.success_media_content],onSelect:e.selectMediaForSuccess},null,8,["selected","onSelect"])]),Hj])])]),t("div",Wj,[t("div",Kj,[t("div",Xj,[t("div",Gj,[E(kt,{"need-video":!0,"need-video-note":!0,"need-audio":!0,"need-photo":!0,selected:[e.questionForm.failure_media_content],onSelect:e.selectMediaForFailure},null,8,["selected","onSelect"])]),Zj])])]),t("div",Jj,[t("div",eq,[t("div",tq,[t("div",sq,[E(kt,{"need-video":!0,"need-video-note":!0,"need-audio":!0,"need-photo":!0,selected:[e.questionForm.media_content],onSelect:e.selectMedia},null,8,["selected","onSelect"])]),nq])])])],64)}}}),lq={class:"row"},iq={class:"col-12"},rq={key:0,class:"table"},dq=t("th",{scope:"col"},"Число ответов",-1),uq=t("th",{scope:"col"},"Действие",-1),cq={scope:"row"},mq=["onClick"],pq={key:0,class:"fa-solid fa-chevron-down text-success"},hq={key:1,class:"fa-solid fa-xmark text-danger"},_q={key:0,class:"fa-solid fa-chevron-down text-success"},fq={key:1,class:"fa-solid fa-xmark text-danger"},vq={key:0,class:"dropdown"},bq=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),gq={class:"dropdown-menu"},yq={key:0},$q=["onClick"],kq={key:1},wq={class:"col-12"},Cq={props:["bot","quizId"],data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,questions:[],search:null,paginate_object:null}},computed:{...Ne(["getQuizQuestions","getQuizQuestionsPaginateObject"])},mounted(){this.loadQuizQuestions()},methods:{nextQuizQuestion(s){this.loadQuizQuestions(s)},selectQuizQuestion(s){this.$emit("select",s),this.$notify("Вопрос успешно выбран")},removeQuizQuestion(s){this.loading=!0,this.$store.dispatch("removeQuizQuestion",{quizQuestionId:s}).then(e=>{this.loading=!1,this.loadQuizQuestions(0),this.$notify("Вопрос успешно удален")}).catch(()=>{this.loading=!1,this.$notify("Вопрос удаления сервиса")})},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizQuestions(0)},loadQuizQuestions(s=0){this.loading=!0,this.$store.dispatch("loadQuizQuestions",{dataObject:{quiz_id:this.quizId,bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:100}).then(e=>{this.loading=!1,this.questions=this.getQuizQuestions,this.paginate_object=this.getQuizQuestionsPaginateObject}).catch(()=>{this.loading=!1})}}},Fq=Object.assign(Cq,{__name:"QuizQuestionTable",setup(s){return(e,n)=>(i(),d("div",lq,[t("div",iq,[e.questions.length>0?(i(),d("table",rq,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[0]||(n[0]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[1]||(n[1]=a=>e.loadAndOrder("text"))},"Текст вопроса"),dq,t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("round"))},"Раунд"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[3]||(n[3]=a=>e.loadAndOrder("media_content"))},"Контент"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[4]||(n[4]=a=>e.loadAndOrder("content_type"))},"Тип контента"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[5]||(n[5]=a=>e.loadAndOrder("is_multiply"))},"Множественный"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[6]||(n[6]=a=>e.loadAndOrder("is_open"))},"Открытый"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[7]||(n[7]=a=>e.loadAndOrder("updated_at"))},"Дата изменения"),uq])]),t("tbody",null,[(i(!0),d(R,null,J(e.questions,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",cq,v(a.id),1),t("td",{onClick:l=>e.selectQuizQuestion(a)},v(a.text||"Не указано"),9,mq),t("td",null,v((a.answers||[]).length),1),t("td",null,v(a.round||"Не указано"),1),t("td",null,v(a.media_content||"Не указано"),1),t("td",null,v(a.content_type||"Не указано"),1),t("td",null,[a.is_multiply?(i(),d("i",pq)):(i(),d("i",hq))]),t("td",null,[a.is_open?(i(),d("i",_q)):(i(),d("i",fq))]),t("td",null,v(e.$filters.current(a.updated_at)),1),t("td",null,[a.id?(i(),d("div",vq,[bq,t("ul",gq,[a.deleted_at==null?(i(),d("li",yq,[t("a",{class:"dropdown-item",onClick:l=>e.removeQuizQuestion(a.id),href:"javascript:void(0)"},"Удалить",8,$q)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("p",kq,"На текущий момент нет ни одного созданного вопроса"))]),t("div",wq,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextQuizQuestion,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),Tq={class:"row py-3"},Dq={class:"col-12"},Sq={class:"row"},Pq={class:"col-12 mb-3"},Oq={class:"form-label",id:"command-title"},Mq=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),Aq=t("div",null," Название команды ",-1),jq=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),qq={class:"col-12 mb-3"},zq={class:"form-label",id:"event-on_after_appointment"},Iq=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),Rq=t("div",null," Текст описания команды ",-1),Uq=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Vq={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},Yq=t("div",{class:"col-12 mb-3"},[t("button",{type:"button",class:"btn btn-outline-info rounded-5","data-bs-toggle":"modal","data-bs-target":"#select-players"}," Подобрать участников команды ")],-1),Bq={key:0,class:"col-12 mb-3"},Nq=t("h4",null,"Пользователи в команде",-1),Qq={class:"list-group list-group-numbered"},Eq={class:"list-group-item d-flex justify-content-between align-items-start"},xq={class:"ms-2 me-auto"},Lq={class:"fw-bold"},Hq={class:"dropdown"},Wq=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),Kq={class:"dropdown-menu"},Xq=["onClick"],Gq={class:"row"},Zq={class:"col-12"},Jq={type:"submit",class:"btn btn-outline-success w-100 p-3"},e9={key:0},t9={key:1},s9={class:"modal fade",id:"select-players",tabindex:"-1","aria-labelledby":"select-players-label","aria-hidden":"true"},n9={class:"modal-dialog modal-fullscreen"},o9={class:"modal-content"},a9=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"select-players-label"},"Подбор участников команды"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),l9={class:"modal-body"},i9=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),r9={props:["quizId","bot","command"],data(){return{step:0,load:!1,commandForm:{id:null,title:null,description:null,players:[]}}},watch:{commandForm:{handler(s){this.need_reset=!0},deep:!0}},mounted(){this.command&&this.$nextTick(()=>{this.commandForm={id:this.command.id||null,title:this.command.title||null,description:this.command.description||null,players:this.command.players||[]}})},methods:{removePlayerFromCommand(s){},selectBotUser(s){if(this.commandForm.players.findIndex(n=>n.id==s.id)>=0){this.$notify("Такой пользователь уже есть в списке");return}this.$notify("Пользователь успешно добавлен"),this.commandForm.players.push(s)},clearCommandForm(){this.commandForm={id:null,title:null,description:null,players:[]}},submitForm(){let s=new FormData;Object.keys(this.commandForm).forEach(e=>{const n=this.commandForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),s.append("quiz_id",this.quizId),this.$store.dispatch("storeQuizCommand",{quizCommandForm:s}).then(e=>{this.$emit("callback",e.data),this.$notify("Команда успешно создана"),this.clearCommandForm()}).catch(e=>{this.$notify("Ошибка создания команды")})}}},d9=Object.assign(r9,{__name:"QuizCommandForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d(R,null,[t("div",Tq,[t("div",Dq,[t("button",{onClick:n[0]||(n[0]=(...o)=>e.clearCommandForm&&e.clearCommandForm(...o)),class:"btn btn-primary"},"Новая команда")])]),t("form",{onSubmit:n[3]||(n[3]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"]))},[t("div",Sq,[t("div",Pq,[t("label",Oq,[E(a,null,{content:O(()=>[Aq]),default:O(()=>[Mq]),_:1}),w(" Название команды "),jq]),b(t("input",{type:"text",class:"form-control",placeholder:"Название команды","aria-label":"Название команды",maxlength:"255","onUpdate:modelValue":n[1]||(n[1]=o=>e.commandForm.title=o),"aria-describedby":"command-title",required:""},null,512),[[G,e.commandForm.title]])]),t("div",qq,[t("label",zq,[E(a,null,{content:O(()=>[Rq]),default:O(()=>[Iq]),_:1}),w(" Описание команды "),Uq,e.commandForm.description?(i(),d("small",Vq," Длина текста "+v(e.commandForm.description.length)+"/255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст описания","aria-label":"Текст описания","onUpdate:modelValue":n[2]||(n[2]=o=>e.commandForm.description=o),maxlength:"255","aria-describedby":"command-text",required:""},`
                    `,512),[[G,e.commandForm.description]])]),Yq,e.commandForm.players.length>0?(i(),d("div",Bq,[Nq,t("ol",Qq,[(i(!0),d(R,null,J(e.commandForm.players,o=>(i(),d("li",Eq,[t("div",xq,[t("div",Lq,"#"+v(o.id),1),w(" "+v(o.fio_from_telegram||o.telegram_chat_id),1)]),t("div",Hq,[Wq,t("ul",Kq,[t("li",null,[t("a",{class:"dropdown-item",onClick:l=>e.removePlayerFromCommand(o.id),href:"javascript:void(0)"},"Удалить",8,Xq)])])])]))),256))])])):c("",!0)]),t("div",Gq,[t("div",Zq,[t("button",Jq,[e.commandForm.id==null?(i(),d("span",e9,"Сохранить команду")):(i(),d("span",t9,"Обновить команду"))])])])],32),t("div",s9,[t("div",n9,[t("div",o9,[a9,t("div",l9,[E(Gs,{simple:!0,onSelect:e.selectBotUser},null,8,["onSelect"])]),i9])])])],64)}}}),u9={class:"row"},c9={class:"col-12"},m9={key:0,class:"table"},p9=t("th",{scope:"col"},"Число участников",-1),h9=t("th",{scope:"col"},"Действие",-1),_9={scope:"row"},f9=["onClick"],v9={key:0,class:"dropdown"},b9=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),g9={class:"dropdown-menu"},y9={key:0},$9=["onClick"],k9={key:1},w9={class:"col-12"},C9={props:["bot","quizId"],data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,commands:[],search:null,paginate_object:null}},computed:{...Ne(["getQuizCommands","getQuizCommandsPaginateObject"])},mounted(){this.loadQuizCommands()},methods:{nextQuizCommand(s){this.loadQuizCommands(s)},selectQuizCommand(s){this.$emit("select",s),this.$notify("Вопрос успешно выбран")},removeQuizCommand(s){this.loading=!0,this.$store.dispatch("removeQuizCommand",{quizCommandId:s}).then(e=>{this.loading=!1,this.loadQuizCommands(0),this.$notify("Вопрос успешно удален")}).catch(()=>{this.loading=!1,this.$notify("Вопрос удаления сервиса")})},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizCommands(0)},loadQuizCommands(s=0){this.loading=!0,this.$store.dispatch("loadQuizCommands",{dataObject:{quiz_id:this.quizId,bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:100}).then(e=>{this.loading=!1,this.commands=this.getQuizCommands,this.paginate_object=this.getQuizCommandsPaginateObject}).catch(()=>{this.loading=!1})}}},F9=Object.assign(C9,{__name:"QuizCommandTable",setup(s){return(e,n)=>(i(),d("div",u9,[t("div",c9,[e.commands.length>0?(i(),d("table",m9,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[0]||(n[0]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[1]||(n[1]=a=>e.loadAndOrder("title"))},"Название"),p9,t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("description"))},"Описание"),h9])]),t("tbody",null,[(i(!0),d(R,null,J(e.commands,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",_9,v(a.id),1),t("td",{onClick:l=>e.selectQuizCommand(a)},v(a.title||"Не указано"),9,f9),t("td",null,v((a.players||[]).length),1),t("td",null,v(a.description||"Не указано"),1),t("td",null,[a.id?(i(),d("div",v9,[b9,t("ul",g9,[a.deleted_at==null?(i(),d("li",y9,[t("a",{class:"dropdown-item",onClick:l=>e.removeQuizCommand(a.id),href:"javascript:void(0)"},"Удалить",8,$9)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("p",k9,"На текущий момент нет ни одной созданной команды"))]),t("div",w9,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextQuizCommand,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),T9={class:"row"},D9={class:"col-12"},S9={key:0,class:"table"},P9=t("th",{scope:"col"},"Название квиза",-1),O9=t("th",{scope:"col"},"Название команды",-1),M9=t("th",{scope:"col"},"Число участников",-1),A9=t("th",{scope:"col"},"Результат",-1),j9=t("th",{scope:"col"},"Действие",-1),q9={scope:"row"},z9=["onClick"],I9={key:0},R9=t("td",null,"-",-1),U9={key:0,class:"dropdown"},V9=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),Y9={class:"dropdown-menu"},B9={key:0},N9=["onClick"],Q9={key:1},E9={class:"col-12"},x9={props:["bot","quizId"],data(){return{direction:"desc",order:"updated_at",show:!0,is_group:!1,loading:!0,results:[],search:null,paginate_object:null}},computed:{...Ne(["getQuizResults","getQuizResultsPaginateObject"])},mounted(){this.loadQuizResults()},methods:{nextQuizResult(s){this.loadQuizResults(s)},selectQuizResult(s){this.$emit("select",s),this.$notify("Вопрос успешно выбран")},removeQuizResult(s){this.loading=!0,this.$store.dispatch("removeQuizResult",{quizResultId:s}).then(e=>{this.loading=!1,this.loadQuizResults(0),this.$notify("Вопрос успешно удален")}).catch(()=>{this.loading=!1,this.$notify("Вопрос удаления сервиса")})},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadQuizResults(0)},loadQuizResults(s=0){this.loading=!0,this.$store.dispatch("loadQuizResults",{dataObject:{quiz_id:this.quizId,bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:100}).then(e=>{this.loading=!1,this.results=this.getQuizResults,this.paginate_object=this.getQuizResultsPaginateObject}).catch(()=>{this.loading=!1})}}},L9=Object.assign(x9,{__name:"QuizResultTable",setup(s){return(e,n)=>(i(),d("div",T9,[t("div",D9,[e.results.length>0?(i(),d("table",S9,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[0]||(n[0]=a=>e.loadAndOrder("id"))},"#"),P9,O9,M9,t("th",{scope:"col",class:"cursor-pointer",onClick:n[1]||(n[1]=a=>e.loadAndOrder("points"))},"Баллы"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("times"))},"Время"),A9,j9])]),t("tbody",null,[(i(!0),d(R,null,J(e.results,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",q9,v(a.id),1),t("td",{onClick:l=>e.selectQuizResult(a)},v(a.quiz.title||"Не указано"),9,z9),t("td",null,[a.command?(i(),d("span",I9,v(a.command.title||"Не указано"),1)):c("",!0)]),t("td",null,v((a.command.players||[]).length),1),t("td",null,v(a.points||"Не указано"),1),t("td",null,v(a.times||"Не указано"),1),R9,t("td",null,[a.id?(i(),d("div",U9,[V9,t("ul",Y9,[a.deleted_at==null?(i(),d("li",B9,[t("a",{class:"dropdown-item",onClick:l=>e.removeQuizResult(a.id),href:"javascript:void(0)"},"Удалить",8,N9)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("p",Q9,"На текущий момент нет ни одного созданного вопроса"))]),t("div",E9,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextQuizResult,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),H9={key:0,class:"py-2"},W9={class:"row"},K9={class:"col-12"},X9={key:1,class:"py-2"},G9={class:"row"},Z9={class:"col-12"},J9={key:2,class:"py-2"},ez={class:"row"},tz={class:"col-12"},sz={class:"nav nav-tabs justify-content-center"},nz={key:0,class:"row py-3"},oz={class:"col-12"},az={key:1,class:"row py-3"},lz={class:"col-12"},iz={class:"col-12 py-3"},rz=t("h4",null,"Доступные вопросы",-1),dz={key:2,class:"row"},uz={class:"col-12"},cz={class:"col-12 py-3"},mz=t("h4",null,"Команды участники квиза",-1),pz={key:3,class:"row"},hz={class:"col-12 py-3"},_z=t("h4",null,"Статистика",-1),fz={key:4,class:"row"},vz=t("div",{class:"col-12"},null,-1),bz=t("div",{class:"col-12 py-3"},[t("h4",null,"Отзывы к событию")],-1),gz=[vz,bz],yz={props:["bot"],data(){return{part:0,tab:0,loadTable:!1,loadQuizCommand:!1,loadQuizQuestion:!1,loadQuizQuestionTable:!1,loadQuizCommandTable:!1,loadQuizResult:!1,loadForm:!1,selectedQuiz:null,selectedQuizQuestion:null,selectedQuizCommand:null,selectedQuizResult:null}},mounted(){},methods:{callbackCommandForm(){this.loadQuizCommandTable=!0,this.$nextTick(()=>{this.loadQuizCommandTable=!1})},callbackQuestionForm(){this.loadQuizQuestionTable=!0,this.$nextTick(()=>{this.loadQuizQuestionTable=!1})},callbackForm(){this.loadTable=!0,this.part=0,this.$nextTick(()=>{this.loadTable=!1})},createQuiz(){this.part=2},selectQuizResult(s){this.loadQuizResult=!0,this.$nextTick(()=>{this.loadQuizResult=!1,this.selectedQuizResult=s})},selectQuizCommand(s){this.loadQuizCommand=!0,this.$nextTick(()=>{this.loadQuizCommand=!1,this.selectedQuizCommand=s})},selectQuizQuestion(s){this.loadQuizQuestion=!0,this.$nextTick(()=>{this.loadQuizQuestion=!1,this.selectedQuizQuestion=s})},selectQuiz(s){this.loadForm=!0,this.$nextTick(()=>{this.loadForm=!1,this.selectedQuiz=s,this.part=1,this.tab=0})}}},$z=Object.assign(yz,{__name:"Quizzes",setup(s){return(e,n)=>(i(),d(R,null,[e.part===0?(i(),d("div",H9,[t("div",W9,[t("div",K9,[t("button",{type:"button",onClick:n[0]||(n[0]=(...a)=>e.createQuiz&&e.createQuiz(...a)),class:"btn btn-primary"}," Создать новый квиз ")])]),e.loadTable?c("",!0):(i(),Q(GA,{key:0,onCreate:e.createQuiz,onSelect:e.selectQuiz,bot:s.bot},null,8,["onCreate","onSelect","bot"]))])):c("",!0),e.part===2?(i(),d("div",X9,[t("div",G9,[t("div",Z9,[t("button",{type:"button",onClick:n[1]||(n[1]=a=>e.part=0),class:"btn btn-outline-primary"}," Назад ")])]),e.loadForm?c("",!0):(i(),Q(Uo,{key:0,onCallback:e.callbackForm,bot:s.bot},null,8,["onCallback","bot"]))])):c("",!0),e.part===1?(i(),d("div",J9,[t("div",ez,[t("div",tz,[t("button",{type:"button",onClick:n[2]||(n[2]=a=>e.part=0),class:"btn btn-outline-primary"}," Назад ")])]),t("ul",sz,[t("li",{class:"nav-item",onClick:n[3]||(n[3]=a=>e.tab=0)},[t("a",{class:P(["nav-link",{active:e.tab===0}]),"aria-current":"page",href:"javascript:void(0)"},"Информация о квизе",2)]),t("li",{class:"nav-item",onClick:n[4]||(n[4]=a=>e.tab=1)},[t("a",{class:P(["nav-link",{active:e.tab===1}]),href:"javascript:void(0)"},"Вопросы квиза",2)]),t("li",{class:"nav-item",onClick:n[5]||(n[5]=a=>e.tab=2)},[t("a",{class:P(["nav-link",{active:e.tab===2}]),href:"javascript:void(0)"},"Команды на квизе",2)]),t("li",{class:"nav-item",onClick:n[6]||(n[6]=a=>e.tab=3)},[t("a",{class:P(["nav-link",{active:e.tab===3}]),href:"javascript:void(0)"},"Командная статистика",2)])]),e.tab===0?(i(),d("div",nz,[t("div",oz,[e.loadForm?c("",!0):(i(),Q(Uo,{key:0,onCallback:e.callbackForm,quiz:e.selectedQuiz,bot:s.bot},null,8,["onCallback","quiz","bot"]))])])):c("",!0),e.tab===1?(i(),d("div",az,[t("div",lz,[e.loadQuizQuestion?c("",!0):(i(),Q(aq,{key:0,question:e.selectedQuizQuestion,"quiz-id":e.selectedQuiz.id,onCallback:e.callbackQuestionForm,bot:s.bot},null,8,["question","quiz-id","onCallback","bot"]))]),t("div",iz,[rz,e.loadQuizQuestionTable?c("",!0):(i(),Q(Fq,{key:0,"quiz-id":e.selectedQuiz.id,onSelect:e.selectQuizQuestion,bot:s.bot},null,8,["quiz-id","onSelect","bot"]))])])):c("",!0),e.tab===2?(i(),d("div",dz,[t("div",uz,[e.loadQuizCommand?c("",!0):(i(),Q(d9,{key:0,command:e.selectedQuizCommand,"quiz-id":e.selectedQuiz.id,onCallback:e.callbackCommandForm,bot:s.bot},null,8,["command","quiz-id","onCallback","bot"]))]),t("div",cz,[mz,e.loadQuizCommandTable?c("",!0):(i(),Q(F9,{key:0,"quiz-id":e.selectedQuiz.id,onSelect:e.selectQuizCommand,bot:s.bot},null,8,["quiz-id","onSelect","bot"]))])])):c("",!0),e.tab===3?(i(),d("div",pz,[t("div",hz,[_z,E(L9,{"quiz-id":e.selectedQuiz.id,onSelect:e.selectQuizResult,bot:s.bot},null,8,["quiz-id","onSelect","bot"])])])):c("",!0),e.tab===4?(i(),d("div",fz,gz)):c("",!0)])):c("",!0)],64))}}),kz={class:"row"},wz={class:"col-12 mb-3 d-flex align-items-center"},Cz={class:"dropdown mr-2"},Fz={class:"btn btn-info dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Tz={key:0},Dz={key:1},Sz={class:"dropdown-menu"},Pz=["onClick"],Oz={class:"dropdown-item",href:"#"},Mz=t("p",{class:"mb-0"}," - тип пункта меню",-1),Az={class:"col-12 col-md-12 mb-3"},jz={class:"form-label",id:"service-title"},qz=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),zz=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Iz={class:"col-12 mb-3"},Rz={class:"form-label",id:"service-description"},Uz=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),Vz=t("div",null," Краткая информация о команде ",-1),Yz=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Bz={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},Nz={class:"col-12 mb-3"},Qz={class:"form-label",id:"service-input_message_content"},Ez=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),xz=t("div",null," Текст, который будет в сообщении после выбора данного пункта меню ",-1),Lz=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),Hz={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},Wz={class:"col-12 mb-3"},Kz={class:"form-check"},Xz=t("label",{class:"form-check-label",for:"need_keyboard"}," Нужна клавиатура к тексту ",-1),Gz={key:0,class:"col-12 mb-3"},Zz={class:"card"},Jz={class:"card-body"},eI={class:"form-check"},tI=t("label",{class:"form-check-label",for:"need_show_inline_template_selector"}," Выбрать клавиатуру из шаблона ",-1),sI={class:"col-12 mb-3"},nI={class:"form-check"},oI=t("label",{class:"form-check-label",for:"need_custom_settings"}," Нужны дополнительные настройки ",-1),aI={class:"col-12"},lI={key:0,class:"card mb-2"},iI={class:"card-header d-flex justify-content-between align-items-center"},rI=t("h6",null,"Дополнительная конфигурация",-1),dI={class:"card-body"},uI={class:"row mb-2"},cI={class:"col-5"},mI={class:"form-label",id:"service-title"},pI=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),hI=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),_I=["onUpdate:modelValue"],fI={class:"col-5"},vI={class:"form-label",id:"service-title"},bI=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),gI=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),yI=["onUpdate:modelValue"],$I={class:"col-2 d-flex flex-column justify-content-end align-items-center"},kI=["onClick"],wI={key:1,class:"row mb-2"},CI=t("div",{class:"col-12"},[t("div",{class:"alert alert-info",role:"alert"}," Вы еще не добавили ни одной дополнительной настройки ")],-1),FI=[CI],TI=t("div",{class:"row"},[t("div",{class:"col-12"},[t("button",{type:"submit",class:"btn btn-outline-primary w-100"},"Сохранить пункт меню ")])],-1),DI={props:["item"],data(){return{need_custom_settings:!1,need_keyboard:!1,need_show_inline_template_selector:!1,types:[{title:"Текст",value:0},{title:"Фото",value:1}],itemForm:{id:null,type:0,title:null,description:null,input_message_content:null,inline_keyboard_id:null,inline_keyboard:{menu:null},custom_settings:[]}}},computed:{preparedTypeTile(){return this.types.filter(s=>s.value==this.itemForm.type)[0]||null},uuid(){return xa()}},watch:{itemForm:{handler(s){this.need_reset=!0},deep:!0}},mounted(){this.item&&this.$nextTick(()=>{console.log("menu",this.item.inline_keyboard),this.itemForm={id:this.item.id||uuid,type:this.item.type||0,title:this.item.title||null,description:this.item.description||null,input_message_content:this.item.input_message_content||null,need_keyboard:this.item.title||!1,inline_keyboard_id:this.item.inline_keyboard_id||null,inline_keyboard:this.item.inline_keyboard?this.item.inline_keyboard:{menu:null},custom_settings:this.item.custom_settings||[]},this.itemForm.inline_keyboard&&(this.need_keyboard=!0),this.itemForm.custom_settings&&(this.need_custom_settings=!0)})},methods:{submitForm(){this.$emit("callback",this.itemForm),this.itemForm={id:null,type:0,title:null,description:null,input_message_content:null,inline_keyboard_id:null,inline_keyboard:{menu:null},custom_settings:[]},this.need_keyboard=!1,this.need_custom_settings=!1,this.need_show_inline_template_selector=!1},addCustomSettings(){this.itemForm.custom_settings.push({key:null,value:null})},removeCustomSetting(s){this.itemForm.custom_settings.splice(s,1)},selectInlineKeyboard(s){console.log("selectInlineKeyboard",s),this.itemForm.inline_keyboard={id:null,menu:s,slug:null},this.need_show_inline_template_selector=!1}}},SI=Object.assign(DI,{__name:"InlineQueryItemForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d("form",{onSubmit:n[7]||(n[7]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"])),class:"mb-2"},[t("div",kz,[t("div",wz,[t("div",Cz,[t("button",Fz,[e.itemForm.type?(i(),d("span",Tz,v(e.preparedTypeTile.title),1)):(i(),d("span",Dz,"Тип поля"))]),t("ul",Sz,[(i(!0),d(R,null,J(e.types,o=>(i(),d("li",{onClick:l=>e.itemForm.type=o.value},[t("a",Oz,v(o.title||"Не указан"),1)],8,Pz))),256))])]),Mz]),t("div",Az,[t("label",jz,[E(a,{content:"Заголовок"},{default:O(()=>[qz]),_:1}),w(" Заголовок "),zz]),b(t("input",{type:"text",class:"form-control",placeholder:"Заголовок","aria-label":"Заголовок","onUpdate:modelValue":n[0]||(n[0]=o=>e.itemForm.title=o),"aria-describedby":"title",required:""},null,512),[[G,e.itemForm.title]])]),t("div",Iz,[t("label",Rz,[E(a,null,{content:O(()=>[Vz]),default:O(()=>[Uz]),_:1}),w(" Описание команду "),Yz,e.itemForm.description?(i(),d("small",Bz," Длина текста "+v(e.itemForm.description.length)+" / 255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Описание команды","aria-label":"Описание команды",maxlength:"255","onUpdate:modelValue":n[1]||(n[1]=o=>e.itemForm.description=o),"aria-describedby":"service-description",required:""},`
                    `,512),[[G,e.itemForm.description]])]),t("div",Nz,[t("label",Qz,[E(a,null,{content:O(()=>[xz]),default:O(()=>[Ez]),_:1}),w(" Текст после выбора "),Lz,e.itemForm.input_message_content?(i(),d("small",Hz," Длина текста "+v(e.itemForm.input_message_content.length)+" / 255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Текст поста","aria-label":"Текст поста",maxlength:"255","onUpdate:modelValue":n[2]||(n[2]=o=>e.itemForm.input_message_content=o),"aria-describedby":"service-input_message_content",required:""},`
                    `,512),[[G,e.itemForm.input_message_content]])]),t("div",Wz,[t("div",Kz,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[3]||(n[3]=o=>e.need_keyboard=o),type:"checkbox",id:"need_keyboard"},null,512),[[ke,e.need_keyboard]]),Xz])]),e.need_keyboard?(i(),d("div",Gz,[t("div",Zz,[t("div",Jz,[t("div",eI,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[4]||(n[4]=o=>e.need_show_inline_template_selector=o),type:"checkbox",id:"need_show_inline_template_selector"},null,512),[[ke,e.need_show_inline_template_selector]]),tI]),e.need_show_inline_template_selector?(i(),Q(cs,{key:0,class:"mb-2",type:"inline",onSelect:e.selectInlineKeyboard,"select-mode":!0},null,8,["onSelect"])):(i(),Q(Jt,{key:1,type:"inline",onSave:e.selectInlineKeyboard,"edited-keyboard":e.itemForm.inline_keyboard.menu},null,8,["onSave","edited-keyboard"]))])])])):c("",!0),t("div",sI,[t("div",nI,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[5]||(n[5]=o=>e.need_custom_settings=o),type:"checkbox",id:"need_custom_settings"},null,512),[[ke,e.need_custom_settings]]),oI])]),t("div",aI,[e.need_custom_settings?(i(),d("div",lI,[t("div",iI,[rI,t("button",{type:"button",onClick:n[6]||(n[6]=(...o)=>e.addCustomSettings&&e.addCustomSettings(...o)),class:"btn btn-outline-primary"},"Добавить настройку ")]),t("div",dI,[e.itemForm.custom_settings.length>0?(i(!0),d(R,{key:0},J(e.itemForm.custom_settings,(o,l)=>(i(),d("div",uI,[t("div",cI,[t("label",mI,[E(a,{content:"Ключ"},{default:O(()=>[pI]),_:1}),w(" Ключ "),hI]),b(t("input",{type:"text",class:"form-control",placeholder:"Ключ","aria-label":"Ключ",min:"0","onUpdate:modelValue":r=>e.itemForm.custom_settings[l].key=r,"aria-describedby":"price",required:""},null,8,_I),[[G,e.itemForm.custom_settings[l].key]])]),t("div",fI,[t("label",vI,[E(a,{content:"Значение"},{default:O(()=>[bI]),_:1}),w(" Значение "),gI]),b(t("input",{type:"text",class:"form-control",placeholder:"Значение","aria-label":"Значение",min:"0","onUpdate:modelValue":r=>e.itemForm.custom_settings[l].value=r,"aria-describedby":"price",required:""},null,8,yI),[[G,e.itemForm.custom_settings[l].value]])]),t("div",$I,[t("button",{onClick:r=>e.removeCustomSetting(l),class:"btn btn-outline-danger"},"Удалить ",8,kI)])]))),256)):(i(),d("div",wI,FI))])])):c("",!0)])]),TI],32)}}}),PI={class:"row"},OI={class:"col-12 mb-3"},MI={class:"form-label",id:"service-title"},AI=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),jI=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),qI={class:"col-12 mb-3"},zI={class:"form-label",id:"service-description"},II=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),RI=t("div",null," Краткая информация о команде ",-1),UI=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),VI={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},YI={class:"col-12 mb-2"},BI={key:0},NI={class:"table-responsive"},QI={class:"table"},EI=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"Название"),t("th",{scope:"col"},"Описание"),t("th",{scope:"col"},"Текст"),t("th",{scope:"col"},"Есть клавиатура"),t("th",{scope:"col"},"Есть доп настройки"),t("th",{scope:"col"},"Действие")])],-1),xI=["onClick"],LI=["onClick"],HI=["onClick"],WI={key:0,class:"fa-solid fa-check text-success"},KI={key:1,class:"fa-solid fa-xmark text-danger"},XI={key:0,class:"fa-solid fa-check text-success"},GI={key:1,class:"fa-solid fa-xmark text-danger"},ZI={class:"dropdown"},JI=t("button",{class:"btn btn-link",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-bars"})],-1),eR={class:"dropdown-menu"},tR=["onClick"],sR={class:"row"},nR={class:"col-12"},oR={type:"submit",class:"btn btn-outline-success w-100 p-3"},aR={key:0},lR={key:1},iR={class:"modal fade",id:"inline-query-item-editor",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},rR={class:"modal-dialog modal-lg"},dR={class:"modal-content"},uR={class:"modal-body"},cR={props:["bot","inlineQuery"],data(){return{load:!1,selectedInlineQueryItem:null,inlineQueryModal:null,inlineQueryForm:{id:null,command:null,description:null,items:[]}}},watch:{inlineQueryForm:{handler(s){this.need_reset=!0},deep:!0}},mounted(){this.inlineQueryModal=new bootstrap.Modal(document.getElementById("inline-query-item-editor"),{}),this.inlineQuery&&this.$nextTick(()=>{this.inlineQueryForm={id:this.inlineQuery.id||null,command:this.inlineQuery.command||null,description:this.inlineQuery.description||null,items:this.inlineQuery.items||[]}})},methods:{removeInlineQueryItem(s){const e=this.inlineQueryForm.items[s];this.inlineQueryForm.items.splice(s,1),this.$store.dispatch("removeInlineQueryItem",{queryItemId:e.id}).then(n=>{this.$notify("Команда успешно удалена")}).catch(n=>{this.$notify("Ошибка удаления команды")})},openModal(){this.load=!0,this.$nextTick(()=>{this.selectedInlineQueryItem=null,this.load=!1,this.inlineQueryModal.show()})},addInlineQueryItem(s){let e=this.inlineQueryForm.items.findIndex(n=>n.id===s.id);e===-1?this.inlineQueryForm.items.push(s):this.inlineQueryForm.items[e]=s},selectInlineQueryItem(s){this.load=!0,this.$nextTick(()=>{this.selectedInlineQueryItem=s,this.load=!1,this.inlineQueryModal.show()})},submitForm(){let s=new FormData;Object.keys(this.inlineQueryForm).forEach(e=>{const n=this.inlineQueryForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch("storeInlineQuery",{inlineQueryForm:s}).then(e=>{this.inlineQueryForm={id:null,command:null,description:null,items:[]},this.$emit("callback",e.data),this.$notify("Команда успешно создана")}).catch(e=>{this.$notify("Ошибка создания команды"),this.$emit("callback",response.data)})}}},mR=Object.assign(cR,{__name:"InlineQueryForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d(R,null,[t("form",{onSubmit:n[3]||(n[3]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"]))},[t("div",PI,[t("div",OI,[t("label",MI,[E(a,{content:"Название оказываемой услуги"},{default:O(()=>[AI]),_:1}),w(" Название команды "),jI]),b(t("input",{type:"text",class:"form-control",placeholder:"Команда","aria-label":"Команда","onUpdate:modelValue":n[0]||(n[0]=o=>e.inlineQueryForm.command=o),maxlength:"255","aria-describedby":"service-title",required:""},null,512),[[G,e.inlineQueryForm.command]])]),t("div",qI,[t("label",zI,[E(a,null,{content:O(()=>[RI]),default:O(()=>[II]),_:1}),w(" Описание команду "),UI,e.inlineQueryForm.description?(i(),d("small",VI," Длина текста "+v(e.inlineQueryForm.description.length)+" / 255",1)):c("",!0)]),b(t("textarea",{type:"text",class:"form-control",placeholder:"Описание команды","aria-label":"Описание команды",maxlength:"255","onUpdate:modelValue":n[1]||(n[1]=o=>e.inlineQueryForm.description=o),"aria-describedby":"service-description",required:""},`
                    `,512),[[G,e.inlineQueryForm.description]])]),t("div",YI,[t("button",{type:"button",class:"btn btn-outline-primary",onClick:n[2]||(n[2]=(...o)=>e.openModal&&e.openModal(...o))}," Добавление пункта меню ")]),e.inlineQueryForm.items.length>0?(i(),d("div",BI,[t("div",NI,[t("table",QI,[EI,t("tbody",null,[(i(!0),d(R,null,J(e.inlineQueryForm.items,(o,l)=>(i(),d("tr",null,[t("td",{onClick:r=>e.selectInlineQueryItem(o)},v(o.title||"-"),9,xI),t("td",{onClick:r=>e.selectInlineQueryItem(o)},v(o.description||"-"),9,LI),t("td",{onClick:r=>e.selectInlineQueryItem(o)},v(o.input_message_content||"-"),9,HI),t("td",null,[o.inline_keyboard?(i(),d("i",WI)):(i(),d("i",KI))]),t("td",null,[(o.custom_settings||[]).length>0?(i(),d("i",XI)):(i(),d("i",GI))]),t("td",null,[t("div",ZI,[JI,t("ul",eR,[t("li",null,[t("a",{class:"dropdown-item",onClick:r=>e.removeInlineQueryItem(l),href:"#"},"Удалить",8,tR)])])])])]))),256))])])])])):c("",!0)]),t("div",sR,[t("div",nR,[t("button",oR,[e.inlineQueryForm.id===null?(i(),d("span",aR,"Создать встроенное меню")):(i(),d("span",lR,"Обновить встроенное меню"))])])])],32),t("div",iR,[t("div",rR,[t("div",dR,[t("div",uR,[e.load?c("",!0):(i(),Q(SI,{key:0,item:e.selectedInlineQueryItem,onCallback:e.addInlineQueryItem},null,8,["item","onCallback"]))])])])])],64)}}}),pR={class:"row"},hR={class:"col-12"},_R={key:0,class:"table"},fR=t("th",{scope:"col",class:"cursor-pointer"},"Кол-во пунктов меню",-1),vR=t("th",{scope:"col"},"Действие",-1),bR={scope:"row"},gR=["onClick"],yR={key:0,class:"dropdown"},$R=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),kR={class:"dropdown-menu"},wR={key:0},CR=["onClick"],FR={key:1},TR={class:"col-12"},DR={props:["bot"],data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,queries:[],search:null,paginate_object:null}},computed:{...Ne(["getInlineQueries","getInlineQueriesPaginateObject"])},mounted(){this.loadInlineQueries()},methods:{nextInlineQuery(s){this.loadInlineQueries(s)},selectInlineQuery(s){this.$emit("select",s),this.$notify("Встроенное меню успешно выбрано")},removeInlineQuery(s){this.loading=!0,this.$store.dispatch("removeInlineQuery",{queryId:s}).then(e=>{this.loading=!1,this.loadInlineQueries(0),this.$notify("Встроенное меню успешно удалено")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления встроенного меню")})},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadInlineQueries(0)},loadInlineQueries(s=0){this.loading=!0,this.$store.dispatch("loadInlineQueries",{dataObject:{bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:100}).then(e=>{this.loading=!1,this.queries=this.getInlineQueries,this.paginate_object=this.getInlineQueriesPaginateObject}).catch(()=>{this.loading=!1})}}},SR=Object.assign(DR,{__name:"InlineQueryTable",setup(s){return(e,n)=>(i(),d("div",pR,[t("div",hR,[e.queries.length>0?(i(),d("table",_R,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[0]||(n[0]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[1]||(n[1]=a=>e.loadAndOrder("command"))},"Команда"),fR,t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=a=>e.loadAndOrder("description"))},"Описание"),vR])]),t("tbody",null,[(i(!0),d(R,null,J(e.queries,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",bR,v(a.id),1),t("td",{onClick:l=>e.selectInlineQuery(a)},v(a.command||"Не указано"),9,gR),t("td",null,v(a.items.length),1),t("td",null,v(a.description||"Не указано"),1),t("td",null,[a.id?(i(),d("div",yR,[$R,t("ul",kR,[a.deleted_at==null?(i(),d("li",wR,[t("a",{class:"dropdown-item",onClick:l=>e.removeInlineQuery(a.id),href:"javascript:void(0)"},"Удалить",8,CR)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("p",FR,"На текущий момент нет ни одной созданной команды"))]),t("div",TR,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextInlineQuery,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])]))}}),PR={class:"my-2"},OR={key:0,class:"row mb-2"},MR={class:"col-12"},AR={key:3,class:"spinner-border",role:"status"},jR=t("span",{class:"visually-hidden"},"Loading...",-1),qR=[jR],zR={props:["bot"],data(){return{load:!1,selectedInlineQuery:null}},mounted(){},methods:{selectInlineQuery(s){this.load=!0,this.$nextTick(()=>{this.selectedInlineQuery=s,this.load=!1})},reloadTable(){this.load=!0,this.$nextTick(()=>{this.load=!1})}}},IR=Object.assign(zR,{__name:"InlineQuery",setup(s){return(e,n)=>(i(),d("div",PR,[e.selectedInlineQuery!=null?(i(),d("div",OR,[t("div",MR,[t("button",{type:"button",onClick:n[0]||(n[0]=a=>e.selectInlineQuery(null)),class:"btn btn-primary"}," Добавить новое встроенное меню")])])):c("",!0),e.load?c("",!0):(i(),Q(mR,{key:1,bot:s.bot,onCallback:e.reloadTable,"inline-query":e.selectedInlineQuery},null,8,["bot","onCallback","inline-query"])),e.load?c("",!0):(i(),Q(SR,{key:2,bot:s.bot,onSelect:e.selectInlineQuery},null,8,["bot","onSelect"])),e.load?(i(),d("div",AR,qR)):c("",!0)]))}}),RR={class:"row"},UR={class:"col-12 mb-3"},VR={class:"form-label",id:"quiz-title"},YR=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),BR=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),NR={class:"col-12 mb-3"},QR={class:"form-label",id:"quiz-description"},ER=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),xR=t("div",null," Краткая информация о назначении промокода ",-1),LR=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),HR={key:0,class:"text-gray-400 ml-3",style:{"font-size":"10px"}},WR={class:"col-12 mb-3"},KR={class:"form-check"},XR=t("label",{class:"form-check-label",for:"is_active"}," Доступен для активации ",-1),GR={class:"col-12 mb-3"},ZR={class:"form-label",id:"promoCodeForm-max_activation_count"},JR=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),eU=t("div",null," Максимальное число активация кода ",-1),tU=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),sU={class:"col-12 mb-3"},nU={class:"form-check"},oU=t("label",{class:"form-check-label",for:"promoCodeForm-cashback_amount"}," Нужно начислить CashBack по промокоду ",-1),aU={key:0,class:"col-12 mb-3"},lU={class:"form-label",id:"quiz-time_limit"},iU=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),rU=t("div",null," Сколько % нужно ответить чтоб пройти ",-1),dU=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),uU={key:1,class:"col-12 mb-3"},cU={class:"form-check"},mU=t("label",{class:"form-check-label",for:"promoCodeForm-need_slots"}," Нужны слоты для активации ",-1),pU={key:2,class:"col-12 mb-3"},hU={class:"form-label",id:"promoCodeForm-slot_amount"},_U=t("i",{class:"fa-regular fa-circle-question mr-1"},null,-1),fU=t("div",null," Укажите количество слотов, которые получит пользователь при активации (внимание, доступно только для администраторов) ",-1),vU=t("span",{class:"badge rounded-pill text-bg-danger m-0"},"Нужно",-1),bU={key:0,class:"col-12 mb-3"},gU={class:"form-check"},yU=t("label",{class:"form-check-label",for:"promoCodeForm-need_attach_scripts"}," Нужно добавить скрипты ",-1),$U={key:1,class:"col-12 mb-3"},kU=["onClick"],wU={class:"row"},CU={class:"col-12"},FU={type:"submit",class:"btn btn-outline-success w-100 p-3"},TU={key:0},DU={key:1},SU={props:["code","bot"],data(){return{step:0,load:!1,need_reset:!1,need_cashback:!1,need_slots:!1,need_attach_scripts:!1,promoCodeForm:{id:null,code:null,description:null,slot_amount:0,cashback_amount:0,max_activation_count:1,is_active:!1,scripts:[]}}},computed:{getSelf(){return window.profile}},watch:{promoCodeForm:{handler(s){this.need_reset=!0},deep:!0}},mounted(){this.code&&this.$nextTick(()=>{this.promoCodeForm={id:this.code.id||null,description:this.code.description||null,code:this.code.code||null,slot_amount:this.code.slot_amount||0,cashback_amount:this.code.cashback_amount||0,max_activation_count:this.code.max_activation_count||1,is_active:this.code.is_active||!1,scripts:this.code.scripts||[]},this.promoCodeForm.slot_amount>0&&(this.need_slots=!0),this.promoCodeForm.cashback_amount>0&&(this.need_slots=!0),this.promoCodeForm.scripts.length>0&&(this.need_attach_scripts=!0)})},methods:{removeSlug(s){this.promoCodeForm.scripts.splice(s,1)},selectSlugsCallback(s){this.promoCodeForm.scripts.findIndex(n=>n.id===s.id)===-1&&this.promoCodeForm.scripts.push(s)},submitForm(){let s=new FormData;Object.keys(this.promoCodeForm).forEach(e=>{const n=this.promoCodeForm[e]||"";typeof n=="object"?s.append(e,JSON.stringify(n)):s.append(e,n)}),s.append("bot_id",this.bot.id),this.$store.dispatch("storePromoCodes",{promoCodeForm:s}).then(e=>{this.promoCodeForm={id:null,code:null,description:null,slot_amount:0,cashback_amount:0,max_activation_count:1,scripts:[],is_active:!1},this.$emit("callback",e.data),this.$notify("Промокод успешно создан")}).catch(e=>{this.$notify("Ошибка создания промокода")})}}},Vo=Object.assign(SU,{__name:"PromoCodesForm",setup(s){return(e,n)=>{const a=pt("Popper");return i(),d("form",{onSubmit:n[9]||(n[9]=Fe((...o)=>e.submitForm&&e.submitForm(...o),["prevent"])),class:"py-3"},[t("div",RR,[t("div",UR,[t("label",VR,[E(a,{content:"Название вашего квиза"},{default:O(()=>[YR]),_:1}),w(" Промокод (вписать или сгенерировать) "),BR]),b(t("input",{type:"text",class:"form-control",placeholder:"Название","aria-label":"Название","onUpdate:modelValue":n[0]||(n[0]=o=>e.promoCodeForm.code=o),maxlength:"255","aria-describedby":"quiz-title",required:""},null,512),[[G,e.promoCodeForm.code]])]),t("div",NR,[t("label",QR,[E(a,null,{content:O(()=>[xR]),default:O(()=>[ER]),_:1}),w(" Назначение промокода "),LR,e.promoCodeForm.description?(i(),d("small",HR," Длина текста "+v(e.promoCodeForm.description.length)+"/255",1)):c("",!0)]),b(t("textarea",{class:"form-control",placeholder:"Описание промокода","aria-label":"Описание промокода",maxlength:"255","onUpdate:modelValue":n[1]||(n[1]=o=>e.promoCodeForm.description=o),"aria-describedby":"quiz-description",required:""},`
                    `,512),[[G,e.promoCodeForm.description]])]),t("div",WR,[t("div",KR,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[2]||(n[2]=o=>e.promoCodeForm.is_active=o),type:"checkbox",id:"is_active"},null,512),[[ke,e.promoCodeForm.is_active]]),XR])]),t("div",GR,[t("label",ZR,[E(a,null,{content:O(()=>[eU]),default:O(()=>[JR]),_:1}),w(" Количество активация кода "),tU]),b(t("input",{type:"number",class:"form-control",placeholder:"Число попыток","aria-label":"Число попыток",step:"1",min:"1","onUpdate:modelValue":n[3]||(n[3]=o=>e.promoCodeForm.max_activation_count=o),"aria-describedby":"promoCodeForm-max_activation_count",required:""},null,512),[[G,e.promoCodeForm.max_activation_count]])]),t("div",sU,[t("div",nU,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[4]||(n[4]=o=>e.need_cashback=o),type:"checkbox",id:"promoCodeForm-cashback_amount"},null,512),[[ke,e.need_cashback]]),oU])]),e.need_cashback?(i(),d("div",aU,[t("label",lU,[E(a,null,{content:O(()=>[rU]),default:O(()=>[iU]),_:1}),w(" Сколько CashBack начислить по промокоду? "),dU]),b(t("input",{type:"number",class:"form-control",placeholder:"Процент для победы","aria-label":"Процент для победы",step:"1",min:"0","onUpdate:modelValue":n[5]||(n[5]=o=>e.promoCodeForm.cashback_amount=o),"aria-describedby":"promoCodeForm-cashback_amount",required:""},null,512),[[G,e.promoCodeForm.cashback_amount]])])):c("",!0),e.getSelf.is_admin?(i(),d("div",uU,[t("div",cU,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[6]||(n[6]=o=>e.need_slots=o),type:"checkbox",id:"promoCodeForm-need_slots"},null,512),[[ke,e.need_slots]]),mU])])):c("",!0),e.need_slots?(i(),d("div",pU,[t("label",hU,[E(a,null,{content:O(()=>[fU]),default:O(()=>[_U]),_:1}),w(" Сколько нужно добавить слотов? "),vU]),b(t("input",{type:"number",class:"form-control",placeholder:"Количество слотов","aria-label":"Количество слотов",step:"1",min:"0","onUpdate:modelValue":n[7]||(n[7]=o=>e.promoCodeForm.slot_amount=o),"aria-describedby":"promoCodeForm-slot_amount",required:""},null,512),[[G,e.promoCodeForm.slot_amount]])])):c("",!0)]),e.getSelf.is_admin?(i(),d("div",bU,[t("div",gU,[b(t("input",{class:"form-check-input","onUpdate:modelValue":n[8]||(n[8]=o=>e.need_attach_scripts=o),type:"checkbox",id:"promoCodeForm-need_attach_scripts"},null,512),[[ke,e.need_attach_scripts]]),yU])])):c("",!0),e.need_attach_scripts?(i(),d("div",$U,[t("p",null,[(i(!0),d(R,null,J(e.promoCodeForm.scripts,(o,l)=>(i(),d("span",{class:"badge bg-primary mr-2 mb-2 cursor-pointer",onClick:r=>e.removeSlug(l)},v(o.command||"-"),9,kU))),256))]),s.bot?(i(),Q(Un,{key:0,"can-add":!0,bot:s.bot,"hide-add-modal":!0,onSelect:e.selectSlugsCallback},null,8,["bot","onSelect"])):c("",!0)])):c("",!0),t("div",wU,[t("div",CU,[t("button",FU,[e.promoCodeForm.id==null?(i(),d("span",TU,"Создать промокод")):(i(),d("span",DU,"Обновить промокод"))])])])],32)}}}),PU={class:"row py-2"},OU={class:"col-12"},MU={class:"input-group mb-3"},AU={class:"col-12"},jU={key:0,class:"table"},qU=t("th",{scope:"col",class:"cursor-pointer"},"Число активаций",-1),zU=t("th",{scope:"col"},"Действие",-1),IU={scope:"row"},RU=["onClick"],UU={key:0},VU={key:0,class:"fa-solid fa-chevron-down text-success"},YU={key:1,class:"fa-solid fa-xmark text-danger"},BU={key:0,class:"dropdown"},NU=t("button",{class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-ellipsis"})],-1),QU={class:"dropdown-menu"},EU={key:0},xU=["onClick"],LU={key:1},HU=t("div",{class:"alert alert-warning alert-dismissible fade show",role:"alert"},[t("strong",null,"Внимание!"),w(" Вы еще не добавили ни одного промокода! "),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})],-1),WU={class:"position-relative p-5 text-center text-muted bg-body border border-dashed rounded-2"},KU={class:"d-flex justify-content-center mb-3"},XU={alt:"",width:"100",height:"100"},GU=t("h1",{class:"text-body-emphasis"},"Создание промокода",-1),ZU=t("p",{class:"col-lg-8 mx-auto fs-5 text-muted"}," Промокод - это инструмент мотивации пользователей пользоваться вашим сервисом. Он позволяет клиентам получать некоторые бонусы за активацию кода, а вы в свою очередь будете видеть статистику активация прмокода. ",-1),JU={class:"d-inline-flex gap-2 mb-5"},eV=t("a",{href:"#",target:"_blank",class:"d-inline-flex align-items-center btn btn-outline-secondary btn-lg px-4 rounded-pill"}," Подробнее ",-1),tV={key:0,class:"col-12"},sV={props:["bot"],data(){return{direction:"desc",order:"updated_at",show:!0,loading:!0,codes:[],search:null,paginate_object:null}},computed:{...Ne(["getPromoCodes","getPromoCodesPaginateObject"]),getSelf(){return window.profile}},mounted(){this.loadPromoCodes()},methods:{removeQuiz(s){this.loading=!0,this.$store.dispatch("removePromoCodes",{promoCodeId:s}).then(e=>{this.loading=!1,this.loadPromoCodes(0),this.$notify("Промокод успешно удален")}).catch(()=>{this.loading=!1,this.$notify("Ошибка удаления промокода")})},createPromoCode(){this.$emit("create")},nextPromoCodes(s){this.loadPromoCodes(s)},selectEvent(s){this.$emit("select",s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadPromoCodes(0)},loadPromoCodes(s=0){this.loading=!0,this.$store.dispatch("loadPromoCodes",{dataObject:{bot_id:this.bot.id||null,search:this.search,order:this.order,direction:this.direction},page:s,size:20}).then(e=>{this.loading=!1,this.codes=this.getPromoCodes,this.paginate_object=this.getPromoCodesPaginateObject}).catch(()=>{this.loading=!1})}}},nV=Object.assign(sV,{__name:"PromoCodesTable",setup(s){return(e,n)=>{const a=ns("lazy");return i(),d("div",PU,[t("div",OU,[t("div",MU,[b(t("input",{type:"search",class:"form-control",placeholder:"Поиск кода","aria-label":"Поиск кода","onUpdate:modelValue":n[0]||(n[0]=o=>e.search=o),"aria-describedby":"promocode-search-and-filter"},null,512),[[G,e.search]]),t("button",{class:"btn btn-outline-secondary",onClick:n[1]||(n[1]=o=>e.loadPromoCodes(0)),type:"button",id:"promocode-search-and-filter"},"Найти ")])]),t("div",AU,[e.codes.length>0?(i(),d("table",jU,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[2]||(n[2]=o=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[3]||(n[3]=o=>e.loadAndOrder("code"))},"Код"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[4]||(n[4]=o=>e.loadAndOrder("description"))},"Описание"),e.getSelf.is_admin?(i(),d("th",{key:0,scope:"col",class:"cursor-pointer",onClick:n[5]||(n[5]=o=>e.loadAndOrder("slot_amount"))},"Число слотов ")):c("",!0),t("th",{scope:"col",class:"cursor-pointer",onClick:n[6]||(n[6]=o=>e.loadAndOrder("cashback_amount"))},"Величина CashBack-а, руб "),t("th",{scope:"col",class:"cursor-pointer",onClick:n[7]||(n[7]=o=>e.loadAndOrder("max_activation_count"))},"Максимальное число активаций "),qU,t("th",{scope:"col",class:"cursor-pointer",onClick:n[8]||(n[8]=o=>e.loadAndOrder("is_active"))},"Активный"),zU])]),t("tbody",null,[(i(!0),d(R,null,J(e.codes,(o,l)=>(i(),d("tr",{class:P({"border-info":o.deleted_at==null,"border-danger":o.deleted_at!=null})},[t("th",IU,v(o.id),1),t("td",{onClick:r=>e.selectEvent(o)},v(o.code||"Не указано"),9,RU),t("td",null,v(o.description||"Не указано"),1),e.getSelf.is_admin?(i(),d("td",UU,v(o.slot_amount),1)):c("",!0),t("td",null,v(o.cashback_amount),1),t("td",null,v(o.max_activation_count),1),t("td",null,v(o.current_activation_count||0),1),t("td",null,[o.is_active?(i(),d("i",VU)):(i(),d("i",YU))]),t("td",null,[o.id?(i(),d("div",BU,[NU,t("ul",QU,[o.deleted_at==null?(i(),d("li",EU,[t("a",{class:"dropdown-item",onClick:r=>e.removeQuiz(o.id),href:"javascript:void(0)"},"Удалить",8,xU)])):c("",!0)])])):c("",!0)])],2))),256))])])):(i(),d("div",LU,[HU,t("div",WU,[t("div",KU,[b(t("img",XU,null,512),[[a,"../images/icon.png"]])]),GU,ZU,t("div",JU,[t("button",{onClick:n[9]||(n[9]=(...o)=>e.createPromoCode&&e.createPromoCode(...o)),class:"d-inline-flex align-items-center btn btn-lg px-4 rounded-pill btn-primary",type:"button"}," Добавить "),eV])])]))]),e.codes.length>0?(i(),d("div",tV,[e.paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextPromoCodes,pagination:e.paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])):c("",!0)])}}}),oV={key:0,class:"py-2"},aV={class:"row"},lV={class:"col-12"},iV={key:1,class:"py-2"},rV={class:"row"},dV={class:"col-12"},uV={key:2,class:"py-2"},cV={class:"row"},mV={class:"col-12"},pV={class:"nav nav-tabs justify-content-center"},hV={key:0,class:"row py-3"},_V={class:"col-12"},fV={key:1,class:"row py-3"},vV=t("div",{class:"col-12 py-3"},[t("h4",null,"Статистика")],-1),bV=[vV],gV={props:["bot"],data(){return{part:0,tab:0,selectedPromoCode:null,loadForm:!1,loadTable:!1}},methods:{callbackForm(){this.loadTable=!0,this.selectedPromoCode=null,this.part=0,this.$nextTick(()=>{this.loadTable=!1})},createPromoCode(){this.part=2},selectPromoCode(s){this.loadForm=!0,this.$nextTick(()=>{this.loadForm=!1,this.selectedPromoCode=s,this.part=1,this.tab=0})}}},yV=Object.assign(gV,{__name:"PromoCodes",setup(s){return(e,n)=>(i(),d(R,null,[e.part===0?(i(),d("div",oV,[t("div",aV,[t("div",lV,[t("button",{type:"button",onClick:n[0]||(n[0]=(...a)=>e.createPromoCode&&e.createPromoCode(...a)),class:"btn btn-primary"}," Создать новый промокод ")])]),e.loadTable?c("",!0):(i(),Q(nV,{key:0,onCreate:e.createPromoCode,onSelect:e.selectPromoCode,bot:s.bot},null,8,["onCreate","onSelect","bot"]))])):c("",!0),e.part===2?(i(),d("div",iV,[t("div",rV,[t("div",dV,[t("button",{type:"button",onClick:n[1]||(n[1]=a=>e.part=0),class:"btn btn-outline-primary"}," Назад ")])]),e.loadForm?c("",!0):(i(),Q(Vo,{key:0,onCallback:e.callbackForm,bot:s.bot},null,8,["onCallback","bot"]))])):c("",!0),e.part===1?(i(),d("div",uV,[t("div",cV,[t("div",mV,[t("button",{type:"button",onClick:n[2]||(n[2]=a=>e.part=0),class:"btn btn-outline-primary"}," Назад ")])]),t("ul",pV,[t("li",{class:"nav-item",onClick:n[3]||(n[3]=a=>e.tab=0)},[t("a",{class:P(["nav-link",{active:e.tab===0}]),"aria-current":"page",href:"javascript:void(0)"},"Информация о Промокоде",2)]),t("li",{class:"nav-item",onClick:n[4]||(n[4]=a=>e.tab=1)},[t("a",{class:P(["nav-link",{active:e.tab===1}]),href:"javascript:void(0)"},"Статистика использования",2)])]),e.tab===0?(i(),d("div",hV,[t("div",_V,[e.loadForm?c("",!0):(i(),Q(Vo,{key:0,onCallback:e.callbackForm,code:e.selectedPromoCode,bot:s.bot},null,8,["onCallback","code","bot"]))])])):c("",!0),e.tab===1?(i(),d("div",fV,bV)):c("",!0)])):c("",!0)],64))}});const $V={class:"d-flex custom-dropdown justify-content-between align-items-center"},kV={class:"btn-group"},wV=t("i",{class:"fa-solid fa-info mr-2"},null,-1),CV=t("i",{class:"fa-solid fa-file mr-2"},null,-1),FV={key:0,class:"dropdown"},TV=t("button",{type:"button",class:"btn btn-primary dropdown-toggle text-primary p-2",href:"#",role:"button",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-solid fa-screwdriver-wrench mr-2"})],-1),DV={class:"dropdown-menu","aria-labelledby":"dropdownMenuLink"},SV=t("i",{class:"fa-regular fa-newspaper mr-2"},null,-1),PV=t("i",{class:"fa-regular fa-calendar-days mr-2"},null,-1),OV=t("i",{class:"fa-solid fa-q mr-2"},null,-1),MV=t("i",{class:"fa-solid fa-q mr-2"},null,-1),AV=t("i",{class:"fa-solid fa-clipboard-list mr-2"},null,-1),jV=t("i",{class:"fa-solid fa-code mr-2"},null,-1),qV=t("i",{class:"fa-solid fa-keyboard mr-2"},null,-1),zV=t("i",{class:"fa-solid fa-scroll mr-2"},null,-1),IV=t("i",{class:"fa-solid fa-comment-dots mr-2"},null,-1),RV=t("i",{class:"fa-solid fa-users mr-2"},null,-1),UV=t("i",{class:"fa-solid fa-list-check mr-2"},null,-1),VV=t("i",{class:"fa-solid fa-list-check mr-2"},null,-1),YV=t("i",{class:"fa-brands fa-shopify mr-2"},null,-1),BV=t("i",{class:"fa-brands fa-shopify mr-2"},null,-1),NV={key:0,class:"pb-5 mb-5"},QV={key:1,class:"pb-5 mb-5"},EV={key:2,class:"pb-5 mb-5"},xV={key:3,class:"pb-5 mb-5"},LV={key:4,class:"pb-5 mb-5"},HV={key:5,class:"pb-5 mb-5"},WV={key:6,class:"pb-5 mb-5"},KV={key:7,class:"pb-5 pt-2 mb-5"},XV={key:8,class:"pb-5 mb-5"},GV={key:9,class:"pb-5 mb-5 pt-2"},ZV={key:10,class:"pb-5 mb-5"},JV={key:11,class:"pb-5 mb-5 pt-2"},eY={key:12,class:"pb-5 mb-5 pt-2"},tY={key:13,class:"pb-5 mb-5 pt-2"},sY={key:14,class:"row pb-5 mb-5"},nY={key:0,class:"col-12 col-md-12"},oY={key:15,class:"pb-5 mb-5"},aY={props:["bot"],data(){return{page:null,step:0,load:!1,loadPage:!1}},mounted(){this.setStep(localStorage.getItem("cashman_set_botform_step_index")||0)},methods:{botCallbackUpdate(s){this.$store.dispatch("updateCurrentBot",{bot:s}).then(()=>{})},hasRole(s){return window.hasRole(s)||!1},setStep(s){this.step=parseInt(s),localStorage.setItem("cashman_set_botform_step_index",s)},pageListCallback(s){this.loadPage=!0,this.page=s,this.$nextTick(()=>{this.loadPage=!1})},pageCallback(s){this.page=s,this.loadPageList=!0,this.$nextTick(()=>{this.loadPageList=!1})},loadCurrentCompany(s=null){this.$store.dispatch("updateCurrentCompany",{company:s}).then(()=>{this.company=this.getCurrentCompany})},companyListCallback(s){this.load=!0,this.loadCurrentCompany(s),this.$nextTick(()=>{this.load=!1})}}},eN=Object.assign(aY,{__name:"BotSection",setup(s){return(e,n)=>(i(),d(R,null,[t("div",$V,[t("div",kV,[t("button",{type:"button",class:P(["btn btn-primary text-primary",{"bg-primary text-white":e.step==0}]),onClick:n[0]||(n[0]=a=>e.setStep(0))},[wV,w("Информация о боте ")],2),t("button",{type:"button",class:P(["btn btn-primary text-primary",{"bg-primary text-white":e.step==4}]),onClick:n[1]||(n[1]=a=>e.setStep(4))},[CV,w("Страницы (кнопки бота) ")],2)]),e.hasRole("admin")?(i(),d("div",FV,[TV,t("ul",DV,[t("li",null,[t("a",{class:"dropdown-item",href:"#bot-news",onClick:n[2]||(n[2]=a=>e.setStep(9))},[SV,w(" Рассылки")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-appointments",onClick:n[3]||(n[3]=a=>e.setStep(13))},[PV,w("Запись на событие (прием)")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-quizzes",onClick:n[4]||(n[4]=a=>e.setStep(14))},[OV,w("Квизы")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-promo-codes",onClick:n[5]||(n[5]=a=>e.setStep(16))},[MV,w("Промокоды")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-inline-queries",onClick:n[6]||(n[6]=a=>e.setStep(15))},[AV,w("Встраиваемые запросы")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-custom-fields",onClick:n[7]||(n[7]=a=>e.setStep(10))},[jV,w("Настраиваемые поля")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-menu-template",onClick:n[8]||(n[8]=a=>e.setStep(1))},[qV,w("Все клавиатуры в боте")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-slugs",onClick:n[9]||(n[9]=a=>e.setStep(2))},[zV,w("Все скрипты в боте")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-dialogs",onClick:n[10]||(n[10]=a=>e.setStep(6))},[IV,w("Все диалоги в боте")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-users",onClick:n[11]||(n[11]=a=>e.setStep(3))},[RV,w("Все пользователи в боте")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-amo",onClick:n[12]||(n[12]=a=>e.setStep(7))},[UV,w(" AMO CRM")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-y-clients",onClick:n[13]||(n[13]=a=>e.setStep(12))},[VV,w(" YClients")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-shop",onClick:n[14]||(n[14]=a=>e.setStep(8))},[YV,w(" Магазин")])]),t("li",null,[t("a",{class:"dropdown-item",href:"#bot-media",onClick:n[15]||(n[15]=a=>e.setStep(11))},[BV,w(" Медиа файлы бота")])])])])):c("",!0)]),e.step===14?(i(),d("div",NV,[e.load?c("",!0):(i(),Q($z,{key:0,bot:s.bot},null,8,["bot"]))])):c("",!0),e.step===16?(i(),d("div",QV,[e.load?c("",!0):(i(),Q(yV,{key:0,bot:s.bot},null,8,["bot"]))])):c("",!0),e.step===13?(i(),d("div",EV,[e.load?c("",!0):(i(),Q(lO,{key:0,bot:s.bot},null,8,["bot"]))])):c("",!0),e.step===0?(i(),d("div",xV,[e.load?c("",!0):(i(),Q(Ea,{key:0,onCallback:e.botCallbackUpdate,bot:s.bot},null,8,["onCallback","bot"]))])):c("",!0),e.step===15?(i(),d("div",LV,[e.load?c("",!0):(i(),Q(IR,{key:0,bot:s.bot},null,8,["bot"]))])):c("",!0),e.step===7?(i(),d("div",HV,[e.load?c("",!0):(i(),Q(qk,{key:0,data:s.bot.amo},null,8,["data"]))])):c("",!0),e.step===12?(i(),d("div",WV,[e.load?c("",!0):(i(),Q(Kk,{key:0,data:s.bot.y_clients},null,8,["data"]))])):c("",!0),e.step===11?(i(),d("div",KV,[e.load?c("",!0):(i(),Q(Tw,{key:0}))])):c("",!0),e.step===8?(i(),d("div",XV,[e.load?c("",!0):(i(),Q(dk,{key:0}))])):c("",!0),e.step===10?(i(),d("div",GV,[e.load?c("",!0):(i(),Q(W2,{key:0}))])):c("",!0),e.step===1?(i(),d("div",ZV,[e.load?c("",!0):(i(),Q(cs,{key:0,"select-mode":!1}))])):c("",!0),e.step===6?(i(),d("div",JV,[e.load?c("",!0):(i(),Q(No,{key:0}))])):c("",!0),e.step===2?(i(),d("div",eY,[e.load?c("",!0):(i(),Q(Sr,{key:0}))])):c("",!0),e.step===3?(i(),d("div",tY,[e.load?c("",!0):(i(),Q(Gs,{key:0}))])):c("",!0),e.step===4?(i(),d("div",sY,[e.load?c("",!0):(i(),d("div",nY,[e.loadPage?c("",!0):(i(),Q(cy,{key:0,page:e.page,onCallback:e.pageCallback},null,8,["page","onCallback"]))]))])):c("",!0),e.step===9?(i(),d("div",oY,[E(l2,{bot:s.bot},null,8,["bot"])])):c("",!0)],64))}}),lY={key:0},iY={key:0,class:"row"},rY={class:"col-md-12"},dY=t("h4",null,"Боты в работе",-1),uY={class:"mb-0"},cY={class:"table mb-5"},mY=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"Домен"),t("th",{scope:"col"},"Название"),t("th",{scope:"col"},"Шаблон"),t("th",{scope:"col"},"Дата изменения"),t("th",{scope:"col"},"Действие")])],-1),pY={scope:"row"},hY=["onClick"],_Y=["onClick"],fY={key:0,class:"badge bg-primary"},vY={key:1},bY={class:"d-flex"},gY=["onClick"],yY=t("i",{class:"fa-regular fa-star"},null,-1),$Y=[yY],kY=["onClick"],wY=t("i",{class:"fa-solid fa-chevron-down"},null,-1),CY=[wY],FY=["onClick"],TY=t("i",{class:"fa-solid fa-chevron-up"},null,-1),DY=[TY],SY=t("hr",null,null,-1),PY={class:"row"},OY={class:"col-md-12 d-flex flex-column"},MY={class:"d-flex"},AY={class:"dropdown mr-2"},jY=t("button",{class:"btn btn-outline-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," Фильтры ",-1),qY={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},zY=["onClick"],IY={class:"input-group mb-3"},RY={key:0,class:"mt-2"},UY={class:"badge bg-primary mr-1"},VY=["onClick"],YY=t("i",{class:"fa-solid fa-xmark"},null,-1),BY=[YY],NY={key:1,class:"row"},QY={class:"col-12"},EY=t("h4",null,"Все боты",-1),xY={class:"mb-0"},LY={class:"mb-0"},HY={key:2,class:"row"},WY={class:"col-12 mb-3"},KY={key:0,class:"col-12 mb-3"},XY={class:"table"},GY=t("th",{scope:"col"},"Действие",-1),ZY={scope:"row"},JY=["onClick"],eB=["onClick"],tB={key:0,class:"badge bg-primary"},sB={key:1},nB={class:"d-flex"},oB=["onClick"],aB=t("i",{class:"fa-regular fa-star"},null,-1),lB=[aB],iB=["onClick"],rB=t("i",{class:"fa-regular fa-copy"},null,-1),dB=[rB],uB=["onClick"],cB=t("i",{class:"fa-solid fa-boxes-packing"},null,-1),mB=[cB],pB=["onClick"],hB=t("i",{class:"fa-solid fa-box-open"},null,-1),_B=[hB],fB=["onClick"],vB=t("i",{class:"fa-solid fa-trash-can text-white"},null,-1),bB=[vB],gB={class:"col-lg-4 col-12 mb-3"},yB={class:"card-body"},$B=["onClick"],kB={key:0,class:"badge bg-info"},wB={class:"card-footer d-flex"},CB=["onClick"],FB=t("i",{class:"fa-regular fa-star"},null,-1),TB=[FB],DB=["onClick"],SB=t("i",{class:"fa-regular fa-copy"},null,-1),PB=[SB],OB=["onClick"],MB=t("i",{class:"fa-solid fa-boxes-packing"},null,-1),AB=[MB],jB=["onClick"],qB=t("i",{class:"fa-solid fa-box-open"},null,-1),zB=[qB],IB=["onClick"],RB=t("i",{class:"fa-solid fa-trash-can text-white"},null,-1),UB=[RB],VB={class:"col-12"},YB={key:3,class:"row"},BB=t("div",{class:"col-12"},[t("div",{class:"alert alert-warning",role:"alert"}," У выбранной компании нет созданных ботов! ")],-1),NB=[BB],QB={props:["companyId","editor"],data(){return{displayType:1,direction:"desc",order:"updated_at",filters:[{name:"Активные",icon:"fa-brands fa-telegram",slug:"active"},{name:"Архивные",icon:"fa-solid fa-box-archive",slug:"archive"}],selectedFilters:[],show:!0,loading:!0,bots:[],favorites:[],search:null,bots_paginate_object:null}},watch:{displayType:function(s,e){localStorage.setItem("cashman_set_botlist_display_type",this.displayType)},selectedFilters:{handler:function(s){this.loadBots()},deep:!0}},computed:{...Ne(["getBots","getBotsPaginateObject","getCurrentCompany","getBotFavorites","inBotFav"]),filteredBots(){if(!this.bots)return[];if(this.selectedFilters.length===0&&this.search==null)return this.bots;if(this.selectedFilters.length===0&&this.search!=null)return this.bots.filter(e=>(e.bot_domain||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1);let s=[];return this.selectedFilters.forEach(e=>{switch(e.slug){case"active":this.bots.filter(n=>n.deleted_at==null).forEach(n=>{s.push(n)});break;case"archive":this.bots.filter(n=>n.deleted_at!=null).forEach(n=>{s.push(n)});break}}),this.search==null?s:s.filter(e=>(e.bot_domain||"").trim().toLowerCase().indexOf(this.search.trim().toLowerCase())!==-1)}},mounted(){this.selectFilter("active"),this.displayType=parseInt(localStorage.getItem("cashman_set_botlist_display_type")||0)},methods:{hasRole(s){return window.hasRole(s)||!1},loadBotsByIds(){if(this.getBotFavorites.length==0){this.favorites=[];return}this.loading=!0,this.$store.dispatch("loadBotsByIds",{ids:this.getBotFavorites}).then(s=>{this.loading=!1,this.favorites=s}).catch(()=>{this.loading=!1})},prepareFavorites(){this.$store.dispatch("loadBotFavs").then(s=>{this.loadBotsByIds()})},moveOrderFavBot(s,e){this.$store.dispatch("swapBotInFav",{id:s,direction:e}).then(n=>{this.loadBotsByIds()})},addToFavorite(s){if(this.inBotFav(s)){this.$store.dispatch("removeFromBotFavorites",s).then(e=>{this.$notify("Указанный бот успешно удален из избранного"),this.loadBotsByIds()});return}this.$store.dispatch("addBotToFavorites",s).then(e=>{this.$notify("Указанный бот успешно добавлен в избранное"),this.loadBotsByIds()})},duplicate(s){if(!this.getCurrentCompany){this.$notify("У Вас не выбран клиент!");return}this.$store.dispatch("duplicateBot",{dataObject:{bot_id:s,company_id:this.getCurrentCompany.id}}).then(e=>{let n=this.bots_paginate_object.meta.current_page||0;this.loadBots(n),this.$notify("Указанный бот успешно продублирован")})},addToArchive(s){this.$store.dispatch("removeBot",{botId:s}).then(e=>{let n=this.bots_paginate_object.meta.current_page||0;this.$store.dispatch("resetCurrentBot"),this.loadBots(n),this.$notify("Указанный бот успешно перемещен в архив")})},forceDelete(s){this.$store.dispatch("forceDeleteBot",{botId:s}).then(e=>{let n=this.bots_paginate_object.meta.current_page||0;this.$store.dispatch("resetCurrentBot"),this.loadBots(n),this.$notify("Указанный бот успешно перемещен из архива")})},extractFromArchive(s){this.$store.dispatch("restoreBot",{botId:s}).then(e=>{let n=this.bots_paginate_object.meta.current_page||0;this.loadBots(n),this.$notify("Указанный бот успешно перемещен из архива")})},selectFilter(s){let e=this.filters.find(n=>n.slug===s);e&&this.selectedFilters.filter(n=>n.slug===s).length===0&&this.selectedFilters.push(e)},removeSelectedFilter(s){let e=this.selectedFilters.findIndex(n=>n.slug===s);this.selectedFilters.splice(e,1)},selectBot(s){this.$emit("callback",s),this.show=!1,this.$notify("Вы выбрали бота из списка! Все остальные действия будут производится для этого бота.")},nextBots(s){this.loadBots(s)},loadAndOrder(s){this.order=s,this.direction=this.direction==="desc"?"asc":"desc",this.loadBots(0)},loadBots(s=0){this.loading=!0,this.$store.dispatch("loadBots",{dataObject:{companyId:this.companyId||null,search:this.search,order:this.order,direction:this.direction,filters:this.selectedFilters.map(e=>e.slug)},page:s,size:20}).then(e=>{this.loading=!1,this.bots=this.getBots,this.bots_paginate_object=this.getBotsPaginateObject,this.prepareFavorites()}).catch(()=>{this.loading=!1})}}},tN=Object.assign(QB,{__name:"BotList",setup(s){return(e,n)=>e.show?(i(),d("div",lY,[e.favorites.length>0?(i(),d("div",iY,[t("div",rY,[dY,t("p",uY,"Количество ботов в работе "+v(e.favorites.length||0),1),t("table",cY,[mY,t("tbody",null,[(i(!0),d(R,null,J(e.favorites,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",pY,v(a.id),1),t("td",{onClick:l=>e.selectBot(a)},[t("i",{class:P([{"text-danger":a.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),w(" "+v(a.bot_domain||"Не указано"),1)],8,hY),t("td",{onClick:l=>e.selectBot(a)},v(a.title||"Не указано"),9,_Y),t("td",null,[a.is_template?(i(),d("span",fY,v(a.template_description||"Не указано"),1)):(i(),d("span",vY,"Не является шаблоном"))]),t("td",null,v(e.$filters.current(a.updated_at)),1),t("td",null,[t("div",bY,[t("button",{class:P(["btn btn-outline-danger mr-2",{"btn-danger text-white":e.inBotFav(a.id)}]),type:"button",onClick:l=>e.addToFavorite(a.id),title:"Добавить в избранное"},$Y,10,gY),e.favorites.length>1?(i(),d("button",{key:0,class:"btn btn-outline-primary mr-2",type:"button",onClick:l=>e.moveOrderFavBot(a.id,1),title:"Переместить вниз"},CY,8,kY)):c("",!0),e.favorites.length>1?(i(),d("button",{key:1,class:"btn btn-outline-primary mr-2",type:"button",onClick:l=>e.moveOrderFavBot(a.id,0),title:"Переместить вверх"},DY,8,FY)):c("",!0)])])],2))),256))])]),SY])])):c("",!0),t("div",PY,[t("div",OY,[t("div",MY,[t("div",AY,[jY,t("ul",qY,[(i(!0),d(R,null,J(e.filters,a=>(i(),d("li",null,[t("a",{class:"dropdown-item",onClick:o=>e.selectFilter(a.slug),href:"#filter"},[t("i",{class:P([a.icon,"mr-2"])},null,2),w(" "+v(a.name||"Не указано"),1)],8,zY)]))),256))])]),t("div",IY,[b(t("input",{type:"search",class:"form-control",placeholder:"Поиск бота","aria-label":"Поиск бота","onUpdate:modelValue":n[0]||(n[0]=a=>e.search=a),onKeydown:n[1]||(n[1]=Pe((...a)=>e.loadBots&&e.loadBots(...a),["enter"])),"aria-describedby":"button-addon2"},null,544),[[G,e.search]]),t("button",{class:"btn btn-outline-secondary",onClick:n[2]||(n[2]=(...a)=>e.loadBots&&e.loadBots(...a)),type:"button",id:"button-addon2"},"Найти ")])]),e.selectedFilters.length>0?(i(),d("p",RY,[(i(!0),d(R,null,J(e.selectedFilters,a=>(i(),d("span",UY,[w(v(a.name||"не указан")+" ",1),t("a",{onClick:o=>e.removeSelectedFilter(a.slug),class:"ml-1 text-white",href:"#filter"},BY,8,VY)]))),256))])):c("",!0)])]),e.bots_paginate_object?(i(),d("div",NY,[t("div",QY,[EY,t("p",xY,"Количество найденных ботов "+v(e.bots_paginate_object.meta.total||0),1),t("p",LY,"Количество результатов на странице "+v(e.bots.length||0),1),t("p",null,[w(" Тип отображения списка: "),t("span",{onClick:n[3]||(n[3]=a=>e.displayType=0),class:P([{"bg-primary":e.displayType===0,"bg-secondary":e.displayType!==0},"badge cursor-pointer mr-2"])},"Карточки",2),t("span",{class:P([{"bg-primary":e.displayType===1,"bg-secondary":e.displayType!==1},"badge cursor-pointer mr-2"]),onClick:n[4]||(n[4]=a=>e.displayType=1)},"Таблица",2)])])])):c("",!0),e.bots.length>0?(i(),d("div",HY,[t("div",WY,[s.editor?c("",!0):(i(),d("button",{key:0,type:"button",class:"btn btn-outline-info",onClick:n[5]||(n[5]=a=>e.selectBot(null))},"Создать нового бота "))]),e.displayType===1?(i(),d("div",KY,[t("table",XY,[t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"cursor-pointer",onClick:n[6]||(n[6]=a=>e.loadAndOrder("id"))},"#"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[7]||(n[7]=a=>e.loadAndOrder("bot_domain"))},"Домен"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[8]||(n[8]=a=>e.loadAndOrder("title"))},"Название"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[9]||(n[9]=a=>e.loadAndOrder("template_description"))},"Шаблон"),t("th",{scope:"col",class:"cursor-pointer",onClick:n[10]||(n[10]=a=>e.loadAndOrder("updated_at"))},"Дата изменения"),GY])]),t("tbody",null,[(i(!0),d(R,null,J(e.bots,(a,o)=>(i(),d("tr",{class:P({"border-info":a.deleted_at==null,"border-danger":a.deleted_at!=null})},[t("th",ZY,v(a.id),1),t("td",{onClick:l=>e.selectBot(a)},[t("i",{class:P([{"text-danger":a.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),w(" "+v(a.bot_domain||"Не указано"),1)],8,JY),t("td",{onClick:l=>e.selectBot(a)},v(a.title||"Не указано"),9,eB),t("td",null,[a.is_template?(i(),d("span",tB,v(a.template_description||"Не указано"),1)):(i(),d("span",sB,"Не является шаблоном"))]),t("td",null,v(e.$filters.current(a.updated_at)),1),t("td",null,[t("div",nB,[t("button",{class:P(["btn btn-outline-danger mr-2",{"btn-danger text-white":e.inBotFav(a.id)}]),type:"button",onClick:l=>e.addToFavorite(a.id),title:"Добавить в избранное"},lB,10,oB),t("button",{class:"btn btn-outline-info mr-2",type:"button",onClick:l=>e.duplicate(a.id),title:"Дублировать"},dB,8,iB),a.deleted_at==null&&e.hasRole("admin")?(i(),d("button",{key:0,class:"btn btn-outline-info",type:"button",onClick:l=>e.addToArchive(a.id),title:"В архив"},mB,8,uB)):c("",!0),a.deleted_at!=null&&e.hasRole("admin")?(i(),d("button",{key:1,class:"btn btn-outline-info mr-2",onClick:l=>e.extractFromArchive(a.id),title:"Из архива"},_B,8,pB)):c("",!0),a.deleted_at!=null&&e.hasRole("admin")?(i(),d("button",{key:2,class:"btn btn-danger mr-2",onClick:l=>e.forceDelete(a.id),title:"Удалить на совсем"},bB,8,fB)):c("",!0)])])],2))),256))])])])):c("",!0),e.displayType===0?(i(!0),d(R,{key:1},J(e.bots,(a,o)=>(i(),d("div",gB,[t("div",{class:P(["card w-100",{"border-info":a.deleted_at==null,"border-secondary":a.deleted_at!=null}])},[t("div",yB,[t("p",{class:"d-flex justify-content-between",onClick:l=>e.selectBot(a),style:{"word-wrap":"break-word"}},[t("span",null,[t("i",{class:P([{"text-danger":a.deleted_at!=null},"fa-solid fa-robot mr-2"])},null,2),w(" "+v(a.bot_domain||"Не указано"),1)]),a.is_template?(i(),d("span",kB,v(a.template_description||"Шаблон без названия"),1)):c("",!0)],8,$B)]),t("div",wB,[t("button",{class:P(["btn btn-outline-danger mr-2",{"btn-danger text-white":e.inBotFav(a.id)}]),type:"button",onClick:l=>e.addToFavorite(a.id),title:"Добавить в избранное"},TB,10,CB),t("button",{class:"btn btn-outline-info mr-2",type:"button",onClick:l=>e.duplicate(a.id),title:"Дублировать"},PB,8,DB),a.deleted_at==null&&e.hasRole("admin")?(i(),d("button",{key:0,class:"btn btn-outline-info",type:"button",onClick:l=>e.addToArchive(a.id),title:"В архив"},AB,8,OB)):c("",!0),a.deleted_at!=null&&e.hasRole("admin")?(i(),d("button",{key:1,class:"btn btn-outline-info mr-2",onClick:l=>e.extractFromArchive(a.id),title:"Из архива"},zB,8,jB)):c("",!0),a.deleted_at!=null&&e.hasRole("admin")?(i(),d("button",{key:2,class:"btn btn-danger mr-2",onClick:l=>e.forceDelete(a.id),title:"Удалить на совсем"},UB,8,IB)):c("",!0)])],2)]))),256)):c("",!0),t("div",VB,[e.bots_paginate_object?(i(),Q(Ze,{key:0,onPagination_page:e.nextBots,pagination:e.bots_paginate_object},null,8,["onPagination_page","pagination"])):c("",!0)])])):(i(),d("div",YB,NB))])):c("",!0)}});export{tN as _,eN as a,cy as b,No as c};
