import{o as r,q as o,t,N as d,D as c,G as h,z as m}from"./index.es-49ee4a70.js";import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";const u={props:["token","param"],data(){return{channelLink:null}},mounted(){},methods:{checkLink(){this.channelLink.indexOf("https://t.me/")!==-1&&(this.channelLink="@"+(this.channelLink.split("https://t.me/")[1]||this.channelLink))},requestTelegramChannelId(){this.$store.dispatch("requestTelegramChannelId",{dataObject:{token:this.token,channel:this.channelLink}}).then(n=>{n.ok&&this.$emit("callback",{param:this.param||null,text:n.result.chat.id}),n.ok||(this.$notify({title:"Конструктор ботов",text:n.description,type:"error"}),this.$emit("callback",{param:this.param||null,text:null}))}).catch(()=>{})}}},k={class:"dropdown"},_=t("button",{class:"btn btn-link dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[t("i",{class:"fa-brands fa-telegram"})],-1),b={class:"dropdown-menu item-with-text cursor-pointer text-muted p-2"},f={key:0,class:"alert alert-danger mb-2",role:"alert"},g=["disabled"];function x(n,e,s,L,i,l){return r(),o("div",k,[_,t("div",b,[t("form",{onSubmit:e[2]||(e[2]=d((...a)=>l.requestTelegramChannelId&&l.requestTelegramChannelId(...a),["prevent"]))},[c(t("input",{type:"text",class:"form-control mb-2",id:"search-description-text","onUpdate:modelValue":e[0]||(e[0]=a=>i.channelLink=a),onChange:e[1]||(e[1]=(...a)=>l.checkLink&&l.checkLink(...a)),placeholder:"@telegram_channel",required:""},null,544),[[h,i.channelLink]]),s.token?m("",!0):(r(),o("div",f," Вам необходимо указать тоукен бота! ")),t("button",{disabled:!s.token,class:"btn btn-outline-primary w-100"},"Узнать id канала ",8,g)],32)])])}const y=p(u,[["render",x]]);export{y as T};
