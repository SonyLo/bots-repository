import{L as w,q as i,t as a,v as e,H as b,J as _,A as h,D as c,y as d,F as f,C as v,x as u,R as V,P as F,M as C,S as M,T as j,G as B,Y as E,B as x,O as q,u as S,a0 as T,N as I,K as P}from"./index.es-71d37bd0.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                 */const L={props:["bot"],data(){return{isEdit:!1,messages:[],load:!1,confirm:!1,step:0,botUser:null,botUserForm:{id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:null,blocked_message:null},managerForm:{name:null,phone:null,email:null,image:null,birthday:null,city:null,country:null,address:null,sex:!0,referral:null,strengths:[""],weaknesses:[""],educations:[""],social_links:[""],skills:[{title:null,value:50}],info:null}}},watch:{getSelf:function(){this.prepareManager()}},mounted(){this.prepareManager()},computed:{tg(){return window.Telegram.WebApp},getSelf(){return window.profile},currentBot(){return window.currentBot},isManagerVerified(){return!(!this.botUser||!this.botUser.manager)}},methods:{prepareManager(){this.botUser=this.getSelf,this.managerForm.name=this.botUser.name||this.botUser.fio_from_telegram||null,this.managerForm.phone=this.botUser.phone||null,this.managerForm.email=this.botUser.email||null,this.managerForm.birthday=this.botUser.birthday||null,this.managerForm.city=this.botUser.city||null,this.managerForm.country=this.botUser.country||null,this.managerForm.address=this.botUser.address||null,this.managerForm.sex=this.botUser.sex||!0,this.botUser.manager&&(this.managerForm.social_links=this.botUser.manager.social_links||[""],this.managerForm.skills=this.botUser.manager.skills||[{title:null,value:50}],this.managerForm.weaknesses=this.botUser.manager.weaknesses||[""],this.managerForm.educations=this.botUser.manager.educations||[""],this.managerForm.strengths=this.botUser.manager.strengths||[""]),this.botUserForm.id=this.botUser.id,this.botUserForm.is_vip=this.botUser.is_vip,this.botUserForm.is_admin=this.botUser.is_admin,this.botUserForm.is_work=this.botUser.is_work,this.botUserForm.is_manager=this.botUser.is_manager,this.botUserForm.is_deliveryman=this.botUser.is_deliveryman,this.botUserForm.user_in_location=this.botUser.user_in_location,this.botUserForm.name=this.botUser.name||this.botUser.username||this.botUser.id,this.botUserForm.phone=this.botUser.phone,this.botUserForm.email=this.botUser.email,this.botUserForm.birthday=this.botUser.birthday||null,this.botUserForm.city=this.botUser.city||null,this.botUserForm.country=this.botUser.country||null,this.botUserForm.address=this.botUser.address||null,this.botUserForm.sex=this.botUser.sex||!1,this.botUserForm.is_blocked=this.botUser.blocked_at!=null,this.botUserForm.blocked_message=this.botUser.blocked_message||null},alert(n){this.messages.push(n)},removeMessage(n){this.messages.splice(n,1)},getPhoto(n){return{imageUrl:URL.createObjectURL(n)}},removePhoto(n){this.managerForm.image=null},onChangePhotos(n){const s=n.target.files;this.managerForm.image=s[0],console.log(s)},nextStep(){this.step++},remove(n,s){this.managerForm[n].splice(s,1)},add(n){n!=="skills"?this.managerForm[n].push(""):this.managerForm[n].push({title:null,value:50})},submitBotUser(){this.$store.dispatch("updateBotUser",{botUserForm:this.botUserForm}).then(()=>{this.isEdit=!1,this.messages=[],this.botUserForm={id:null,is_vip:!1,is_admin:!1,is_work:!1,is_manager:!1,is_deliveryman:!1,user_in_location:!1,name:null,phone:null,email:null,birthday:null,age:null,city:null,country:null,address:null,sex:null,is_blocked:!1},this.$emit("update"),this.$botNotification.notification("Редактирование данных","Данные успешно обновлены!")}).catch(()=>{this.$botNotification.warning("Редактирование данных","Ошибка обновления данных")})},submitManager(){this.loading=!0;let n=new FormData;Object.keys(this.managerForm).forEach(s=>{const p=this.managerForm[s]||"";typeof p=="object"?n.append(s,JSON.stringify(p)):n.append(s,p)}),n.set("image",this.managerForm.image),n.append("bot_id",this.bot.id),n.append("bot_user_id",this.botUser.id),this.$store.dispatch("saveManager",n).then(s=>{window.location.reload()}).catch(()=>{this.loading=!1})}}},o=n=>(M("data-v-c47a006c"),n=n(),j(),n),D={key:0,class:"card mb-2"},N={key:0,class:"card-body"},O={class:"col-12 d-flex justify-content-center mb-3"},R={class:"img-avatar"},A={class:"img-avatar"},z={class:"col-12"},G=o(()=>e("p",{class:"mb-3"},[e("em",null,[c("Приветствую Вас, "),e("strong",null,"Дорогой друг!"),c(" Я хочу поздравить Вас и дать возможность получать неограниченные заработка вместе с нашим сервисом! Для начала нам нужно с Вами познакомиться - это поможет нам понимать с кем мы становимся крепкими друзьями! Я задам Вам два блока вопросов - по легче - вопросы общего плана и по сложнее - вопросы профессиональной сферы.")])],-1)),J=o(()=>e("h6",{class:"text-center"},"Как мне к Вам обращаться?",-1)),W={class:"input-style input-style-2"},H={class:"col-12"},K=o(()=>e("p",{class:"mb-3"},"Загрузи свой персональное фото, мы же должны знать в лицо наших сотрудников",-1)),Y={class:"photo-preview d-flex justify-content-center flex-wrap w-100"},Q={for:"bot-photos",style:{"margin-right":"10px"},class:"photo-loader ml-2"},Z=o(()=>e("span",null,"+",-1)),$={key:0,class:"mb-2 img-preview",style:{"margin-right":"10px"}},ee={class:"remove"},te=o(()=>e("i",{class:"fa-regular fa-trash-can"},null,-1)),se=[te],oe={class:"col-12"},re=o(()=>e("h4",{class:"text-center my-5 text-primary"}," Общий блок вопросов ",-1)),ne={key:0,class:"mb-3"},le=o(()=>e("h6",{class:"text-center"},"Введите свой номер телефона",-1)),ie={class:"input-style input-style-2"},ae={class:"col-12"},ce=o(()=>e("p",{class:"mb-3"},[e("em",null,"Для своевременного оповещения Вас о наших нововведениях мы используем рассылку через email. Вам необходимо указать его для удобства получения актуальной информации и отчетов о Вашей работе и доходе.")],-1)),de=o(()=>e("h6",{class:"text-center"},"Введите свой email адрес",-1)),me={class:"input-style input-style-2"},he={class:"col-12"},ue=o(()=>e("p",{class:"mb-3"},[e("em",null,"Для связи с Вами нам также понадобятся ссылки на Ваши социальные сети!")],-1)),be=o(()=>e("h6",{class:"text-center"},"Ссылки на ваши соц. сети",-1)),_e={class:"input-group position-relative mb-2"},pe=["onUpdate:modelValue","aria-label","aria-describedby"],ge={key:0,class:"input-group-text bg-primary"},fe=["onClick"],ve=o(()=>e("i",{class:"fa-regular fa-square-minus"},null,-1)),ye=[ve],ke={class:"col-12"},Ue=o(()=>e("p",{class:"mb-3"},[e("em",null,"Чтобы я мог обращаться к Вам правильно, скажи мне, какого Вы пола?")],-1)),we=o(()=>e("h6",{class:"text-center"},"Вы мужчина или женщина?",-1)),Fe={class:"row mb-0"},xe={class:"col-6 p-3"},Ce=o(()=>e("i",{class:"fa-solid fa-mars font-28"},null,-1)),Ve=o(()=>e("span",{class:"text-center text-uppercase my-2"},"Мужчина",-1)),Me=[Ce,Ve],je={class:"col-6 p-3"},Be=o(()=>e("i",{class:"fa-solid fa-mars font-28"},null,-1)),Ee=o(()=>e("span",{class:"text-center text-uppercase my-2"},"Женщина",-1)),qe=[Be,Ee],Se={class:"col-12"},Te=o(()=>e("p",{class:"mb-3"},[e("em",null,"Для того, чтобы я мог поздравлять Вас с днем рождения и сделать Вам приятно, мне нужно знать, когда он у Вас")],-1)),Ie=o(()=>e("h6",{class:"text-center"},"Введите свой день рождения",-1)),Pe={class:"input-style input-style-2"},Xe={class:"col-12"},Le=o(()=>e("p",{class:"mb-3"},[e("em",null,"Чтобы я мог показывать Вам информацию, актуальную для Вашего города, мне нужно знать город Вашего проживания\\работы.")],-1)),De=o(()=>e("h6",{class:"text-center"},"Какой у Вас город?",-1)),Ne={class:"input-style input-style-2"},Oe=C('<datalist id="datalistCityOptions" data-v-c47a006c><option value="Краснодар" data-v-c47a006c></option><option value="Ростов-на-Дону" data-v-c47a006c></option><option value="Таганрог" data-v-c47a006c></option><option value="Донецк" data-v-c47a006c></option><option value="Москва" data-v-c47a006c></option></datalist>',1),Re=o(()=>e("div",{class:"col-12"},[e("h4",{class:"text-center my-5 text-primary"}," Профессиональный блок вопросов ")],-1)),Ae={class:"col-12"},ze=o(()=>e("h6",{class:"text-center"},"Полученное высшее образование",-1)),Ge=o(()=>e("p",{class:"mb-0 text-center"},[e("em",null,[c("Если еще нет высшего образования, впишите "),e("strong",{class:"text-primary"},'"нет"')])],-1)),Je={class:"input-group position-relative mb-2"},We=["onUpdate:modelValue","aria-label","aria-describedby"],He=["id"],Ke=["onClick"],Ye=o(()=>e("i",{class:"fa-regular fa-square-minus"},null,-1)),Qe=[Ye],Ze={class:"col-12"},$e=o(()=>e("h6",{class:"text-center"},"Ваши сильные стороны",-1)),et={class:"input-group position-relative mb-2"},tt=["onUpdate:modelValue","aria-label","aria-describedby"],st=["id"],ot=["onClick"],rt=o(()=>e("i",{class:"fa-regular fa-square-minus"},null,-1)),nt=[rt],lt={class:"col-12"},it=o(()=>e("p",{class:"mb-3"},[e("em",null,"Слабые стороны есть у всех! Нам нужно понимать в чем Вас стоит прокачать и в каких проблемных для Вас местах оказать помощь и т.д.")],-1)),at=o(()=>e("h6",{class:"text-center"},"Ваши слабые стороны",-1)),ct={class:"input-group position-relative mb-2"},dt=["onUpdate:modelValue","aria-label","aria-describedby"],mt=["id"],ht=["onClick"],ut=o(()=>e("i",{class:"fa-regular fa-square-minus"},null,-1)),bt=[ut],_t={class:"col-12"},pt=o(()=>e("p",{class:"mb-3"},[e("em",null,"А теперь о ваших навыка - впишите название навыка и укажите % владения навыком при помощи ползунка.")],-1)),gt=o(()=>e("h6",{class:"text-center"},"Ваши профессиональные навыки",-1)),ft={class:"mb-2"},vt={class:"input-group position-relative"},yt=["onUpdate:modelValue","aria-label","aria-describedby"],kt=["id"],Ut=["onClick"],wt=o(()=>e("i",{class:"fa-regular fa-square-minus"},null,-1)),Ft=[wt],xt={class:"range-slider bottom-15 range-slider-icons"},Ct={class:"my-2 text-center font-bold"},Vt={key:0},Mt=["onUpdate:modelValue"],jt={class:"col-12"},Bt=o(()=>e("p",{class:"mb-3"},[e("em",null,"Напишите о себе любую информацию, которая может иметь для нас значение ")],-1)),Et=o(()=>e("h6",{class:"text-center"},"Дополнительная информация",-1)),qt={class:"input-style input-style-2"},St={class:"col-12"},Tt=o(()=>e("p",{class:"mb-3"},[e("em",null,"Для того чтоб вы и ваш друг получали больше бонусов воспользуйтесь реферальной программой и введите реферальный код от вашего друга!")],-1)),It=o(()=>e("h6",{class:"text-center"},"Введите реферальный код вашего друга",-1)),Pt={class:"input-style input-style-2"},Xt={class:"col-12"},Lt=o(()=>e("p",{class:"mb-3"},[e("em",null,"Отлично! Теперь, прежде чем закончить, пожалуйста, прочитайте условия использования и дайте свое согласие на их принятие.")],-1)),Dt=o(()=>e("p",null,[c("Перед отправкой данных нужно ознакомиться с "),e("a",{href:"#"},"политикой конфиденциальности"),c(".")],-1)),Nt={class:"d-flex mb-3"},Ot={class:"pt-1"},Rt={"data-activate":"toggle-id-1",class:"font-500 font-13"},At={key:0},zt={key:1},Gt={class:"ml-auto mr-4 pr-2"},Jt={class:"custom-control ios-switch"},Wt=o(()=>e("label",{class:"custom-control-label",for:"toggle-id-1"},null,-1)),Ht=["disabled"],Kt={key:1,class:"card-body"},Yt={class:"mb-0"},Qt={class:"text-primary"},Zt={class:"mb-0"},$t={class:"text-primary"},es={class:"mb-3"},ts={class:"text-primary"},ss=C('<a href="/manager-page" class="btn btn-outline-primary w-100 mb-3" data-v-c47a006c>Перейти в ваш профиль</a><h6 class="text-center my-3" data-v-c47a006c> Ваши возможности</h6><ol class="list-group list-group-numbered" data-v-c47a006c><li class="list-group-item" data-v-c47a006c>Регистрация клиента</li><li class="list-group-item" data-v-c47a006c>Создание ботов любой конфигурации и сложности</li><li class="list-group-item" data-v-c47a006c>Выставление счетов на оплату и прием платеже за обслуживание</li><li class="list-group-item" data-v-c47a006c>Реферальная программа</li><li class="list-group-item" data-v-c47a006c>Профессиональное обучение</li><li class="list-group-item" data-v-c47a006c>Использование ресурсов компании для привлечения клиентов: маркетологи, дизайнеры, smm-специалисты, программисты </li><li class="list-group-item" data-v-c47a006c>Тех.поддержка по системе 24\\7</li></ol><h6 class="text-center my-3" data-v-c47a006c> Ваши бонусы</h6><ol class="list-group list-group-numbered" data-v-c47a006c><li class="list-group-item" data-v-c47a006c>Оплата за регистрацию клиента (после его оплаты)</li><li class="list-group-item" data-v-c47a006c>Начисление персональной скидки (сгораемой и несгораемой)</li><li class="list-group-item" data-v-c47a006c>Получение бонусных доходов с реферальной программы 1, 2 и 3 уровня: ваши друзья работают, а вы получаете доход. Доход ограничен лишь числом друзей. </li></ol>',5),os={key:1,class:"card"},rs={key:0,class:"card-body"},ns={key:0},ls=o(()=>e("i",{class:"fa-solid fa-user-pen mr-2"},null,-1)),is={key:1},as=o(()=>e("i",{class:"fa-solid fa-chevron-up mr-2"},null,-1)),cs={key:0,class:"table table-borderless rounded-sm shadow-l",style:{overflow:"hidden"}},ds=o(()=>e("thead",null,[e("tr",{class:"bg-gray1-dark"},[e("th",{scope:"col",class:"color-theme"},"Ключ"),e("th",{scope:"col",class:"color-theme"},"Значение")])],-1)),ms=o(()=>e("th",{scope:"row"},"ID в системе",-1)),hs={class:"font-weight-bold"},us=o(()=>e("th",{scope:"row"},"Дата регистрации",-1)),bs={class:"font-weight-bold"},_s=o(()=>e("th",{scope:"row"},"Телеграм ID",-1)),ps={class:"font-weight-bold"},gs=o(()=>e("th",{scope:"row"},"Имя",-1)),fs={class:"font-weight-bold"},vs=o(()=>e("th",{scope:"row"},"Имя из телеграмма",-1)),ys={class:"font-weight-bold"},ks=o(()=>e("th",{scope:"row"},"Номер телефона",-1)),Us={class:"font-weight-bold"},ws=o(()=>e("th",{scope:"row"},"Возраст",-1)),Fs={class:"font-weight-bold"},xs=o(()=>e("th",{scope:"row"},"Пол",-1)),Cs={class:"font-weight-bold"},Vs=o(()=>e("th",{scope:"row"},"Страна",-1)),Ms={class:"font-weight-bold"},js=o(()=>e("th",{scope:"row"},"Город",-1)),Bs={class:"font-weight-bold"},Es=o(()=>e("th",{scope:"row"},"Адрес",-1)),qs={class:"font-weight-bold"},Ss=o(()=>e("th",{scope:"row"},"VIP",-1)),Ts={class:"font-weight-bold"},Is=o(()=>e("th",{scope:"row"},"Менеджер",-1)),Ps={class:"font-weight-bold"},Xs=o(()=>e("th",{scope:"row"},"Доставщик",-1)),Ls={class:"font-weight-bold"},Ds=o(()=>e("th",{scope:"row"},"На работе",-1)),Ns={class:"font-weight-bold"},Os=o(()=>e("th",{scope:"row"},"В заведении",-1)),Rs={class:"font-weight-bold"},As={key:0},zs=o(()=>e("th",{scope:"row"},"Пользователь заблокирован",-1)),Gs={class:"font-weight-bold"},Js={class:"mb-0"},Ws={class:"mb-0"},Hs={class:"form-group mb-2"},Ks=o(()=>e("label",{for:""},"Ф.И.О пользователя",-1)),Ys={class:"form-group mb-2"},Qs=o(()=>e("label",{for:""},"Телефон",-1)),Zs={class:"form-group mb-2"},$s=o(()=>e("label",{for:""},"Почта",-1)),eo={class:"form-group mb-2"},to=o(()=>e("label",{for:""},"Адрес",-1)),so={class:"form-group mb-2"},oo=o(()=>e("label",{for:""},"Дата рождения",-1)),ro={class:"form-group mb-2"},no=o(()=>e("label",{for:""},"Страна",-1)),lo={class:"form-group mb-2"},io=o(()=>e("label",{for:""},"Город",-1)),ao={class:"row mb-0"},co=o(()=>e("p",{class:"col-12 mb-0"},"VIP",-1)),mo={class:"col-6"},ho=o(()=>e("i",{class:"fa-solid fa-check mr-1"},null,-1)),uo={class:"col-6"},bo=o(()=>e("i",{class:"fa-solid fa-xmark mr-1"},null,-1)),_o={class:"row mb-0"},po=o(()=>e("p",{class:"col-12 mb-0"},"Доставщик",-1)),go={class:"col-6"},fo=o(()=>e("i",{class:"fa-solid fa-check mr-1"},null,-1)),vo={class:"col-6"},yo=o(()=>e("i",{class:"fa-solid fa-xmark mr-1"},null,-1)),ko={class:"row mb-0"},Uo=o(()=>e("p",{class:"col-12 mb-0"},"Менеджер",-1)),wo={class:"col-6"},Fo=o(()=>e("i",{class:"fa-solid fa-check mr-1"},null,-1)),xo={class:"col-6"},Co=o(()=>e("i",{class:"fa-solid fa-xmark mr-1"},null,-1)),Vo={class:"row mb-0"},Mo=o(()=>e("p",{class:"col-12 mb-0"},"Работает",-1)),jo={class:"col-6"},Bo=o(()=>e("i",{class:"fa-solid fa-check mr-1"},null,-1)),Eo={class:"col-6"},qo=o(()=>e("i",{class:"fa-solid fa-xmark mr-1"},null,-1)),So={class:"row mb-0"},To=o(()=>e("p",{class:"col-12 mb-0"},"В заведении",-1)),Io={class:"col-6"},Po=o(()=>e("i",{class:"fa-solid fa-check mr-1"},null,-1)),Xo={class:"col-6"},Lo=o(()=>e("i",{class:"fa-solid fa-xmark mr-1"},null,-1)),Do={class:"row mb-0"},No=o(()=>e("p",{class:"col-12 mb-0"},"Пол",-1)),Oo={class:"col-6"},Ro=o(()=>e("i",{class:"fa-solid fa-mars mr-1"},null,-1)),Ao={class:"col-6"},zo=o(()=>e("i",{class:"fa-solid fa-venus mr-1"},null,-1)),Go={class:"alert alert-small rounded-s shadow-xl bg-red2-dark w-100",role:"alert"},Jo={class:"custom-alert-text"},Wo=["onClick"],Ho=o(()=>e("button",{type:"submit",class:"btn btn-primary mt-2 mb-1 rounded-s text-uppercase font-900 shadow-s bg-green2-dark w-100"}," Сохранить ",-1)),Ko=o(()=>e("div",{class:"divider divider-small my-3 bg-highlight"},null,-1));function Yo(n,s,p,k,t,m){const y=w("lazy"),U=w("mask");return i(),a(f,null,[t.botUser?(i(),a("div",D,[m.isManagerVerified?(i(),a("div",Kt,[e("p",Yt,[c("Ваш баланс: "),e("strong",Qt,d(t.botUser.manager.balance||0)+" ₽",1)]),e("p",Zt,[c("Колл-во слотов под клиентов: "),e("strong",$t,d(t.botUser.manager.max_company_slot_count||0)+" ед.",1)]),e("p",es,[c("Колл-во слотов под ботов у клиента: "),e("strong",ts,d(t.botUser.manager.max_bot_slot_count||0)+" ед.",1)]),ss])):(i(),a("div",N,[e("form",{onSubmit:s[17]||(s[17]=F((...r)=>m.submitManager&&m.submitManager(...r),["prevent"])),class:"row mb-0"},[e("div",O,[e("div",R,[b(e("img",A,null,512),[[y,"/images/manager.png"]])])]),e("div",z,[G,J,e("div",W,[b(e("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Петров Петр Семенович","aria-label":"managerForm-name","onUpdate:modelValue":s[0]||(s[0]=r=>t.managerForm.name=r),"aria-describedby":"managerForm-name",required:""},null,512),[[_,t.managerForm.name]])])]),e("div",H,[K,e("div",Y,[e("label",Q,[Z,e("input",{type:"file",id:"bot-photos",accept:"image/*",onChange:s[1]||(s[1]=(...r)=>m.onChangePhotos&&m.onChangePhotos(...r)),style:{display:"none"}},null,32)]),t.managerForm.image?(i(),a("div",$,[b(e("img",null,null,512),[[y,m.getPhoto(t.managerForm.image).imageUrl]]),e("div",ee,[e("a",{onClick:s[2]||(s[2]=r=>m.removePhoto())},se)])])):h("",!0)])]),e("div",oe,[re,t.managerForm.name?(i(),a("p",ne,[e("em",null,[c("- Отлично, "),e("strong",null,d(t.managerForm.name),1),c("! А теперь, чтобы Вы могли пользоваться всеми моими функциями, мне нужен Ваш номер телефона. Можете ввести его?")])])):h("",!0),le,e("div",ie,[b(e("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[3]||(s[3]=r=>t.managerForm.phone=r),placeholder:"+7(000)000-00-00","aria-label":"managerForm-phone","aria-describedby":"managerForm-phone",required:""},null,512),[[U,"+7(###)###-##-##"],[_,t.managerForm.phone]])])]),e("div",ae,[ce,de,e("div",me,[b(e("input",{type:"email",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[4]||(s[4]=r=>t.managerForm.email=r),placeholder:"inbox@your-cashman.com","aria-label":"managerForm-phone","aria-describedby":"managerForm-email",required:""},null,512),[[_,t.managerForm.email]])])]),e("div",he,[ue,be,(i(!0),a(f,null,v(t.managerForm.social_links,(r,l)=>(i(),a("div",_e,[b(e("input",{type:"url",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":g=>t.managerForm.social_links[l]=g,placeholder:"Ссылка на соц. сеть","aria-label":"managerForm-social-links-"+l,"aria-describedby":"managerForm-social-links-"+l,required:""},null,8,pe),[[_,t.managerForm.social_links[l]]]),l>0?(i(),a("span",ge,[e("a",{href:"javascript:void(0)",onClick:g=>m.remove("social_links",l),class:"text-white"},ye,8,fe)])):h("",!0)]))),256)),e("a",{onClick:s[5]||(s[5]=r=>m.add("social_links")),class:"d-block w-100 py-3 text-center",href:"javascript:void(0)"},"Добавить еще ссылку")]),e("div",ke,[Ue,we,e("div",Fe,[e("div",xe,[e("div",{class:u([{"btn-primary text-white":t.managerForm.sex},"btn btn-outline-secondary w-100 p-2 d-flex justify-content-between flex-column align-items-center"]),onClick:s[6]||(s[6]=r=>t.managerForm.sex=!0)},Me,2)]),e("div",je,[e("div",{class:u([{"btn-primary text-white":!t.managerForm.sex},"btn btn-outline-secondary w-100 p-2 d-flex justify-content-between flex-column align-items-center"]),onClick:s[7]||(s[7]=r=>t.managerForm.sex=!1)},qe,2)])])]),e("div",Se,[Te,Ie,e("div",Pe,[b(e("input",{type:"date",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[8]||(s[8]=r=>t.managerForm.birthday=r),"aria-label":"managerForm-birthday","aria-describedby":"managerForm-birthday",required:""},null,512),[[_,t.managerForm.birthday]])])]),e("div",Xe,[Le,De,e("div",Ne,[b(e("input",{type:"text","onUpdate:modelValue":s[9]||(s[9]=r=>t.managerForm.city=r),list:"datalistCityOptions",class:"form-control text-center font-14 p-3 rounded-s border-theme",placeholder:"Город проживания","aria-label":"managerForm-city","aria-describedby":"managerForm-city",required:""},null,512),[[_,t.managerForm.city]]),Oe])]),Re,e("div",Ae,[ze,Ge,(i(!0),a(f,null,v(t.managerForm.educations,(r,l)=>(i(),a("div",Je,[b(e("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":g=>t.managerForm.educations[l]=g,placeholder:"Название ВУЗа, специализация, уровень образования","aria-label":"managerForm-educations-"+l,"aria-describedby":"managerForm-educations-"+l,required:""},null,8,We),[[_,t.managerForm.educations[l]]]),l>0?(i(),a("span",{key:0,class:"input-group-text bg-primary",id:"managerForm-educations-"+l},[e("a",{href:"javascript:void(0)",onClick:g=>m.remove("educations",l),class:"text-white"},Qe,8,Ke)],8,He)):h("",!0)]))),256)),e("a",{onClick:s[10]||(s[10]=r=>m.add("educations")),class:"d-block w-100 py-3 text-center",href:"javascript:void(0)"},"Добавить еще высшее образование")]),e("div",Ze,[$e,(i(!0),a(f,null,v(t.managerForm.strengths,(r,l)=>(i(),a("div",et,[b(e("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":g=>t.managerForm.strengths[l]=g,placeholder:"Ваше сильное качество","aria-label":"managerForm-strengths-"+l,"aria-describedby":"managerForm-strengths-"+l,required:""},null,8,tt),[[_,t.managerForm.strengths[l]]]),l>0?(i(),a("span",{key:0,class:"input-group-text bg-primary",id:"managerForm-strengths-"+l},[e("a",{href:"javascript:void(0)",onClick:g=>m.remove("strengths",l),class:"text-white"},nt,8,ot)],8,st)):h("",!0)]))),256)),e("a",{onClick:s[11]||(s[11]=r=>m.add("strengths")),class:"d-block w-100 py-3 text-center",href:"javascript:void(0)"},"Добавить еще сильные стороны")]),e("div",lt,[it,at,(i(!0),a(f,null,v(t.managerForm.weaknesses,(r,l)=>(i(),a("div",ct,[b(e("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":g=>t.managerForm.weaknesses[l]=g,placeholder:"Ваша слабая сторона","aria-label":"managerForm-weaknesses-"+l,"aria-describedby":"managerForm-weaknesses-"+l,required:""},null,8,dt),[[_,t.managerForm.weaknesses[l]]]),l>0?(i(),a("span",{key:0,class:"input-group-text bg-primary",id:"managerForm-weaknesses-"+l},[l>0?(i(),a("a",{key:0,href:"javascript:void(0)",onClick:g=>m.remove("weaknesses",l),class:"text-white"},bt,8,ht)):h("",!0)],8,mt)):h("",!0)]))),256)),e("a",{onClick:s[12]||(s[12]=r=>m.add("weaknesses")),class:"d-block w-100 py-3 text-center",href:"javascript:void(0)"},"Добавить еще слабые стороны")]),e("div",_t,[pt,gt,(i(!0),a(f,null,v(t.managerForm.skills,(r,l)=>(i(),a("div",ft,[e("div",vt,[b(e("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":g=>t.managerForm.skills[l].title=g,placeholder:"Название навыка","aria-label":"managerForm-skills-"+l,"aria-describedby":"managerForm-skills-"+l,required:""},null,8,yt),[[_,t.managerForm.skills[l].title]]),l>0?(i(),a("span",{key:0,class:"input-group-text bg-primary",id:"managerForm-skills-"+l},[l>0?(i(),a("a",{key:0,href:"javascript:void(0)",onClick:g=>m.remove("skills",l),class:"text-white"},Ft,8,Ut)):h("",!0)],8,kt)):h("",!0)]),e("div",xt,[e("p",Ct,[t.managerForm.skills[l].title?(i(),a("span",Vt,d(t.managerForm.skills[l].title)+" прокачан на ",1)):h("",!0),c(d(t.managerForm.skills[l].value)+"% ",1)]),b(e("input",{class:"form-range w-100",max:"100","onUpdate:modelValue":g=>t.managerForm.skills[l].value=g,type:"range"},null,8,Mt),[[_,t.managerForm.skills[l].value]])])]))),256)),e("a",{onClick:s[13]||(s[13]=r=>m.add("skills")),class:"d-block w-100 py-3 text-center",href:"javascript:void(0)"},"Добавить еще навык")]),e("div",jt,[Bt,Et,e("div",qt,[b(e("textarea",{type:"text",class:"form-control text-left font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[14]||(s[14]=r=>t.managerForm.info=r),placeholder:"Дополнительная информация",style:{"min-height":"200px"},"aria-label":"managerForm-referral","aria-describedby":"managerForm-info"},`
                        `,512),[[_,t.managerForm.info]])])]),e("div",St,[Tt,It,e("div",Pt,[b(e("input",{type:"text",class:"form-control text-center font-14 p-3 rounded-s border-theme","onUpdate:modelValue":s[15]||(s[15]=r=>t.managerForm.referral=r),placeholder:"Реферальный код","aria-label":"managerForm-referral","aria-describedby":"managerForm-referral"},null,512),[[_,t.managerForm.referral]])])]),e("div",Xt,[Lt,Dt,e("div",Nt,[e("div",Ot,[e("p",Rt,[t.managerForm.sex?h("",!0):(i(),a("span",At,"С правилами ознакомилась")),t.managerForm.sex?(i(),a("span",zt,"С правилами ознакомлен")):h("",!0)])]),e("div",Gt,[e("div",Jt,[b(e("input",{"onUpdate:modelValue":s[16]||(s[16]=r=>t.confirm=r),type:"checkbox",class:"ios-input",id:"toggle-id-1"},null,512),[[V,t.confirm]]),Wt])])]),e("button",{type:"submit",disabled:!t.confirm||t.load,class:"btn btn-primary mb-2 text-uppercase w-100"}," Отправить анкету ",8,Ht)])],32)]))])):h("",!0),m.isManagerVerified?(i(),a("div",os,[t.botUser?(i(),a("div",rs,[e("a",{href:"javascript:void(0)",onClick:s[18]||(s[18]=r=>t.isEdit=!t.isEdit),class:"btn btn-info mb-2 font-900 w-100"},[t.isEdit?(i(),a("span",is,[as,c(" Завершить редактирование")])):(i(),a("span",ns,[ls,c(" Редактировать данные о себе")]))]),t.isEdit?h("",!0):(i(),a("table",cs,[ds,e("tbody",null,[e("tr",null,[ms,e("td",hs,d(t.botUser.id||"Не указано"),1)]),e("tr",null,[us,e("td",bs,d(n.$filters.current(t.botUser.created_at)),1)]),e("tr",null,[_s,e("td",ps,d(t.botUser.telegram_chat_id||"Не указано"),1)]),e("tr",{class:u({"bg-red1-light":t.botUser.name==null})},[gs,e("td",fs,d(t.botUser.name||"Не указано"),1)],2),e("tr",null,[vs,e("td",ys,d(t.botUser.fio_from_telegram||"Не указано"),1)]),e("tr",{class:u({"bg-red1-light":t.botUser.phone==null})},[ks,e("td",Us,d(t.botUser.phone||"Не указано"),1)],2),e("tr",{class:u({"bg-red1-light":t.botUser.age==null})},[ws,e("td",Fs,d(t.botUser.age||"Не указано"),1)],2),e("tr",null,[xs,e("td",Cs,d(t.botUser.sex?"Мужчина":"Женщина"),1)]),e("tr",{class:u({"bg-red1-light":t.botUser.country==null})},[Vs,e("td",Ms,d(t.botUser.country||"Не указано"),1)],2),e("tr",{class:u({"bg-red1-light":t.botUser.city==null})},[js,e("td",Bs,d(t.botUser.city||"Не указано"),1)],2),e("tr",{class:u({"bg-red1-light":t.botUser.address==null})},[Es,e("td",qs,d(t.botUser.address||"Не указано"),1)],2),e("tr",null,[Ss,e("td",Ts,d(t.botUser.is_vip?"Да":"Нет"),1)]),e("tr",null,[Is,e("td",Ps,d(t.botUser.is_manager?"Да":"Нет"),1)]),e("tr",null,[Xs,e("td",Ls,d(t.botUser.is_deliveryman?"Да":"Нет"),1)]),e("tr",null,[Ds,e("td",Ns,d(t.botUser.is_work?"Да":"Нет"),1)]),e("tr",null,[Os,e("td",Rs,d(t.botUser.user_in_location?"Да":"Нет"),1)]),t.botUser.blocked_at?(i(),a("tr",As,[zs,e("td",Gs,[e("p",Js,d(n.$filters.current(t.botUser.blocked_at)),1),e("p",Ws,[e("em",null,d(t.botUser.blocked_message??"Без сообщения"),1)])])])):h("",!0)])])),t.isEdit?(i(),a("form",{key:1,onSubmit:s[40]||(s[40]=F((...r)=>m.submitBotUser&&m.submitBotUser(...r),["prevent"]))},[e("div",Hs,[Ks,b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[19]||(s[19]=r=>t.botUserForm.name=r),onInvalid:s[20]||(s[20]=r=>m.alert("Вы не указали имя!")),placeholder:"Иванов Иван Иванович",required:""},null,544),[[_,t.botUserForm.name]])]),e("div",Ys,[Qs,b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[21]||(s[21]=r=>t.botUserForm.phone=r),onInvalid:s[22]||(s[22]=r=>m.alert("Вы не указали телефон!")),placeholder:"+7(XXX) XXX-XX-XX",required:""},null,544),[[_,t.botUserForm.phone],[U,"+7(###)###-##-##"]])]),e("div",Zs,[$s,b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[23]||(s[23]=r=>t.botUserForm.email=r),placeholder:"example@gmail.com"},null,512),[[_,t.botUserForm.email]])]),e("div",eo,[to,b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[24]||(s[24]=r=>t.botUserForm.address=r),placeholder:"ул. Петрова, 123, кв 45"},null,512),[[_,t.botUserForm.address]])]),e("div",so,[oo,b(e("input",{type:"date",class:"form-control","onUpdate:modelValue":s[25]||(s[25]=r=>t.botUserForm.birthday=r),placeholder:"12/01/2023"},null,512),[[_,t.botUserForm.birthday]])]),e("div",ro,[no,b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[26]||(s[26]=r=>t.botUserForm.country=r),placeholder:"Россия"},null,512),[[_,t.botUserForm.country]])]),e("div",lo,[io,b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[27]||(s[27]=r=>t.botUserForm.city=r),placeholder:"Краснодар"},null,512),[[_,t.botUserForm.city]])]),e("div",ao,[co,e("div",mo,[e("button",{type:"button",onClick:s[28]||(s[28]=r=>t.botUserForm.is_vip=!0),class:u([{"bg-success text-white":t.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_vip},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[ho,c(" Да ")],2)]),e("div",uo,[e("button",{type:"button",onClick:s[29]||(s[29]=r=>t.botUserForm.is_vip=!1),class:u([{"bg-success text-white":!t.botUserForm.is_vip,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_vip},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[bo,c(" Нет ")],2)])]),e("div",_o,[po,e("div",go,[e("button",{type:"button",onClick:s[30]||(s[30]=r=>t.botUserForm.is_deliveryman=!0),class:u([{"bg-success  text-white":t.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_deliveryman},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[fo,c(" Да ")],2)]),e("div",vo,[e("button",{type:"button",onClick:s[31]||(s[31]=r=>t.botUserForm.is_deliveryman=!1),class:u([{"bg-success  text-white":!t.botUserForm.is_deliveryman,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_deliveryman},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[yo,c(" Нет ")],2)])]),e("div",ko,[Uo,e("div",wo,[e("button",{type:"button",onClick:s[32]||(s[32]=r=>t.botUserForm.is_manager=!0),class:u([{"bg-success  text-white":t.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_manager},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[Fo,c(" Да ")],2)]),e("div",xo,[e("button",{type:"button",onClick:s[33]||(s[33]=r=>t.botUserForm.is_manager=!1),class:u([{"bg-success  text-white":!t.botUserForm.is_manager,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_manager},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[Co,c(" Нет ")],2)])]),e("div",Vo,[Mo,e("div",jo,[e("button",{type:"button",onClick:s[34]||(s[34]=r=>t.botUserForm.is_work=!0),class:u([{"bg-success  text-white":t.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.is_work},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[Bo,c(" Да ")],2)]),e("div",Eo,[e("button",{type:"button",onClick:s[35]||(s[35]=r=>t.botUserForm.is_work=!1),class:u([{"bg-success  text-white":!t.botUserForm.is_work,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.is_work},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[qo,c(" Нет ")],2)])]),e("div",So,[To,e("div",Io,[e("button",{type:"button",onClick:s[36]||(s[36]=r=>t.botUserForm.user_in_location=!0),class:u([{"bg-success  text-white":t.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.user_in_location},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[Po,c(" Да ")],2)]),e("div",Xo,[e("button",{type:"button",onClick:s[37]||(s[37]=r=>t.botUserForm.user_in_location=!1),class:u([{"bg-success  text-white":!t.botUserForm.user_in_location,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.user_in_location},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[Lo,c(" Нет ")],2)])]),e("div",Do,[No,e("div",Oo,[e("button",{type:"button",onClick:s[38]||(s[38]=r=>t.botUserForm.sex=!0),class:u([{"bg-success  text-white":t.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":!t.botUserForm.sex},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[Ro,c(" Муж ")],2)]),e("div",Ao,[e("button",{type:"button",onClick:s[39]||(s[39]=r=>t.botUserForm.sex=!1),class:u([{"bg-success  text-white":!t.botUserForm.sex,"bg-theme border-green1-dark color-green1-dark":t.botUserForm.sex},"w-100 btn btn-outline-secondary mb-3 rounded-sm text-uppercase font-900"])},[zo,c(" Жен ")],2)])]),t.messages.length>0?(i(!0),a(f,{key:0},v(t.messages,(r,l)=>(i(),a("div",Go,[e("p",Jo,d(r||"Ошибка"),1),e("button",{type:"button",onClick:g=>m.removeMessage(l),class:"close color-white opacity-60 font-16"},"× ",8,Wo)]))),256)):h("",!0),Ho,Ko],32)):h("",!0)])):h("",!0)])):h("",!0)],64)}const Qo=X(L,[["render",Yo],["__scopeId","data-v-c47a006c"]]);const Zo=e("title",null,"Кабинет администратора",-1),$o=e("meta",{name:"description",content:"Кабинет администратора<"},null,-1),er={key:0,class:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow"},tr={class:"navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6 cursor-pointer align-items-center d-flex","data-bs-toggle":"modal","data-bs-target":"#selected-company-bot-info"},sr={key:0,style:{"font-size":"12px","margin-left":"10px"}},or=["href"],rr=e("button",{class:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),nr={class:"navbar-nav d-flex justify-content-center align-items-center flex-row"},lr=e("div",{class:"nav-item text-nowrap"},[e("a",{class:"nav-link px-3","data-bs-toggle":"offcanvas",role:"button",href:"#profile-sidebar"},[e("i",{class:"fa-solid fa-user"}),c(" Профиль")])],-1),ir={class:"nav-item text-nowrap"},ar=e("i",{class:"fa-solid fa-mug-hot"},null,-1),cr={class:"nav-item text-nowrap"},dr=e("i",{class:"fa-solid fa-robot"},null,-1),mr={key:0,class:"nav-item text-nowrap"},hr=e("i",{class:"fa-solid fa-scroll"},null,-1),ur=e("div",{class:"navbar-nav d-none d-md-block"},[e("div",{class:"nav-item text-nowrap"},[e("a",{class:"nav-link px-3",href:"/logout"},"Выход")])],-1),br={class:"container-fluid"},_r={class:"row"},pr={class:"col-md-12 ms-sm-auto col-lg-12 px-md-4"},gr={class:"pt-3 pb-2 mb-3"},fr={class:"modal fade",id:"selected-company-bot-info",tabindex:"-1","aria-labelledby":"open-construct-label","aria-hidden":"true"},vr={class:"modal-dialog"},yr={class:"modal-content"},kr=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"open-construct-label"},"У вас выбрано"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ur={class:"modal-body"},wr={key:0,class:"card border-info mb-2"},Fr={class:"card-body"},xr=e("p",null,"У Вас выбран клиент:",-1),Cr={class:"d-flex justify-content-between w-100"},Vr=e("i",{class:"fa-solid fa-xmark"},null,-1),Mr=[Vr],jr={key:1,class:"card border-info"},Br={class:"card-body"},Er=e("p",null,"У Вас выбран бот:",-1),qr={class:"d-flex justify-content-between w-100"},Sr=["href"],Tr=e("i",{class:"fa-solid fa-xmark"},null,-1),Ir=[Tr],Pr=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Xr=e("div",{class:"theme-switcher"},[e("button",{id:"switch-theme","data-bs-toggle":"modal","data-bs-target":"#theme-switch-modal",class:"btn btn-primary"},[e("i",{class:"fa-solid fa-palette"})])],-1),Lr={class:"modal",id:"theme-switch-modal",tabindex:"-1"},Dr={class:"modal-dialog"},Nr={class:"modal-content"},Or=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Выбор темы оформления"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Rr={class:"modal-body"},Ar={class:"list-group"},zr=["onClick"],Gr=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Закрыть")],-1),Jr={class:"offcanvas offcanvas-start",tabindex:"-1",id:"profile-sidebar","aria-labelledby":"offcanvasExampleLabel"},Wr=e("div",{class:"offcanvas-header"},[e("h5",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"Ваш профиль"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Закрыть"})],-1),Hr={class:"offcanvas-body"},Kr={props:["active","needMenu"],data(){return{load:!1,bot:null,is_chat_open:!1,currentTheme:"",company:null,themes:[{title:"Тема 1",href:"/theme1.bootstrap.min.css"},{title:"Тема 2",href:"/theme2.bootstrap.min.css"},{title:"Тема 3",href:"/theme3.bootstrap.min.css"},{title:"Тема 4",href:"/theme4.bootstrap.min.css"},{title:"Тема 5",href:"/theme5.bootstrap.min.css"},{title:"Тема 6",href:"/theme6.bootstrap.min.css"},{title:"Тема 7",href:"/theme7.bootstrap.min.css"},{title:"Тема 8",href:"/theme8.bootstrap.min.css"},{title:"Тема 9",href:"/theme9.bootstrap.min.css"},{title:"Тема 10",href:"/theme10.bootstrap.min.css"},{title:"Тема 11",href:"/theme11.bootstrap.min.css"},{title:"Тема 12",href:"/theme12.bootstrap.min.css"},{title:"Тема 13",href:"/theme13.bootstrap.min.css"},{title:"Тема 14",href:"/theme14.bootstrap.min.css"},{title:"Тема 15",href:"/theme15.bootstrap.min.css"},{title:"Тема 16",href:"/theme16.bootstrap.min.css"}]}},computed:{...B(["getErrors","getCurrentBot","getCurrentCompany"])},watch:{getErrors:function(n,s){Object.keys(n).forEach(p=>{this.$notify({title:"Конструктор ботов",text:n[p],type:"warn"})})}},mounted(){this.loadCurrentCompany(),this.loadCurrentBot();let n=localStorage.getItem("cashman_global_admin_theme")||null;n&&this.$nextTick(()=>{this.currentTheme=n}),window.addEventListener("store_current_bot-change-event",s=>{this.bot=this.getCurrentBot}),window.addEventListener("store_current_company-change-event",s=>{this.company=this.getCurrentCompany})},methods:{hasRole(n){return window.hasRole(n)||!1},switchTheme(n){let s=document.querySelector("#theme");s.href=this.themes[n].href,localStorage.setItem("cashman_global_admin_theme",s.href),this.$nextTick(()=>{this.currentTheme=s.href})},loadCurrentCompany(n=null){this.$store.dispatch("updateCurrentCompany",{company:n}).then(()=>{this.company=this.getCurrentCompany})},loadCurrentBot(n=null){this.$store.dispatch("updateCurrentBot",{bot:n}).then(()=>{this.bot=this.getCurrentBot})},resetCompany(){this.$store.dispatch("resetCurrentCompany").then(()=>{this.company=null,window.dispatchEvent(new CustomEvent("store_current_company-change-event"))})},resetBot(){this.$store.dispatch("resetCurrentBot").then(()=>{this.bot=null,window.dispatchEvent(new CustomEvent("store_current_bot-change-event"))})},stopAllDialogs(){this.$store.dispatch("stopDialogs").then(n=>{this.$notify({title:"Конструктор ботов",text:"Все диалоги остановлены",type:"success"})}).catch(n=>{})},reloadWebhooks(){this.load=!0,this.$notify({title:"Конструктор ботов",text:"Процедура обновления зависимостей началась"}),axios.get("/bot/register-webhooks").then(()=>{this.load=!1,this.$notify({title:"Конструктор ботов",text:"Зависимости успешно обновлены!",type:"success"})}).catch(()=>{this.load=!1,this.$notify({title:"Конструктор ботов",text:"Неудалось обновить зависимости",type:"error"})})}}},$r=Object.assign(Kr,{__name:"MainAdminLayout",setup(n){return(s,p)=>{const k=E("notifications");return i(),a(f,null,[x(S(T),null,{default:q(()=>[Zo,$o]),_:1}),x(k,{position:"top right"}),n.needMenu?(i(),a("header",er,[e("a",tr,[c("CashMan: "),s.bot?(i(),a("span",sr,[e("a",{href:"https://t.me/"+(s.bot.bot_domain||"botfather"),target:"_blank"},d(s.bot.bot_domain||"Без имени"),9,or)])):h("",!0)]),rr,e("div",nr,[lr,e("div",ir,[e("a",{class:u(["nav-link px-3",{"border-bottom-active active":n.active==0}]),onClick:p[0]||(p[0]=t=>n.active=0),href:"/company-page"},[ar,c(" Клиенты")],2)]),e("div",cr,[e("a",{class:u(["nav-link px-3",{"border-bottom-active active":n.active==1}]),onClick:p[1]||(p[1]=t=>n.active=1),href:"/bot-page"},[dr,c(" Боты")],2)]),s.hasRole("admin")?(i(),a("div",mr,[e("a",{class:u(["nav-link px-3",{"border-bottom-active active":n.active==6}]),onClick:p[2]||(p[2]=t=>n.active=6),href:"/script-page"},[hr,c(" Скрипты")],2)])):h("",!0)]),ur])):h("",!0),e("div",br,[e("div",_r,[e("main",pr,[e("div",gr,[I(s.$slots,"default")])])])]),e("div",fr,[e("div",vr,[e("div",yr,[kr,e("div",Ur,[s.company?(i(),a("div",wr,[e("div",Fr,[xr,e("div",Cr,[e("span",null,d(s.company.title||"Без имени"),1),e("span",{onClick:p[3]||(p[3]=(...t)=>s.resetCompany&&s.resetCompany(...t))},Mr)])])])):h("",!0),s.bot?(i(),a("div",jr,[e("div",Br,[Er,e("div",qr,[e("span",null,[e("a",{href:"https://t.me/"+(s.bot.bot_domain||"botfather"),target:"_blank"},d(s.bot.bot_domain||"Без имени"),9,Sr)]),e("span",{onClick:p[4]||(p[4]=(...t)=>s.resetBot&&s.resetBot(...t))},Ir)])])])):h("",!0)]),Pr])])]),Xr,e("div",Lr,[e("div",Dr,[e("div",Nr,[Or,e("div",Rr,[e("div",Ar,[(i(!0),a(f,null,v(s.themes,(t,m)=>(i(),a("button",{type:"button",onClick:y=>s.switchTheme(m),class:u([{active:s.currentTheme.indexOf(t.href)!=-1},"list-group-item list-group-item-action"]),"aria-current":"true"},d(t.title||"-"),11,zr))),256))])]),Gr])])]),e("div",Jr,[Wr,e("div",Hr,[e("div",null,[s.bot?(i(),P(Qo,{key:0,bot:s.bot},null,8,["bot"])):h("",!0)])])])],64)}}});export{$r as _};
